import{V as $,W as Q,j as e,ai as X,B as m,aj as Z,ak as ee,al as R,am as T,an as se,H as y,I as k,ar as ae,w as te,x as M,r as h,u as oe,A as re,ah as le,c as x,hH as ne,hI as ce,hJ as ie,hK as de,hL as he,hM as ge,F as ue,p as xe,G as N,bR as z,J as E,K as me,bv as _,n as Se,T as I,m as n}from"./index-d5YOjbb6.js";var A={},be=Q;Object.defineProperty(A,"__esModule",{value:!0});var Y=A.default=void 0,je=be($()),fe=e,Te=(0,je.default)((0,fe.jsx)("path",{d:"M22 5.18 10.59 16.6l-4.24-4.24 1.41-1.41 2.83 2.83 10-10L22 5.18zM12 20c-4.41 0-8-3.59-8-8s3.59-8 8-8c1.57 0 3.04.46 4.28 1.25l1.45-1.45C16.1 2.67 14.13 2 12 2 6.48 2 2 6.48 2 12s4.48 10 10 10c1.73 0 3.36-.44 4.78-1.22l-1.5-1.5c-1 .46-2.11.72-3.28.72zm7-5h-3v2h3v3h2v-3h3v-2h-3v-3h-2v3z"}),"AddTask");Y=A.default=Te;function G({ItemList:l,clickAssign:o,HeaderArray:d,MySubject:j}){return e.jsx("div",{children:e.jsx(X,{component:m,sx:{border:"1px solid lightgrey"},children:e.jsxs(Z,{"aria-label":"simple table",children:[e.jsx(ee,{children:e.jsx(R,{sx:{background:a=>a.palette.secondary.main,color:a=>a.palette.common.white},children:d.map((a,g)=>e.jsx(T,{sx:{textTransform:"capitalize",color:S=>S.palette.common.white,py:1,width:a!=null&&a.width?a==null?void 0:a.width:"auto"},align:a!=null&&a.align?a==null?void 0:a.align:"left",children:e.jsx("b",{children:a.Header})},g))})}),e.jsx(se,{children:l.map(a=>e.jsxs(R,{children:[e.jsx(T,{sx:{textTransform:"capitalize",py:.5},children:a.Text1}),e.jsx(T,{sx:{textTransform:"capitalize",py:.5},children:a.Text2}),e.jsx(T,{sx:{textTransform:"capitalize",py:.5},align:"center",children:e.jsx(y,{title:"Add Homework",children:e.jsx(k,{sx:{color:"#223354","&:hover":{bgcolor:"grey.300"}},onClick:()=>{o({SubjectId:a.SubjectId,StandardDivisionId:a.StandardDivisionId,SubjectName:a.Text2,StandardDivision:a.Text1},j)},children:e.jsx(ae,{})})})})]},a.Id))})]})})})}const pe=()=>{let{ClassTecherId:l,ClassId:o}=te();l=M(l),o=M(o),h.useEffect(()=>{console.log(l,"ClassTecherId"),console.log(o,"ClassId")},[l,o]);const d=oe(),j=re(),a=[{Id:1,Header:"Class",width:200},{Id:2,Header:"Subject"},{Id:3,Header:"Assign",width:400,align:"center"}],g=Number(localStorage.getItem("localSchoolId")),S=Number(sessionStorage.getItem("TeacherId")),f=Number(sessionStorage.getItem("AcademicYearId")),B=Number(sessionStorage.getItem("ShowHomeworkToClassTeacher")),p=Number(sessionStorage.getItem("StandardDivisionId")),c=le("Assign Homework"),[i,C]=h.useState("0"),[t,w]=h.useState("0"),b=x(s=>s.TeacherNameList.TeacherList),u=x(s=>s.TeacherNameList.ClassList),v=x(s=>s.TeacherNameList.SubjectList),D=x(s=>s.TeacherNameList.SubjectList1),L=x(s=>s.TeacherNameList.IsGetSchoolSettings);console.log(L,"UsschoolSettings");const F=x(s=>s.TeacherNameList.ISGetSchoolSettingsSubjectL);h.useEffect(()=>{const s={asSchoolId:Number(g)},r={asSchoolId:g,asAcademicYearId:f,asShowHomeworkToClassTeacher:B,aTeacherId:c==="Y"?0:Number(t)},W={asSchoolId:g,asAcademicYearID:f};d(ne(s)),d(ce(s)),d(ie(r)),d(de(W))},[]),h.useEffect(()=>{console.log("TeacherList Length:",b.length),console.log("ClassTecherId:",l),console.log("AssignHomeworkPermission:",c),console.log("TeacherId:",S),b.length>0&&(l!==void 0?(console.log("Setting SelectTeacher to ClassTecherId:",l),w(l)):c!=="Y"&&(console.log("Setting SelectTeacher to TeacherId:",S.toString()),w(S.toString())))},[b]),h.useEffect(()=>{var s;if(console.log("ClassList Length:",u.length),console.log("ClassId:",o),console.log("AssignHomeworkPermission:",c),console.log("asStandardDivisionId:",p),u.length>0){if(console.log("ClassId:",o),o!==void 0)console.log("Setting SelectClass to ClassId:",o),C(o);else if(c!=="Y"&&u.length>1){let r=(s=u[1])==null?void 0:s.Id;console.log("Setting SelectClass to asStandardDivisionId:",p.toString()),C(r.toString())}}},[u]);const P={asSchoolId:g,asAcademicYearId:f,aTeacherId:Number(t)};h.useEffect(()=>{t!=="0"&&d(he(P))},[t]),h.useEffect(()=>{if(i!=="0"&&t!=="0"){const s={asSchoolId:g,aTeacherId:Number(t),asAcademicYearId:f,asStandardDivisionId:Number(i)};d(ge(s))}},[t,i]);const V=s=>{w(s==""?null:s)},q=s=>{C(s==""?null:s)},U=()=>{let s="";return u.map(r=>{r.Value==i&&(s=r.Name)}),s},J=()=>{let s="";return b.map(r=>{r.Value==t&&(s=r.Name)}),s},H=(s,r)=>{j("/RITeSchool/Teacher/AddHomeworkNew/"+n(t)+"/"+n(J())+"/"+n(s.StandardDivision)+"/"+n(s.SubjectName)+"/"+n(s.SubjectId)+"/"+n(r)+"/"+n(i),{state:{fromInternal:!0}})},K=()=>{j("/RITeSchool/Teacher/AddDailyLog/"+n(i)+"/"+n(U())+"/"+n(t),{state:{fromInternal:!0}})},O=x(s=>s.TeacherNameList.Loading);return e.jsxs(m,{sx:{px:2},children:[e.jsx(ue,{navLinks:[{title:"Assign Homework",path:"/RITeSchool/Teacher/AssignHomework"}],rightActions:e.jsx(e.Fragment,{children:e.jsxs(xe,{direction:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:"right",gap:1,sx:{mt:{xs:0,sm:0},flexWrap:{xs:"nowrap",sm:"nowrap"}},children:[e.jsx(N,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:e.jsx(z,{ItemList:b,onChange:V,defaultValue:t==null?void 0:t.toString(),label:"Select Teacher",sx:{width:{xs:"40vw",sm:"20vw"},bgcolor:c==="N"?"#F0F0F0":"inherit","& .MuiInputBase-input":{cursor:"default"}},size:"small",mandatory:!0,DisableClearable:c==="N",disabled:c==="N"})}),e.jsx(N,{item:!0,xs:12,gap:1,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:e.jsx(z,{ItemList:u,onChange:q,defaultValue:i,label:"Select Class:",sx:{width:{xs:"40vw",sm:"20vw"}},size:"small",mandatory:!0})}),e.jsxs(N,{item:!0,xs:12,sm:6,gap:1,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-end"},children:[e.jsx(y,{title:"List the class subjects for homework assignment.",children:e.jsx(k,{sx:{color:"white",backgroundColor:E[500],"&:hover":{backgroundColor:E[500]}},children:e.jsx(me,{})})}),i&&(p===Number(i)&&c==="Y"&&L==="true"||v.some(s=>s.Text5==="Y")&&L==="true")&&e.jsx(m,{children:e.jsx(y,{title:"Manage Daily Log",children:e.jsx(k,{onClick:K,sx:{color:"white",backgroundColor:_[500],"&:hover":{backgroundColor:_[600]}},children:e.jsx(Y,{})})})})]})]})})}),O?e.jsx(Se,{}):e.jsxs(m,{sx:{p:2,background:"white",display:"flex",flexDirection:"column"},children:[e.jsxs(m,{children:[e.jsxs(I,{variant:"h4",mb:1,children:[" ","My Subjects"," "]}),v.length>0?e.jsx(G,{ItemList:v,clickAssign:H,HeaderArray:a,MySubject:!0}):e.jsx(I,{variant:"body1",sx:{textAlign:"center",marginTop:1,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white"},children:e.jsx("b",{children:"No record found."})})]}),F=="True"&&e.jsxs(m,{mt:2,children:[e.jsxs(I,{variant:"h4",mb:1,children:[" ","My Class Subjects"," "]}),D.length>0?e.jsx(G,{ItemList:D,clickAssign:H,HeaderArray:a,MySubject:!1}):e.jsx(I,{variant:"body1",sx:{textAlign:"center",marginTop:1,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white"},children:e.jsx("b",{children:"No record found."})})]})]})]})};export{pe as default};
