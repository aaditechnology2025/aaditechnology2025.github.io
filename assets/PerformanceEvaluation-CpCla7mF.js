import{cj as pr,j as e,A as Ke,B as x,G as j,z as hr,gT as ur,C as mr,I as F,gU as br,T as $,p as Tr,c as b,r as c,h9 as jr,ha as vr,ag as Sr,u as Ir,E as wr,hb as se,hc as Be,t as ue,hd as Cr,he as yr,hf as Pr,m as Me,H as O,J as Ve,bv as ae,as as ne,hg as Ar,L as X,bA as We,n as Dr,aj as me,al as S,am as d,q as Re,ai as Le,c8 as ze,ak as Je,an as Ye,ae as He,hh as Xe,hi as Nr,hj as qe,hk as Qe}from"./index-d5YOjbb6.js";import{d as kr}from"./EventBusy-BCmC0CXH.js";import{D as _e,U as $r}from"./UploadDocument-D7foBb9r.js";import{Q as Ur}from"./QuestionMark-C2Y4lgD8.js";import{C as Fr}from"./CheckCircle-DJwARDWF.js";import{S as Er}from"./Save-QCBiFkbm.js";import"./CloudUpload-DJN1zp2n.js";import"./Errormessage-RPRSgLGN.js";import"./UploadDocList-BICUPjQ0.js";import"./Visibility-C0VMNowd.js";const Gr=pr(e.jsx("path",{fillRule:"evenodd",d:"M20 3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM10 17H5v-2h5v2zm0-4H5v-2h5v2zm0-4H5V7h5v2zm4.82 6L12 12.16l1.41-1.41 1.41 1.42L17.99 9l1.42 1.42L14.82 15z"}),"FactCheck"),Or=({navLinks:T,rightActions:f})=>{const B=Ke(),h=m=>{B(m,{state:{fromInternal:!0}})};return e.jsx(x,{sx:{pt:4,pb:2},children:e.jsxs(j,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(j,{item:!0,xs:12,sm:8,md:8,lg:6,children:e.jsxs(hr,{"aria-label":"breadcrumb",separator:e.jsx(ur,{fontSize:"small"}),sx:{"& .MuiBreadcrumbs-separator":{marginLeft:"4px",marginRight:"4px"}},children:[e.jsx(mr,{to:"/RITeSchool/landing/landing",color:"inherit",style:{textDecoration:"none"},children:e.jsx(F,{sx:{background:m=>m.palette.common.white,boxShadow:"0px 0px 5px 0px rgba(0,0,0,0.15)"},children:e.jsx(br,{color:"primary"})})}),T.slice(0,T.length-1).map((m,q)=>e.jsx($,{variant:"h3",fontSize:{xs:"12px",sm:"14px",md:"16px",lg:"18px"},fontWeight:"normal",color:"text.primary",sx:{cursor:"pointer","&:hover":{fontWeight:"bold"}},onClick:E=>{m.onClick?m.onClick(E):h(m.path)},children:m.title},q)),T[T.length-1]&&e.jsx($,{variant:"h3",fontSize:{xs:"12px",sm:"14px",md:"16px",lg:"18px"},color:"text.primary",children:T[T.length-1].title})]})}),e.jsx(j,{item:!0,xs:12,sm:4,md:4,lg:6,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-end"},children:e.jsx(Tr,{direction:"row",alignItems:"right",gap:1,children:f})})]})})},U=({Label:T,Text:f})=>e.jsx(e.Fragment,{children:e.jsxs(x,{mb:1,display:"flex",alignItems:"center",children:[e.jsx(x,{display:"inline-block",border:1,borderRadius:4,width:"10vw",pl:1,mr:1,sx:{width:{xs:"40vw",sm:"40vw",md:"20vw",lg:"10vw",xl:"10vw"}},children:T}),e.jsx($,{variant:"h5",component:"span",sx:{textWrap:"wrap",maxWidth:"auto"},children:f})]})}),Br=({incrDate:T})=>{var g;const f=b(v=>v.PerformanceGradeAssignment.ISlistEnableRejectButtonDetails),B=b(v=>v.PerformanceGradeAssignment.ISlistIsFinalApproverDetails),h=b(v=>v.PerformanceGradeAssignment.ISlistUserNameDetails),[m,q]=c.useState(T??"");function E(){let v=!1,I=B.filter(y=>y.Text3===sessionStorage.getItem("Id"));return I.length>0&&I[0].Text4==="True"&&(v=!0),v}return e.jsx(e.Fragment,{children:h.length>0&&e.jsxs(j,{container:!0,spacing:2,children:[e.jsx(j,{item:!0,xs:12,sm:6,children:e.jsx(U,{Label:"Status :",Text:h[0].Text3})}),e.jsx(j,{item:!0,xs:12,sm:6,children:e.jsx(U,{Label:"Year :",Text:h[0].Text11})}),e.jsx(j,{item:!0,xs:12,sm:6,children:e.jsx(U,{Label:"Name :",Text:h[0].Text1})}),e.jsx(j,{item:!0,xs:12,sm:6,children:e.jsx(U,{Label:"Post :",Text:h[0].Text2})}),e.jsx(j,{item:!0,xs:12,sm:6,children:e.jsx(U,{Label:"Employee Code :",Text:h[0].Text4})}),e.jsx(j,{item:!0,xs:12,sm:6,children:e.jsx(U,{Label:"Length Of Service :",Text:h[0].Text6})}),e.jsx(j,{item:!0,xs:12,sm:6,children:e.jsx(U,{Label:" Date of Joining :",Text:jr(h[0].Text5.split(" ")[0])})}),e.jsx(j,{item:!0,xs:12,sm:6,children:e.jsxs(x,{display:"flex",alignItems:"center",mb:1,children:[e.jsx(x,{display:"inline-block",border:1,borderRadius:4,width:"10vw",pl:1,mr:1,sx:{width:{xs:"40vw",sm:"40vw",md:"20vw",lg:"10vw",xl:"10vw"}},children:"Date of Last Increment :"}),e.jsx(x,{component:"span",sx:{display:"inline-flex",alignItems:"center"},children:E()===!1?e.jsx($,{variant:"h5",component:"span",children:h[0].Text12!==""?vr(h[0].Text12.split(" ")[0]):"-"}):e.jsx(_e,{disabled:((g=f[0])==null?void 0:g.Text5)==="1",maxDate:!0,DateValue:m,onDateChange:v=>{q(v)},label:"",size:"small",fullWidth:!1})})]})}),e.jsx(j,{item:!0,xs:12,sm:6,children:e.jsx(U,{Label:"Address :",Text:h[0].Text14})}),e.jsx(j,{item:!0,xs:12,sm:6,children:e.jsx(U,{Label:" Highest Education Qualification and Year of Passing :",Text:h[0].Text15})})]})})},Mr=()=>{const T=new Date,f=String(T.getDate()).padStart(2,"0"),B=String(T.getMonth()+1).padStart(2,"0"),h=T.getFullYear();return`${f}-${B}-${h}`},Kr=()=>{var Ee,Ge;const T=Sr(),f=Ir(),B=Ke(),{showAlert:h,closeAlert:m}=c.useContext(wr),q=Mr(),E=b(r=>r.PerformanceGradeAssignment.ISlistSchoolOrgNameDetails),g=b(r=>r.PerformanceGradeAssignment.ISlistUserNameDetails),v=b(r=>r.PerformanceGradeAssignment.ISlistDescriptionDetails),I=b(r=>r.PerformanceGradeAssignment.ISlistOriginalSkillIdDetails),y=b(r=>r.PerformanceGradeAssignment.ISlistTeacherTitleDetails),K=b(r=>r.PerformanceGradeAssignment.ISlistParameterIdDetails),Q=b(r=>r.PerformanceGradeAssignment.ISlistIsFinalApproverDetails),M=b(r=>r.PerformanceGradeAssignment.ISgradeDropDownList),be=b(r=>r.PerformanceGradeAssignment.ISAttachmentDetails),R=b(r=>r.PerformanceGradeAssignment.ISlistIsPublishedDetails),n=b(r=>r.PerformanceGradeAssignment.ISlistEnableRejectButtonDetails),oe=b(r=>r.PerformanceGradeAssignment.ISSubmitStaffPerformanceDetailsMsg),le=b(r=>r.PerformanceGradeAssignment.ISPublishStaffPerformanceDetailsMsg),ie=b(r=>r.PerformanceGradeAssignment.ISSaveStaffPerformanceEvalDetailsMsg),Ze=b(r=>r.PerformanceGradeAssignment.Loading);(Ee=y[0])==null||Ee.Text7,g[0];const{userId:i,asYear:C,status:de}=T.state||{},V=localStorage.getItem("SchoolId"),ce=sessionStorage.getItem("AcademicYearId"),w=sessionStorage.getItem("Id");sessionStorage.getItem("Id");const[xe,Te]=c.useState(""),[fe,er]=c.useState(""),[P,je]=c.useState(""),[A,ve]=c.useState(""),[rr,Se]=c.useState(!1),[tr,ge]=c.useState(null),[Vr,sr]=c.useState(""),[ar,nr]=c.useState(""),[D,pe]=c.useState({}),[or,N]=c.useState(!1),[lr,k]=c.useState(!1),[Ie,_]=c.useState(""),[we,Z]=c.useState("");c.useEffect(()=>{var r,t,s,a;g.length>0&&(Te(((r=g[0])==null?void 0:r.Text13)===""?q:(t=g[0])==null?void 0:t.Text13),er(((s=g[0])==null?void 0:s.Text12)===""||(a=g[0])==null?void 0:a.Text12))},[g]),c.useEffect(()=>{var r,t;(g==null?void 0:g.length)>0&&(ve((r=g[0])==null?void 0:r.Text9),je((t=g[0])==null?void 0:t.Text8))},[g]),c.useEffect(()=>{M.length>0&&console.log(M)},[M]);const L={asSchoolId:Number(V),asUserId:Number(i),asReportingUserId:Number(w),asYear:Number(C),asAcademicYearId:Number(ce)};c.useEffect(()=>{f(se(L)),f(Be(L)),E.length>0},[f,i,C]);function ir(){B("/RITeSchool/Teacher/PerfEvalViewReport",{state:{asYear:C,asUserId:i,fromInternal:!0}})}c.useEffect(()=>{g.length>0},[g]);function Ce(r){var s;return(s=Q.filter(a=>a.Text3===r)[0])==null?void 0:s.Text1}function z(){let r=!1,t=Q.filter(s=>s.Text3===sessionStorage.getItem("Id"));return t.length>0&&t[0].Text4==="True"&&(r=!0),r}c.useEffect(()=>{oe!==""&&(ue.success(oe),f(Cr()),f(se(L)))},[oe]),c.useEffect(()=>{le!==""&&(ue.success(le),f(yr()),f(se(L)))},[le]),c.useEffect(()=>{ie!==""&&(ue.success(ie),f(Pr()),f(se(L)))},[ie]);function G(){let r=!1,t=sessionStorage.getItem("Id");return i===t&&de==="2"&&(r=!0),r}function J(r){let t=!1,s=sessionStorage.getItem("Id");return r===s&&!Y(r)&&(t=!0),t}function ye(){var t;let r=!1;return V==="18"&&Number(C)>=51?((t=y[0])==null?void 0:t.Text7)==="2"&&(r=!0):r=!0,r}function dr(r){let t="";return M.length>0&&M.map((s,a)=>{s.Id===r&&r!=="0"?t=s.Name:s.Id===r&&r==="0"&&(t="")}),t}function Pe(r,t){let s=K.filter(a=>a.Text2===r&&a.Text5===t);return s.length>0?dr(s[0].Text3):""}function Ae(r,t){let s=K.filter(a=>a.Text2===r&&a.Text5===t);return s.length>0?s[0].Text4:""}c.useEffect(()=>{if(I.length>0){const r=I.reduce((t,s)=>(y.filter(l=>l.Text4===s.Text1).forEach(l=>{const p=K.filter(u=>u.Text2===l.Text1);if(p.length===0&&(s.Text8==="True"&&Q.forEach(u=>{const o=`${s.Text1}-${l.Text1}-0-${u.Text3}-${s.Text7}`,W=JSON.stringify({id:"0",parameterId:l.Text1,gradeId:"0",observation:"",reportingUserId:u.Text3});t[o]=W}),s.Text8==="False")){const u=`${s.Text1}-${l.Text1}-0-${i}-${s.Text7}`,o=JSON.stringify({id:"0",parameterId:l.Text1,gradeId:"0",observation:"",reportingUserId:i});t[u]=o}p.forEach(u=>{const o=`${s.Text1}-${l.Text1}-0-${u.Text5}-${s.Text7}`,W=JSON.stringify({id:"0",parameterId:u.Text2,gradeId:u.Text3,observation:u.Text4,reportingUserId:u.Text5});t[o]=W})}),t),{});pe(r)}},[I,y,K,Q,i]);const ee=r=>{try{return JSON.parse(r)}catch(t){return console.error("Failed to parse JSON:",t),null}},De=(r,t,s,a)=>{const l={gradeId:t},p={id:"0",parameterId:s,gradeId:t,observation:"",reportingUserId:a};pe(u=>{const o={...u};if(o[r]){const H={...JSON.parse(o[r]),...l};o[r]=JSON.stringify(H)}else o[r]=JSON.stringify(p);return o})},Ne=(r,t,s,a)=>{const l={observation:t},p={id:"0",parameterId:s,gradeId:"0",observation:t,reportingUserId:a};pe(u=>{const o={...u};if(o[r]){const H={...JSON.parse(o[r]),...l};o[r]=JSON.stringify(H)}else o[r]=JSON.stringify(p);return o})};function ke(r){const t=[];let s=0;return Object.entries(r).forEach(([a,l])=>{if(typeof l=="string")try{const p=JSON.parse(l),[,,,,u]=a.split("-");p.reportingUserId===w&&u==="3"&&(s++,p.gradeId==="0"&&t.push(s))}catch(p){console.error("Error parsing JSON value: ",p)}}),t.length>0?{isValidGrade:!1,errorMessage:`Grade should be selected for row(s): ${t.join(", ")}`}:{isValidGrade:!0,errorMessage:""}}function re(){for(let r in D){const t=JSON.parse(D[r]);if(r.split("-")[4]==="2"&&t.reportingUserId===w&&t.observation!=="")return!0;if(r.split("-")[4]==="2"&&t.reportingUserId!==w&&t.observation!=="")return!0}return!1}function $e(r){new DOMParser;let t="";return Object.keys(r).forEach(s=>{const a=r[s];if(typeof a=="string")try{const l=JSON.parse(a);l.reportingUserId===w&&(t+=`<StaffPerformanceObservation>
                        <Id>0</Id>
                        <StaffPerformanceEvalDetailsId>0</StaffPerformanceEvalDetailsId>
                        <ParameterId>${l.parameterId}</ParameterId>
                        <GradeId>${l.gradeId}</GradeId>
                        <ReportingUserId>${l.reportingUserId}</ReportingUserId>
                        <Observation>${l.observation}</Observation>
                      </StaffPerformanceObservation>`)}catch(l){console.error("Error parsing JSON value: ",l)}}),t="<ArrayOfStaffPerformanceObservation xmlns:xsd='http://www.w3.org/2001/XMLSchema' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'>"+t+"</ArrayOfStaffPerformanceObservation>",t}const te=()=>{let r=G();return r&&P.trim()!==""&&A.trim()!==""?!0:r===!1},Y=r=>{var s;let t=!1;if((R==null?void 0:R.length)>0){const a=R==null?void 0:R.filter(l=>l.Text3===r);a.length>0&&(((s=a[0])==null?void 0:s.Text2)==="True"?t=!0:t=!1)}return t},Ue=r=>{let t=!1;Z(""),_(""),k(!1),N(!1);const{isValidGrade:s,errorMessage:a}=ke(D);$e(D);let l=G();const p={asSchoolId:Number(V),asUpdatedById:Number(w),asUserId:Number(i),asReportingUserId:Number(w),asYear:Number(C),asPerformanceXml:$e(D),asClasses:P.toString(),asSubjects:A.toString()};return te()&&s&&re()&&(t=!0,f(Nr(p,r)),N(!1),k(!1)),l&&(P==null?void 0:P.trim())===""&&N(!0),l&&(A==null?void 0:A.trim())===""&&k(!0),s||_(a),re()||Z("Value for at least one observation should be set."),t};function cr(){let r=!1,t=G();Z(""),_(""),k(!1),N(!1);const{isValidGrade:s,errorMessage:a}=ke(D);return te()&&s&&re()&&(r=!0,N(!1),k(!1)),t&&(P==null?void 0:P.trim())===""&&N(!0),t&&(A==null?void 0:A.trim())===""&&k(!0),s||_(a),re()||Z("Value for at least one observation should be set."),r}const Fe=()=>{let r=G();const t={asSchoolId:Number(V),asUserId:Number(i),asReportingUserId:Number(w),asYear:Number(C),asIsSubmitAction:1};te()&&cr()&&(h({title:"Please Confirm",message:"This action will save and submit current details. Are you sure you want to continue?",variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onConfirm:()=>{te()&&Ue("submit")&&(f(qe(t)),N(!1),k(!1)),m()},onCancel:m}),N(!1),k(!1)),N(!!(r&&P==="")),k(!!(r&&A===""))},xr=()=>{const r={asSchoolId:Number(V),asUserId:Number(i),asReportingUserId:Number(w),asYear:Number(C),asIsSubmitAction:0};h({title:"Please Confirm",message:"This action will unsubmit current details. Are you sure you want to continue?",variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onConfirm:()=>{f(qe(r)),m()},onCancel:m})},fr=()=>{const r={asSchoolId:Number(V),asUserId:Number(i),asReportingUserId:Number(w),asYear:Number(C),asIsPublish:!0,asAcademicYearId:Number(ce),asEffectiveDate:xe,asLastIncrementDate:fe};h({title:"Please Confirm",message:"This action will publish current details. Are you sure you want to continue?",variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onConfirm:()=>{f(Qe(r)),m()},onCancel:m})},gr=()=>{const r={asSchoolId:Number(V),asUserId:Number(i),asReportingUserId:Number(w),asYear:Number(C),asIsPublish:!1,asAcademicYearId:Number(ce),asEffectiveDate:xe,asLastIncrementDate:fe};h({title:"Please Confirm",message:"This action will unpublish all published details. Are you sure you want to continue?",variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onConfirm:()=>{f(Qe(r)),m()},onCancel:m})};return e.jsxs(e.Fragment,{children:[e.jsxs(x,{sx:{px:2},children:[e.jsx(Or,{navLinks:[{title:"Performance Grade Assignment",path:`/RITeSchool/Teacher/PerformanceGradeAssignmentBaseScreen/${Me(C)}/${Me(de)}`},{title:"Performance Evaluation",path:""}],rightActions:e.jsxs(e.Fragment,{children:[e.jsx(x,{sx:{display:"flex",alignItems:"center"},children:e.jsx(O,{title:"Manage / display performance evaluation details.",children:e.jsx(F,{sx:{color:"white",backgroundColor:Ve[500],height:"36px !important",":hover":{backgroundColor:Ve[600]}},children:e.jsx(Ur,{})})})}),z()&&e.jsxs(e.Fragment,{children:[e.jsx(x,{sx:{display:"flex",alignItems:"center"},children:e.jsx(O,{title:"View Report",children:e.jsx("span",{children:e.jsx(F,{disabled:!Y(w),sx:{color:"white",backgroundColor:ae[500],"&:hover":{backgroundColor:ae[600]}},onClick:ir,children:e.jsx(Gr,{})})})})}),(n==null?void 0:n.length)>0&&e.jsx(x,{sx:{display:"flex",alignItems:"center"},children:e.jsx(O,{title:"Publish",children:e.jsx("span",{children:e.jsx(F,{disabled:!((n==null?void 0:n.length)>0&&n[0].Text4==="True"),sx:{color:"white",backgroundColor:ae[500],"&:hover":{backgroundColor:ae[600]}},onClick:fr,children:e.jsx(Fr,{})})})})})]}),z()&&(n==null?void 0:n.length)>0&&n[0].Text5==="1"&&e.jsx(O,{title:"Unpublish",children:e.jsx("span",{children:e.jsx(F,{disabled:!((n==null?void 0:n.length)>0&&n[0].Text5==="1"),sx:{color:"white",backgroundColor:ne[500],"&:hover":{backgroundColor:ne[600]}},onClick:gr,children:e.jsx(Ar,{})})})}),z()&&(n==null?void 0:n.length)>0&&n[0].Text3==="True"&&e.jsx(x,{sx:{display:"flex",alignItems:"center"},children:e.jsx(O,{title:"Submit",children:e.jsx("span",{children:e.jsx(F,{disabled:!((n==null?void 0:n.length)>0&&n[0].Text3==="True"),sx:{color:"white",backgroundColor:X[500],"&:hover":{backgroundColor:X[600]}},onClick:Fe,children:e.jsx(We,{})})})})}),!z()&&e.jsx(x,{sx:{display:"flex",alignItems:"center"},children:e.jsx(O,{title:"Submit",children:e.jsx("span",{children:e.jsx(F,{disabled:!((n==null?void 0:n.length)>0&&n[0].Text3==="True"),sx:{color:"white",backgroundColor:X[500],"&:hover":{backgroundColor:X[600]}},onClick:Fe,children:e.jsx(We,{})})})})}),z()&&n.length>0&&((Ge=n[0])==null?void 0:Ge.Text4)==="True"&&e.jsx(O,{title:"Unsubmit",children:e.jsx("span",{children:e.jsx(F,{disabled:!((n==null?void 0:n.length)>0&&n[0].Text4==="True"),sx:{color:"white",backgroundColor:ne[500],"&:hover":{backgroundColor:ne[600]}},onClick:xr,children:e.jsx(kr,{})})})}),e.jsx(x,{sx:{display:"flex",alignItems:"center"},children:e.jsx(O,{title:"Save",children:e.jsx("span",{children:e.jsx(F,{disabled:!((n==null?void 0:n.length)>0&&n[0].Text2==="True"),sx:{color:"white",backgroundColor:X[500],"&:hover":{backgroundColor:X[600]}},onClick:()=>{Ue("save")},children:e.jsx(Er,{})})})})})]})}),Ze||(I==null?void 0:I.length)===0?e.jsx(Dr,{}):e.jsxs(x,{border:1,sx:{p:2,background:"white"},children:[e.jsxs(x,{mb:1,children:[or&&e.jsx(e.Fragment,{children:e.jsx("div",{style:{color:"red",fontWeight:"bolder"},children:"Classes Taught should not be blank."})}),lr&&e.jsx("div",{style:{color:"red",fontWeight:"bolder"},children:"Teaching Subjects should not be blank."}),Ie.length>0&&e.jsx("div",{style:{color:"red",fontWeight:"bolder"},children:Ie}),we.length>0&&e.jsx("div",{style:{color:"red",fontWeight:"bolder"},children:we})]}),e.jsx(j,{container:!0,spacing:3,children:E==null?void 0:E.map((r,t)=>e.jsxs(j,{item:!0,xs:12,children:[e.jsxs(me,{children:[e.jsx(S,{sx:{backgroundColor:"#F0F0F0"},children:e.jsx(d,{align:"center",sx:{border:"1px solid black",py:1},children:e.jsx($,{variant:"h4",color:"#38548a",children:r.schoolOrgName})})}),e.jsx(S,{sx:{backgroundColor:"#F0F0F0"},children:e.jsx(d,{align:"center",sx:{border:"1px solid black",py:1},children:e.jsx($,{variant:"h4",color:"#38548a",children:r.schoolName})})}),e.jsx(S,{sx:{backgroundColor:"#F0F0F0"},children:e.jsxs(d,{align:"center",sx:{border:"1px solid black",py:1},children:["      ",e.jsx($,{variant:"h4",color:"#38548a",children:r.address})]})}),e.jsx(S,{sx:{backgroundColor:"#F0F0F0"},children:e.jsx(d,{align:"center",sx:{border:"1px solid black",py:1},children:e.jsx($,{variant:"h4",color:"#38548a",children:"Staff Performance Evaluation"})})})]}),e.jsx("br",{}),g.length>0&&g.map((s,a)=>e.jsx(x,{children:e.jsx($,{variant:"h4",color:"#38548a",children:s.Text7})})),e.jsx("br",{}),g.length>0&&g.map((s,a)=>{var l;return e.jsxs(e.Fragment,{children:[e.jsx(x,{sx:{backgroundColor:"#ffffff",display:"flex",justifyContent:"space-between",pr:7},children:e.jsx(Br,{incrDate:fe})}),e.jsxs(x,{py:1,mb:1,display:"flex",alignItems:"center",children:[e.jsx(x,{display:"inline-block",border:1,borderRadius:4,pl:1,mr:1,sx:{width:{xs:"40vw",sm:"40vw",md:"20vw",lg:"10vw",xl:"10vw"}},children:"Classes Taught :"}),e.jsx(Re,{id:"outlined-basic",value:P,required:!0,label:"",variant:"outlined",onChange:p=>{G()&&je(p.target.value)},size:"small",inputProps:{maxLength:100,readOnly:!G()},sx:{width:"76vw"}}),e.jsx("span",{style:{color:"red"},children:" *"})]}),e.jsxs(x,{py:.5,mb:1,display:"flex",alignItems:"center",children:[e.jsx(x,{display:"inline-block",border:1,borderRadius:4,width:"10vw",pl:1,mr:1,sx:{width:{xs:"40vw",sm:"40vw",md:"20vw",lg:"10vw",xl:"10vw"}},children:"Teaching Subjects :"}),e.jsx(Re,{id:"outlined-basic",value:A,required:!0,label:"",onChange:p=>{G()&&ve(p.target.value)},inputProps:{readOnly:!G()},variant:"outlined",size:"small",sx:{width:"76vw"}}),e.jsx("span",{style:{color:"red"},children:" *"})]}),z()&&e.jsxs(x,{py:1,children:[e.jsx(x,{display:"inline-flex",alignItems:"center",border:1,borderRadius:4,pl:1,mr:1,sx:{},children:"Effective From Date :"}),e.jsx(x,{component:"span",sx:{display:"inline-flex",alignItems:"center"},children:e.jsx(_e,{disabled:((l=n[0])==null?void 0:l.Text5)==="1",minDate:!0,DateValue:xe,onDateChange:p=>{Te(p)},label:"",size:"small",fullWidth:!1})})]})]})})]},r.UserId))}),ye()&&v.length>0&&e.jsx($,{variant:"h4",textAlign:"center",color:"#38548a",mt:1,mb:1,sx:{fontWeight:"800"},children:"Key To Rate"}),ye()&&v.length>0&&e.jsx(Le,{component:ze,children:e.jsxs(me,{children:[e.jsx(Je,{children:e.jsxs(S,{sx:{textAlign:"left",backgroundColor:"#19bed4"},children:[e.jsx(d,{sx:{fontWeight:"bold",color:"white",paddingTop:"10px",paddingBottom:"10px",border:"1px solid rgba(224, 224, 224, 1)"},children:"Grade"}),e.jsx(d,{sx:{fontWeight:"bold",color:"white",paddingTop:"10px",paddingBottom:"10px",border:"1px solid rgba(224, 224, 224, 1)"},children:"Description"})]})}),v.map((r,t)=>e.jsx(Ye,{children:e.jsxs(S,{children:[e.jsx(d,{sx:{paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)"},children:r.Text5}),e.jsx(d,{sx:{paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)"},children:r.Text2})]})}))]})})," ",e.jsx("br",{}),e.jsx(Le,{component:ze,children:e.jsxs(me,{children:[e.jsx(Je,{children:e.jsxs(S,{sx:{backgroundColor:"#19bed4"},children:[e.jsx(d,{sx:{textAlign:"center",fontWeight:"bold",color:"white",paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)",width:"100px"},children:"Sr. No."}),e.jsx(d,{colSpan:2,sx:{textAlign:"center",fontWeight:"bold",color:"white",paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)",minWidth:"70vw"},children:"Performance Parameter"})]})}),e.jsxs(Ye,{children:[(I==null?void 0:I.length)>0&&I.map((r,t)=>e.jsxs(He.Fragment,{children:[e.jsx(S,{sx:{backgroundColor:"#e5e7eb"},children:e.jsx(d,{colSpan:3,sx:{textAlign:"left",fontWeight:"bold",color:"black",paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)"},children:r.Text2})}),(y==null?void 0:y.length)>0&&(()=>{let s=0;return y.map((a,l)=>{var p,u;return a.Text4===r.Text1&&e.jsxs(He.Fragment,{children:[e.jsxs(S,{children:[e.jsxs(d,{sx:{textAlign:"center",paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)",borderBottom:"1px solid white"},children:[++s," "]}),e.jsx(d,{colSpan:2,sx:{paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)",fontWeight:"bolder"},children:a.Text2})]}),e.jsxs(S,{children:[e.jsx(d,{sx:{textAlign:"left",fontWeight:"bold",color:"black",paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)",borderBottom:"1px solid white"}}),e.jsx(d,{sx:{backgroundColor:"#f3f4f6",textAlign:"left",fontWeight:"bold",color:"black",paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)"},children:"Observer"}),e.jsx(d,{sx:{backgroundColor:"#f3f4f6",textAlign:"left",fontWeight:"bold",color:"black",paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)"},children:r.Text7==="2"?"Observation":"Grade"})]}),r.Text8==="False"?e.jsx(e.Fragment,{children:e.jsxs(S,{children:[e.jsx(d,{sx:{paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)"}}),e.jsx(d,{sx:{paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)"},children:Ce(i)}),e.jsxs(d,{sx:{padding:r.Text7==="2"&&J(i)?"0":"5px",border:"1px solid rgba(224, 224, 224, 1)",height:"100%"},children:[r.Text7==="2"&&J(i)?e.jsx("textarea",{maxLength:4e3,rows:3,style:{width:"100%",height:"100%",resize:"vertical",backgroundColor:"white",margin:0,padding:"5px",border:"0.5px solid #f4f4f5",boxSizing:"border-box",display:"block"},value:((p=ee(D[`${r.Text1}-${a.Text1}-0-${i}-${r.Text7}`]))==null?void 0:p.observation)??"",onChange:o=>{Ne(`${r.Text1}-${a.Text1}-0-${i}-${r.Text7}`,o.target.value,a.Text1,i)},disabled:Y(i)}):r.Text7==="2"&&Ae(a.Text1,i),r.Text7==="3"&&J(i)?e.jsx(Xe,{defaultValue:((u=ee(D[`${r.Text1}-${a.Text1}-0-${i}-${r.Text7}`]))==null?void 0:u.gradeId)??"0",ItemList:M,size:"small",disabled:Y(i),DisableClearable:!0,sx:{maxWidth:"15vw"},onChange:o=>{De(`${r.Text1}-${a.Text1}-0-${i}-${r.Text7}`,o.Value,a.Text1,i)}}):r.Text7==="3"&&Pe(a.Text1,i)]})]})}):Q.map((o,W)=>{var H,Oe;return e.jsx(e.Fragment,{children:e.jsxs(S,{children:[e.jsx(d,{sx:{paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)"}}),e.jsx(d,{sx:{paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)"},children:Ce(o.Text3)}),e.jsxs(d,{sx:{padding:r.Text7==="2"&&J(o.Text3)?"0":"5px",border:"1px solid rgba(224, 224, 224, 1)",height:"100%"},children:[r.Text7==="2"&&J(o.Text3)?e.jsx("textarea",{maxLength:4e3,rows:3,style:{width:"100%",height:"100%",resize:"vertical",backgroundColor:"white",margin:0,padding:"5px",border:"0.5px solid #f4f4f5",boxSizing:"border-box",display:"block"},value:((H=ee(D[`${r.Text1}-${a.Text1}-0-${o.Text3}-${r.Text7}`]))==null?void 0:H.observation)??"",onChange:he=>{Ne(`${r.Text1}-${a.Text1}-0-${o.Text3}-${r.Text7}`,he.target.value,a.Text1,o.Text3)},disabled:Y(o.Text3)}):r.Text7==="2"&&Ae(a.Text1,o.Text3),r.Text7==="3"&&J(o.Text3)?e.jsx(Xe,{defaultValue:((Oe=ee(D[`${r.Text1}-${a.Text1}-0-${o.Text3}-${r.Text7}`]))==null?void 0:Oe.gradeId)??"0",ItemList:M,size:"small",disabled:Y(o.Text3),DisableClearable:!0,sx:{maxWidth:"15vw"},onChange:he=>{De(`${r.Text1}-${a.Text1}-0-${o.Text3}-${r.Text7}`,he.Value,a.Text1,o.Text3)}}):r.Text7==="3"&&Pe(a.Text1,o.Text3)]})]},W)})})]},l)})})()]},t)),e.jsx(S,{children:e.jsx(d,{colSpan:3,sx:{backgroundColor:"#e5e7eb",textAlign:"left",fontWeight:"bold",color:"black",paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)"},children:"Attachment"})}),be.length>0&&be.map((r,t)=>e.jsx(e.Fragment,{children:e.jsxs(S,{children:[e.jsx(d,{sx:{paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)"}}),e.jsx(d,{sx:{paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)"},children:r.Text1}),e.jsx(d,{sx:{paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)"},children:e.jsx("span",{onClick:()=>{Se(!0),sr(r.Text1),nr(r.Text3)},onMouseEnter:()=>ge(t),onMouseLeave:()=>ge(null),style:{cursor:"pointer",color:"#6366f1",textDecoration:tr===t?"underline":"none"},children:`${r.Text8===""?"0":r.Text8} Files Uploaded`})})]},t)}))]})]})})]})]}),e.jsx($r,{Id:i,ReportingUserId:ar,yearId:C,saveButton:de,open:rr,handleClose:r=>{Se(!1),r&&f(Be(L)),ge(null)},RefreshList:()=>{}})]})};export{Kr as default};
