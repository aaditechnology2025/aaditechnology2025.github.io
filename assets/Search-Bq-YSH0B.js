import{P as A,u as y,S as G,r as o,j as e,G as n,q as D,a9 as Y,I as E,dE as H,dD as W,dW as U,dV as z,dd as B,dc as q,c as f,d_ as O,d$ as V,bb as $}from"./index-d5YOjbb6.js";import{d as J}from"./Close-DJWwbmdJ.js";import{C as K}from"./Card-BrM9kpJu.js";import{N as L}from"./NativeSelect-Dod2zX5v.js";var v;F.propTypes={YearsList:(v=A)==null?void 0:v.array,allMonthList:A.array};function F({YearsList:h,allMonthList:m,searchFunction:i,YearChangeCapture:l}){const c=y(),d=G(),g=localStorage.getItem("localSchoolId"),u=sessionStorage.getItem("Id"),I=sessionStorage.getItem("RoleId"),S=sessionStorage.getItem("AcademicYearId"),[j,b]=o.useState({Apply:!1,Year:"",Month:"",Input:""}),[x,C]=o.useState(S),[s,N]=o.useState(""),[M,w]=o.useState(""),T=t=>{C(t.target.value),l(t.target.value)},k=t=>{N(t.target.value)},P=t=>{w(t.target.value)},R=()=>{b({Apply:!0,Year:x,Month:s,Input:M})},p=window.location.pathname.replace("/RITeSchool/MessageCenter/msgCenter/",""),r={asUserId:u,asAcademicYearId:x,asUserRoleId:I,asSchoolId:g,abIsSMSCenter:null,asFilter:M,asPageIndex:1,asMonthId:s,asOperator:"",asDate:""},_=t=>{t.preventDefault(),i(j),(p==="Inbox"||p==="/RITeSchool/MessageCenter/msgCenter")&&H.GetInboxList(r).then(a=>{c(W(r))}).catch(a=>{alert("error network")}),p==="Sent"&&U.GetSentMessageList(r).then(a=>{c(z(r))}).catch(a=>{alert("error network")}),p==="Trash"&&B.GetTrashList(r).then(a=>{c(q(r))}).catch(a=>{alert("error network")})};return e.jsx(K,{className:d.ListStyle1,sx:{mb:"10px",height:"120px"},children:e.jsxs("form",{onSubmit:_,children:[e.jsx(n,{container:!0,sx:{mt:"35px"},children:e.jsx(n,{item:!0,xs:11,sx:{mt:"-30px",mb:"10px"},children:e.jsx(D,{id:"standard-basic",label:"Name / Subject / Message Body :",variant:"standard",fullWidth:!0,onChange:P,sx:{mx:"10px"}})})}),e.jsxs(n,{container:!0,sx:{mt:"35px"},children:[e.jsx(n,{xs:5,children:e.jsx(Y,{sx:{minWidth:"110px",mx:"20px",mt:"-14px"},variant:"outlined",children:e.jsx(L,{id:"demo-simple-select-label",onChange:T,children:h.map((t,a)=>e.jsx(e.Fragment,{children:e.jsx("option",{id:"demo-simple-select",value:t.AcademicYearId,children:t.AcademicYearName},a)}))})})}),e.jsx(n,{xs:5,sx:{ml:"-20px"},children:e.jsx(Y,{sx:{minWidth:"160px",mx:"20px",mt:"-14px"},variant:"outlined",children:e.jsxs(L,{id:"demo-simple-select-label",onChange:k,children:[e.jsx("option",{id:"demo-simple-select",value:"0",children:"All"},"0"),m.map((t,a)=>e.jsx(e.Fragment,{children:e.jsx("option",{id:"demo-simple-select",value:t.MonthId,children:t.Name},a)}))]})})}),e.jsx(n,{xs:2,children:e.jsx(E,{onClick:R,type:"submit",sx:{mr:"-15px",mt:"-12px",float:"right"}})})]})]})})}function se({searchData:h,closeSearchbarBoolean:m}){const i=y(),l=localStorage.getItem("localSchoolId"),c=sessionStorage.getItem("AcademicYearId"),[d,g]=o.useState(c),u=f(s=>s.MessageCenter.YearsList),I=f(s=>s.MessageCenter.AllMonthList),S={asSchoolId:l},j={asAcademicYearId:d,asSchoolId:l};o.useEffect(()=>{i(O(S)),i(V(j))},[d]);const b=s=>{h(s)},x=()=>{m(!0)},C=s=>{g(s)};return e.jsxs(e.Fragment,{children:[e.jsx($,{sx:{position:"absolute",top:"55px",zIndex:"4",right:"10px",p:"2px",width:25,height:25,backgroundColor:"white",boxShadow:"5px 5px 10px rgba(163, 177, 198, 0.4), -5px -5px 10px rgba(255, 255, 255, 0.3) !important"},onClick:x,children:e.jsx(J,{fontSize:"small",color:"error"})}),e.jsx(F,{YearsList:u,allMonthList:I,searchFunction:b,YearChangeCapture:C})]})}export{se as default};
