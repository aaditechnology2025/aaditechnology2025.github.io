import{u as p,r as s,c as m,fn as E,fo as I,j as t,B as g,a9 as f,C as j}from"./index-d5YOjbb6.js";import{E as C}from"./ErrorMessages-D1wiRwH0.js";import{P as N}from"./PageHeader-DqqjGq3-.js";import{C as A}from"./Card1-CfyO8QBe.js";import{N as D}from"./NativeSelect-Dod2zX5v.js";const b=()=>{const r=p(),[a,x]=s.useState(""),o=m(e=>e.OnlineExam.GetAllTestsForStudentdata),n=m(e=>e.OnlineExam.SubjectList),i=sessionStorage.getItem("AcademicYearId"),d=localStorage.getItem("localSchoolId"),l=sessionStorage.getItem("StudentId"),u={aiSchoolId:d,aiAcademicYrId:i,aiStudentId:l},S={aiSchoolId:d,aiAcademicYrId:i,asExamId:parseInt(`${a}`),aiStudentId:l},h=e=>{a==="0"&&e.preventDefault(),x(e==null?void 0:e.target.value)};return s.useEffect(()=>{localStorage.setItem("url",window.location.pathname),r(E(u))},[]),s.useEffect(()=>{if(a==="Select Exam"||a==="0")return null;r(I(S))},[a]),t.jsxs(g,{sx:{px:2},children:[t.jsx(N,{heading:"Online Exam Schedule",subheading:""}),o.length===0?t.jsx(C,{Error:"No exam has been scheduled"}):t.jsx(f,{sx:{marginTop:"50px",m:1,width:"100%",marginLeft:"0px"},children:t.jsxs(D,{onChange:h,children:[t.jsx("option",{value:"Select Exam",selected:!0,children:"Select Exam"}),o==null?void 0:o.map((e,c)=>t.jsx("option",{value:e.ExamId,children:e.ExamName},c))]})}),n==null?void 0:n.map((e,c)=>t.jsx(t.Fragment,{children:t.jsx(j,{to:`/${location.pathname.split("/")[1]}/Student/onlineExamDetails/`+e.Exam_Id+"/"+e.SubjectId,style:{textDecoration:"none"},children:t.jsx(A,{header:e.SubjectName,text1:"",text2:e.StartTime+"-"+e.EndTime,text5:"",text3:e.StartDate,text4:"",text6:"",Color:"",margin:"",FileName:"",Textcolor:""},"")})}))]})};export{b as default};
