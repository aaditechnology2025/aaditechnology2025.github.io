import{S as B,r as c,j as e,G as x,H as R,a8 as _,p as d,bw as $,B as V,I as y,as as z,at as A,ab as G,T as L,fL as O,bx as T}from"./index-d5YOjbb6.js";import{d as F}from"./CloudUpload-DJN1zp2n.js";import{E as H}from"./Errormessage-RPRSgLGN.js";const J=({ValidFileTypes:p,MaxfileSize:f,ChangeFile:u,errorMessage:r="",clickDelete:m=void 0,clickFileName:g=void 0,FileName:t="",FilePath:E="",width:w="300px",viewIcon:S=!1,deleteIcon:C=!1,FileLabel:j="",isMandatory:b=!0,height:v="auto"})=>{B();const o=c.useRef(null),[I,h]=c.useState("");c.useEffect(()=>{t==""&&(o.current.value=null)},[t]);const k=async n=>{const i=n.target.files;let l="";for(let s=0;s<i.length;s++){const a=O(i[s],p,f);a==null?(l=await T(i[s]),h(""),r="",u({Name:i[s].name,Value:l.slice(l.indexOf(",")+1),FileExtension:i[s].name.split(".").at(-1),ErrorMsg:""})):(h(a),r="",u({Name:"",Value:"",FileExtension:"",ErrorMsg:a}),o.current.value=null)}};return e.jsxs(x,{container:!0,children:[e.jsxs(x,{item:!0,xs:12,sx:{display:"flex",alignItems:I?"flex-start":"center",justifyContent:"center",height:"auto"},children:[e.jsx(R,{title:"Supports only "+p.join(", ")+" file type. File size should not exceed "+(f/1e6).toString()+"MB.",children:e.jsxs(_,{sx:{width:w,height:v,border:n=>`1px dashed ${n.colors.primary.main}`,gap:1,position:"relative",display:"flex",alignItems:"center",justifyContent:"space-between"},color:"primary",children:[e.jsxs(d,{direction:"row",alignItems:"center",gap:1,sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[t?e.jsx($,{}):e.jsx(F,{}),t==""?j||" No file selected":t,b&&e.jsx("span",{style:{color:"red"},children:"*"}),e.jsx(V,{sx:{textAlign:"center"},children:e.jsx("input",{ref:o,type:"file",onChange:k,style:{opacity:0,position:"absolute",top:0,left:0,right:0,bottom:0,cursor:"pointer"}})})]}),e.jsx(d,{direction:"row",alignItems:"center",justifyContent:"center",gap:1})]})}),E!=""&&e.jsxs(d,{direction:"row",spacing:-1,children:[C&&e.jsx(y,{sx:{marginLeft:1,"&:hover":{color:"red",backgroundColor:z[100]}},onClick:m,children:e.jsx(A,{style:{fontSize:30}})}),S&&e.jsx(y,{color:"primary",onClick:g,children:e.jsx(G,{style:{fontSize:30}})})]})]}),r&&e.jsx(x,{item:!0,xs:12,sx:{display:"flex",alignItems:"left",justifyContent:"left",pt:2},children:e.jsx(L,{children:r&&e.jsx(H,{Error:r})})})]})};export{J as S};
