import{V as D,W as N,j as e,ai as ge,c8 as pe,aj as je,ak as ve,al as G,am as l,an as fe,H as x,I as h,u as Ie,A as be,r as n,c as T,pF as Y,B as d,F as _e,q as ye,bv as c,hv as De,J as F,pG as Ne,aJ as Ce,T as s,G as S,ay as Re,pH as Ee}from"./index-d5YOjbb6.js";import{S as ke}from"./SearchTwoTone-jqpeT8QG.js";import{Q as Te}from"./QuestionMark-C2Y4lgD8.js";import{C as H}from"./Card-BrM9kpJu.js";import{C as V}from"./CardContent-CKN_wOTn.js";var w={},we=N;Object.defineProperty(w,"__esModule",{value:!0});var q=w.default=void 0,We=we(D()),Be=e,Me=(0,We.default)((0,Be.jsx)("path",{d:"M12 23c5.7 0 10.39-4.34 10.95-9.9.06-.59-.41-1.1-1-1.1-.51 0-.94.38-.99.88C20.52 17.44 16.67 21 12 21c-3.12 0-5.87-1.59-7.48-4H6c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1v-1.67C4.99 21.15 8.28 23 12 23zm0-22C6.3 1 1.61 5.34 1.05 10.9c-.05.59.41 1.1 1 1.1.51 0 .94-.38.99-.88C3.48 6.56 7.33 3 12 3c3.12 0 5.87 1.59 7.48 4H18c-.55 0-1 .45-1 1s.45 1 1 1h4c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1s-1 .45-1 1v1.67C19.01 2.85 15.72 1 12 1zm-.88 4.88c0-.49.4-.88.88-.88s.88.39.88.88v.37c1.07.19 1.75.76 2.16 1.3.34.44.16 1.08-.36 1.3-.36.15-.78.03-1.02-.28-.28-.38-.78-.77-1.6-.77-.7 0-1.81.37-1.81 1.39 0 .95.86 1.31 2.64 1.9 2.4.83 3.01 2.05 3.01 3.45 0 2.62-2.5 3.13-3.02 3.22v.37c0 .48-.39.88-.88.88s-.88-.39-.88-.88v-.42c-.63-.15-1.93-.61-2.69-2.1-.23-.44.03-1.02.49-1.2.41-.16.9-.01 1.11.38.32.61.95 1.37 2.12 1.37.93 0 1.98-.48 1.98-1.61 0-.96-.7-1.46-2.28-2.03-1.1-.39-3.35-1.03-3.35-3.31 0-.1.01-2.4 2.62-2.96v-.37z"}),"CurrencyExchangeRounded");q=w.default=Me;var W={},Ae=N;Object.defineProperty(W,"__esModule",{value:!0});var U=W.default=void 0,Pe=Ae(D()),$e=e,ze=(0,Pe.default)((0,$e.jsx)("path",{d:"M17.5 4.5c-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .65.73.45.75.45C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.41.21.75-.19.75-.45V6c-1.49-1.12-3.63-1.5-5.5-1.5zm3.5 14c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5v11.5z"}),"ImportContacts");U=W.default=ze;var B={},Le=N;Object.defineProperty(B,"__esModule",{value:!0});var K=B.default=void 0,Oe=Le(D()),Ge=e,Ye=(0,Oe.default)((0,Ge.jsx)("path",{d:"M20 2H4.01c-1.1 0-2 .9-2 2L2 19.58c0 .89 1.08 1.34 1.71.71L6 18h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8 4c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm4 8H8v-.57c0-.81.48-1.53 1.22-1.85.85-.37 1.79-.58 2.78-.58.99 0 1.93.21 2.78.58.74.32 1.22 1.04 1.22 1.85V14z"}),"ThreePRounded");K=B.default=Ye;var M={},Fe=N;Object.defineProperty(M,"__esModule",{value:!0});var J=M.default=void 0,He=Fe(D()),Ve=e,qe=(0,He.default)((0,Ve.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"RemoveRedEyeRounded");J=M.default=qe;const Ue=({data:g,handleView:p})=>e.jsx(ge,{component:pe,children:e.jsxs(je,{"aria-label":"simple table",sx:{border:o=>`1px solid ${o.palette.grey[300]}`},children:[e.jsx(ve,{children:e.jsxs(G,{sx:{background:o=>o.palette.secondary.main,color:o=>o.palette.common.white},children:[e.jsx(l,{sx:{color:"white",py:1.5},children:e.jsx("strong",{children:"Reg. No."})}),e.jsx(l,{sx:{color:"white",py:1.5},children:e.jsx("strong",{children:"Class"})}),e.jsx(l,{sx:{color:"white",py:1.5,textAlign:"center"},children:e.jsx("strong",{children:"Roll No."})}),e.jsx(l,{sx:{color:"white",py:1.5},children:e.jsx("strong",{children:"Student Name"})}),e.jsx(l,{sx:{color:"white",py:1.5,textAlign:"center"},children:e.jsx("strong",{children:"Select Student"})})]})}),e.jsx(fe,{children:g.map((o,I)=>e.jsxs(G,{children:[e.jsx(l,{sx:{color:o.SchoolLeft_Date==""?"222":"red",py:.5},children:o.Enrolment_Number}),e.jsx(l,{sx:{color:o.SchoolLeft_Date==""?"999":"red",py:.5},children:o.StandardDivision}),e.jsx(l,{sx:{color:o.SchoolLeft_Date==""?"hhh":"red",py:.5,textAlign:"center"},children:o.Roll_No}),e.jsx(l,{sx:{color:o.SchoolLeft_Date==""?"jj":"red",py:.5},children:o.Name}),e.jsx(l,{sx:{color:o.SchoolLeft_Date==""?"jj":"red",py:.5,textAlign:"center"},children:e.jsx(x,{title:"view",children:e.jsx(h,{onClick:()=>p(o.SchoolWise_Student_Id),children:e.jsx(J,{})})})})]},I))})]})}),et=()=>{const g=Ie(),p=be(),[o,I]=n.useState(""),[b,Q]=n.useState(0);console.log(b,"studentId✌✌");const[a,X]=n.useState([]),[m,Z]=n.useState(20),[_,A]=n.useState(1),ee=[20,50,100,200],C=Number(localStorage.getItem("localSchoolId")),R=Number(sessionStorage.getItem("AcademicYearId"));Number(localStorage.getItem("UserId"));const[te,oe]=n.useState(""),E=T(t=>t.GetStandardwiseMinMaxDOB.ITotalStudentCount),r=T(t=>t.GetStandardwiseMinMaxDOB.IGetStudents);console.log(r.length,"1️⃣List Student",r);const j=T(t=>t.GetStandardwiseMinMaxDOB.IGetStudentsDetails);console.log("2️⃣Card Student",j);const[re,ne]=n.useState([]),[v,se]=n.useState(!1),k=async()=>{let t=!0;if(o===""&&(oe("Name or Registration number should not be blank."),t=!1),!t)return;se(!0);const i=(_-1)*m,u=i+m,y={asSchoolId:C,asAcademicYearId:R,asFilter:`AND (First_Name LIKE N'%${o}%' 
                   OR Middle_Name LIKE N'%${o}%' 
                   OR Last_Name LIKE N'%${o}%' 
                   OR Enrolment_Number LIKE N'%${o}%' 
                   OR (Enrolment_Number + ' - ' + Name) LIKE N'%${o}%')`,asStartIndex:i,asEndIndex:u,asSortExp:"ORDER BY Roll_No"};g(Ee(y))};n.useEffect(()=>{v&&k()},[_]),n.useEffect(()=>{v&&ne(r)},[r,v]),n.useEffect(()=>{X(j)},[j,v]);const ae={asSchool_Id:C,asAcademicYearId:R,asStudentId:b};n.useEffect(()=>{g(Y(ae))},[b]),n.useEffect(()=>{if(r.length===1){const t={asSchool_Id:C,asAcademicYearId:R,asStudentId:r[0].SchoolWise_Student_Id};console.log("🩸 only oone student",r,t),g(Y(t))}},[r]);const f=n.useMemo(()=>Array.isArray(E)?E.reduce((t,i)=>{const u=Number(i.TotalStudents);return isNaN(u)?t:t+u},0):0,[E]),ie=t=>{A(t)},le=t=>{Z(parseInt(t.target.value,10)),A(1)},de=(_-1)*m+1,ce=Math.min(_*m,f),xe=Math.ceil(f/m),he=t=>{I(t)},ue=t=>{Q(t)},me=t=>{t.preventDefault(),I("")},Se=t=>{console.log("🎈Selected Student Data:",t);const i={Name:t[0].Name,standardId:t[0].StandardId,DivisionId:t[0].DivisionId,YearWise_Student_Id:t[0].YearWiseStudentId,SchoolWise_Student_Id:t[0].SchoolWiseStudentId,StandardDivision_Id:t[0].StandardDivision,SchoolWiseStandardDivisionId:t[0].SchoolWiseStandardDivisionId,Enrolment_Number:t[0].Enrolment_Number,NewMode:"N",User_Id:t[0].User_Id,IsStudntDtailsScrn:!0};localStorage.setItem("studentData",JSON.stringify(i)),p("/RITeSchool/Teacher/StudentRegistrationForms/SD",{state:{fromInternal:!0,SchoolWise_Student_Id:t[0].SchoolWiseStudentId,Name:t[0].Name,YearWise_Student_Id:t[0].YearWiseStudentId,StandardDivision:t[0].StandardDivision,Enrolment_Number:t[0].Enrolment_Number,standardId:t[0].StandardId,DivisionId:t[0].DivisionId,SchoolWiseStandardDivisionId:t[0].SchoolWiseStandardDivisionId,User_Id:t[0].User_Id,IsStudntDtailsScrn:!0}})};return e.jsxs(d,{px:2,children:[e.jsx(_e,{navLinks:[{title:"Student Details",path:"/RITeSchool/Teacher/StudentDetailsBaseScreen"}],rightActions:e.jsxs(e.Fragment,{children:[e.jsx(ye,{sx:{width:"15vw"},fullWidth:!0,label:e.jsxs("span",{children:["Name / Reg. No.",e.jsx("span",{style:{color:"red"},children:" *"})]}),variant:"outlined",size:"small",value:o,onChange:t=>he(t.target.value.slice(0,100)),onKeyDown:t=>{(t.key==="Enter"||t.key==="Tab")&&k()}}),e.jsx(x,{title:"Search",children:e.jsx(h,{onClick:k,sx:{background:t=>t.palette.primary.main,color:"white",marginLeft:"0.5rem","&:hover":{backgroundColor:t=>t.palette.primary.dark}},children:e.jsx(ke,{})})}),e.jsx(x,{title:"Reset",children:e.jsx(h,{sx:{color:"white",backgroundColor:c[500],"&:hover":{backgroundColor:c[600]}},onClick:me,children:e.jsx(De,{})})}),e.jsx(x,{title:"You can see students' total information.",children:e.jsx(h,{sx:{color:"white",backgroundColor:F[500],"&:hover":{backgroundColor:F[600]}},children:e.jsx(Te,{})})}),a!==void 0&&a.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(x,{title:"Student Details",children:e.jsx(h,{sx:{color:"white",backgroundColor:c[500],"&:hover":{backgroundColor:c[600]}},onClick:()=>Se(a),children:e.jsx(K,{})})}),e.jsx(x,{title:"Fees",children:e.jsx(h,{sx:{color:"white",backgroundColor:c[500],"&:hover":{backgroundColor:c[600]}},children:e.jsx(q,{})})}),e.jsx(x,{title:"Attendance",children:e.jsx(h,{sx:{color:"white",backgroundColor:c[500],"&:hover":{backgroundColor:c[600]}},onClick:()=>{var t,i,u,y,P,$,z,L,O;return p("/RITeSchool/Teacher/StudentDetailsAttendance",{state:{fromInternal:!0,StudentName:(t=a[0])==null?void 0:t.Name,StudentRollNo:(i=a[0])==null?void 0:i.Roll_No,SchoolWiseStudentId:(u=a[0])==null?void 0:u.SchoolWiseStudentId,YearWiseStudentId:(y=a[0])==null?void 0:y.YearWiseStudentId,EnrolmentNumber:(P=a[0])==null?void 0:P.Enrolment_Number,StandardDivision:($=a[0])==null?void 0:$.StandardDivision,StandardId:(z=a[0])==null?void 0:z.StandardId,DivisionId:(L=a[0])==null?void 0:L.DivisionId,SchoolWiseStandardDivisionId:(O=a[0])==null?void 0:O.SchoolWiseStandardDivisionId}})},children:e.jsx(Ne,{})})}),e.jsx(x,{title:"Exam",children:e.jsx(h,{sx:{color:"white",backgroundColor:c[500],"&:hover":{backgroundColor:c[600]}},onClick:()=>p("/RITeSchool/Teacher/StudentDetailsExam"),children:e.jsx(U,{})})})]})]})}),e.jsx(d,{children:e.jsx(Ce,{Error:te})}),e.jsx(d,{mb:2,children:b>0&&Array.isArray(j)&&j.map((t,i)=>e.jsx(H,{style:{marginTop:"20px",padding:"20px",maxWidth:"900px",margin:"0 auto",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"},children:e.jsxs(V,{children:[e.jsx(s,{variant:"h4",style:{marginBottom:"20px",fontWeight:"bold"},children:"Student Details"}),e.jsxs(S,{container:!0,spacing:4,alignItems:"center",children:[e.jsx(S,{item:!0,xs:4,children:e.jsx("img",{src:t.Photo_file_Path_Image||"placeholder.jpg",alt:t.Name||"Student",style:{width:"80%",borderRadius:"10px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)"}})}),e.jsxs(S,{item:!0,xs:8,children:[e.jsxs(s,{variant:"body1",style:{marginBottom:"10px",fontSize:"16px",color:"#333"},children:[e.jsx("strong",{children:"Student Name:"})," ",t.Name]}),e.jsxs(s,{variant:"body1",style:{marginBottom:"10px",fontSize:"16px",color:"#333"},children:[e.jsx("strong",{children:"Date of Birth:"})," ",t.DOB]}),e.jsxs(s,{variant:"body1",style:{marginBottom:"10px",fontSize:"16px",color:"#333"},children:[e.jsx("strong",{children:"Class:"})," ",t.StandardDivision]}),e.jsxs(s,{variant:"body1",style:{marginBottom:"10px",fontSize:"16px",color:"#333"},children:[e.jsx("strong",{children:"Roll No.:"})," ",t.Roll_No]}),e.jsxs(s,{variant:"body1",style:{marginBottom:"10px",fontSize:"16px",color:"#333"},children:[e.jsx("strong",{children:"Mobile Number:"})," ",t.Mobile_Number]})]})]})]})}))}),e.jsx(d,{mb:2,children:r.length===1&&Array.isArray(r)&&r.map((t,i)=>e.jsx(H,{style:{marginTop:"20px",padding:"20px",maxWidth:"900px",margin:"0 auto",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"},children:e.jsxs(V,{children:[e.jsx(s,{variant:"h4",style:{marginBottom:"20px",fontWeight:"bold"},children:"Student Details"}),e.jsxs(S,{container:!0,spacing:4,alignItems:"center",children:[e.jsx(S,{item:!0,xs:4,children:e.jsx("img",{src:t.Photo_file_Path_Image||"placeholder.jpg",alt:t.Name||"Student",style:{width:"80%",borderRadius:"10px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)"}})}),e.jsxs(S,{item:!0,xs:8,children:[e.jsxs(s,{variant:"body1",style:{marginBottom:"10px",fontSize:"16px",color:"#333"},children:[e.jsx("strong",{children:"Student Name:"})," ",t.Name]}),e.jsxs(s,{variant:"body1",style:{marginBottom:"10px",fontSize:"16px",color:"#333"},children:[e.jsx("strong",{children:"Date of Birth:"})," ",t.DOB||"-"]}),e.jsxs(s,{variant:"body1",style:{marginBottom:"10px",fontSize:"16px",color:"#333"},children:[e.jsx("strong",{children:"Class:"})," ",t.StandardDivision]}),e.jsxs(s,{variant:"body1",style:{marginBottom:"10px",fontSize:"16px",color:"#333"},children:[e.jsx("strong",{children:"Roll No.:"})," ",t.Roll_No]}),e.jsxs(s,{variant:"body1",style:{marginBottom:"10px",fontSize:"16px",color:"#333"},children:[e.jsx("strong",{children:"Mobile Number:"})," ",t.Mobile_Number||"N/A"]})]})]})]})}))}),v&&re.length>1&&e.jsxs(d,{sx:{backgroundColor:"white",pt:.5},children:[f>0?e.jsx(d,{style:{flex:1,textAlign:"center"},children:e.jsxs(s,{variant:"subtitle1",sx:{margin:"16px 0",textAlign:"center"},children:[e.jsxs(d,{component:"span",fontWeight:"fontWeightBold",children:[de," to ",ce]})," ","out of"," ",e.jsx(d,{component:"span",fontWeight:"fontWeightBold",children:f})," ",f===1?"record":"records"]})}):e.jsx("span",{children:" "}),r.length===0?e.jsx(d,{textAlign:"center",sx:{backgroundColor:"white",p:2},children:e.jsx(s,{variant:"h6",align:"center",color:"blue",sx:{textAlign:"center",marginTop:0,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white"},children:"No record found"})}):null,r.length!==1&&e.jsx(d,{p:2,children:e.jsx(Ue,{data:r,handleView:ue})})]}),r.length>19&&e.jsx(Re,{rowsPerPage:m,ChangeRowsPerPage:le,rowsPerPageOptions:ee,PageChange:ie,pagecount:xe})]})};export{et as StudentDetailsBaseScreen};
