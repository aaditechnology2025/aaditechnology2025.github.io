import{P as $,c as b,j as t,a2 as Ba,a3 as Ea,H as W,J as ue,a5 as Pa,B as v,p as ke,T as d,n as mt,q as Ds,bR as Ya,hh as U,a7 as Ga,a8 as fs,as as qt,L as je,s as It,am as Z,u as Xa,r as i,E as Va,ah as Oa,X as Ra,kf as xt,t as pe,gZ as $e,kg as Ue,kh as qe,ki as za,kj as Ha,kk as Ze,g$ as Ut,kl as Ua,km as ve,kn as qa,ko as Za,kp as Qa,kq as Ja,h0 as ut,kr as Ka,ks as er,kt as tr,ku as sr,kv as ar,kw as ys,kx as ms,ky as Is,kz as rr,kA as lr,F as nr,G as We,bL as gs,I as ee,bf as ir,ba as cr,ce as bt,bQ as ht,bv as Tt,hv as ps,K as ft,ax as js,ai as Qe,aj as Je,ak as Ke,al as te,an as et,at as ks,g_ as Ss,kB as dr,kC as or,kD as xr,kE as ur,kF as br,kG as hr,kH as Tr,kI as fr}from"./index-d5YOjbb6.js";import{d as As}from"./Save-Ckr0NoeK.js";import{d as Cs}from"./Square-gela0mjc.js";import{L as yr}from"./Legend-p9-_07Am.js";import{d as mr}from"./Close-DJWwbmdJ.js";import{Q as Ir}from"./QuestionMark-C2Y4lgD8.js";import{F as gr}from"./FormGroup-XtcIGgvX.js";Ws.propTypes={Value1:$.string,ValError:$.string,Heading:$.string,Open:$.bool,OnClose:$.func,onSubmit:$.func,ItemList2:$.array,ItemList3:$.array,ItemList4:$.array,Defaultvalue2:$.string,Defaultvalue3:$.string,Defaultvalue4:$.string,Label1:$.string,OnChange1:$.func,OnChange2:$.func,OnChange3:$.func,ErrorMsg1:$.bool,ErrorMsg2:$.bool,ErrorMsg3:$.bool,Label3:$.string,ValErrorMsgList:$.array};function Ws({Value1:P,ValErrorMsgList:l=[],ValError:Q,Open:L,OnClose:we,onSubmit:gt,Heading:pt,Label1:tt,ItemList2:J,OnChange1:Me,Defaultvalue2:st,ErrorMsg1:jt,ErrorMsg2:Le,Defaultvalue3:kt,OnChange2:_e,ItemList3:St,ErrorMsg3:Fe,Defaultvalue4:Be,OnChange3:At,ItemList4:V,Label3:Y}){const O=b(N=>N.WeeklyTimetable.Loading);return t.jsx(t.Fragment,{children:t.jsxs(Ba,{open:L,onClose:we,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:"15px"}},children:[t.jsxs(Ea,{sx:{py:1.8,backgroundColor:N=>N.colors.primary.main,color:N=>N.palette.common.white},children:[t.jsx(W,{title:"Add additional / optional subject lectures.",children:t.jsx(Ir,{sx:{color:"white",borderRadius:"7px",position:"absolute",top:"4px",right:"35px",cursor:"pointer","&:hover":{backgroundColor:ue[600]}}})}),t.jsx(mr,{onClick:we,sx:{color:"white",borderRadius:"7px",position:"absolute",top:"5px",right:"8px",cursor:"pointer","&:hover":{color:"red"}}})]}),t.jsx(Pa,{dividers:!0,children:t.jsxs(v,{children:[(Q==null?void 0:Q.length)>0&&t.jsx("span",{dangerouslySetInnerHTML:{__html:`${Q}`},style:{color:"red",fontWeight:"bolder"}}),l!==void 0&&(l==null?void 0:l.length)>0&&t.jsx(ke,{sx:{width:"100%"},spacing:.5,children:l.map((N,R)=>Object.keys(N).map(G=>{const K=N[G].trim();return K!==""?t.jsx("span",{dangerouslySetInnerHTML:{__html:K},style:{color:"red",fontWeight:"bolder",fontSize:"12px"}}):null}))}),t.jsx(d,{variant:"h3",children:pt}),O&&t.jsx(mt,{}),t.jsxs(ke,{gap:2,mt:2,children:[t.jsx(v,{sx:{width:"100%"},children:t.jsx(Ds,{label:tt,value:P,sx:{bgcolor:"#F0F0F0",minWidth:"100%","& .MuiInputBase-input":{cursor:"default"}},size:"small",InputProps:{readOnly:!0}})}),t.jsxs(v,{sx:{width:"100%"},children:[t.jsx(Ya,{onChange:Me,ItemList:J,label:"Week Day",sx:{minWidth:"100%"},size:"small",defaultValue:st,mandatory:!0,DisableClearable:!0}),jt&&t.jsx("span",{style:{color:"red",fontSize:"12px"},children:"Weekday should not be empty."})]}),t.jsxs(v,{sx:{width:"100%"},children:[t.jsx(U,{onChange:_e,ItemList:St,label:"Lecture Number",sx:{minWidth:"100%"},size:"small",defaultValue:kt,mandatory:!0,DisableClearable:!0}),Le&&t.jsx("span",{style:{color:"red",fontSize:"12px"},children:"Lecture number should not be empty."})]}),t.jsxs(v,{sx:{width:"100%"},children:[t.jsx(U,{onChange:At,ItemList:V,label:Y,sx:{minWidth:"100%"},size:"small",defaultValue:Be,mandatory:!0,DisableClearable:!0}),Fe&&t.jsxs("span",{style:{color:"red",fontSize:"12px"},children:[Y," name should not be empty."]})]})]})]})}),t.jsxs(Ga,{sx:{py:2,px:3},children:[t.jsx(fs,{onClick:we,sx:{color:"red","&:hover":{color:"red",backgroundColor:qt[100]}},children:"Cancel"}),t.jsx(fs,{onClick:gt,sx:{color:"green","&:hover":{color:"green",backgroundColor:je[100]}},children:"Save"})]})]})})}const D=It(Z)(({theme:P})=>({paddingTop:P.spacing(1),paddingBottom:P.spacing(1),backgroundColor:"#19bed4",color:P.palette.common.white,fontWeight:"bold",border:"1px solid rgba(224, 224, 224, 1)",textAlign:"center"})),De=It(Z)(({theme:P})=>({paddingTop:P.spacing(1),paddingBottom:P.spacing(1),backgroundColor:"#bdc7cd",fontWeight:"bold",border:"1px solid rgba(224, 224, 224, 1)",textAlign:"center"})),se=It(Z)(({theme:P})=>({paddingTop:P.spacing(.2),paddingBottom:P.spacing(.2),paddingLeft:P.spacing(.2),paddingRight:P.spacing(.2),border:"1px solid rgba(224, 224, 224, 1)"})),yt=It(Z)(({theme:P})=>({paddingTop:P.spacing(1),paddingBottom:P.spacing(1),border:"1px solid rgba(224, 224, 224, 1)"})),Wr=P=>{const l=Xa(),{showAlert:Q,closeAlert:L}=i.useContext(Va),we=sessionStorage.getItem("RoleId"),gt=sessionStorage.getItem("TeacherId"),pt=Oa("Weekly Timetable"),tt=sessionStorage.getItem("SchoolConfiguration"),J=b(e=>e.WeeklyTimetable.ISGetValidateAdditionalDataForTeacher),Me=tt?JSON.parse(tt):[],st=Me==null?void 0:Me.filter(e=>e.Configure_Id===59),jt=b(e=>e.WeeklyTimetable.ISTeachersList),Le=b(e=>e.TMTimetable.ISGetLectureCountsForTeachers),kt=b(e=>e.WeeklyTimetable.ISAddClassesWeekDay),_e=b(e=>e.WeeklyTimetable.ISResetTimetableMsg),St=b(e=>e.WeeklyTimetable.ISGetStandardName),Fe=b(e=>e.WeeklyTimetable.ISGetSaveTeacherTimetableMsg),Be=b(e=>e.WeeklyTimetable.ISGetSaveClassTimetableMsg),At=b(e=>e.WeeklyTimetable.ISGetDivisionName),V=b(e=>e.WeeklyTimetable.ISGetTeacherSubjectMaxLecForMon),Y=b(e=>e.WeeklyTimetable.ISGetTeacherSubjectMaxLecForTue),O=b(e=>e.WeeklyTimetable.ISGetTeacherSubjectMaxLecForWed),N=b(e=>e.WeeklyTimetable.ISGetTeacherSubjectMaxLecForThu),R=b(e=>e.WeeklyTimetable.ISGetTeacherSubjectMaxLecForFri),G=b(e=>e.WeeklyTimetable.ISGetLectureNoWeekday),K=b(e=>e.WeeklyTimetable.ISGetApplicables),q=b(e=>e.WeeklyTimetable.ISGetClassLecNoWeekday),M=b(e=>e.WeeklyTimetable.ISWeekdayId),Se=b(e=>e.WeeklyTimetable.ISClassSubjectBaseLecList),_=b(e=>e.WeeklyTimetable.ISClassWeekdayId),Ct=b(e=>e.WeeklyTimetable.ISMPTinfo),Dt=b(e=>e.WeeklyTimetable.ISAssemblyInfo),Wt=b(e=>e.WeeklyTimetable.ISStayBackInfo),Ns=b(e=>e.WeeklyTimetable.ISMPTinfoClass),$s=b(e=>e.WeeklyTimetable.ISWeeklytestClass),Nt=b(e=>e.WeeklyTimetable.ISWeeklytestInfo),vs=b(e=>e.WeeklyTimetable.ISAssemblyInfoClass),ws=b(e=>e.WeeklyTimetable.ISStaybackClass),at=b(e=>e.WeeklyTimetable.Loading);b(e=>e.WeeklyTimetable.LoadingAdditionalLecPop);const $t=b(e=>e.WeeklyTimetable.ISGetDeleteAdditionalLectureMsg),vt=b(e=>e.WeeklyTimetable.ISGetManageClassTimeTableMsg),Ee=b(e=>e.WeeklyTimetable.ISTimetableDetails),wt=b(e=>e.WeeklyTimetable.ISGetDeleteAdditionalLecturesMsg),Ie=b(e=>e.WeeklyTimetable.ISValidateTeacherData),rt=b(e=>e.WeeklyTimetable.ISValidateAddLecTeacherData),ge=b(e=>e.WeeklyTimetable.ISValidateClassData),Mt=b(e=>e.WeeklyTimetable.ISExtLectCount),lt=b(e=>e.WeeklyTimetable.ISAddLecForClass),Lt=b(e=>e.WeeklyTimetable.ISGetGroupwiseOptSub),nt=b(e=>e.WeeklyTimetable.ISGetCheckDuplicateLecturesMsg),Ms=b(e=>e.WeeklyTimetable.ISGetAddLecPopUpLecNoList),Ls=b(e=>e.WeeklyTimetable.ISGetAddLecPopUpClassSubList),_s=b(e=>e.WeeklyTimetable.ISGetAddLecPopUpCompClassNameDetailsList),Pe=b(e=>e.WeeklyTimetable.ISGetValidateAdditionalDataForTeacher),n=b(e=>e.SchoolSettings.SchoolSettings),[Zt,Qt]=i.useState(null),[u,Fs]=i.useState("Teacher"),[Bs,it]=i.useState(!1),[x,_t]=i.useState("0"),[Jt,Es]=i.useState(""),[ae,Ft]=i.useState("0"),[p,ct]=i.useState("0"),[Kt,Ps]=i.useState(""),[es,Ys]=i.useState(""),[F,Bt]=i.useState(!1),[B,Et]=i.useState(!1),[E,Pt]=i.useState(!1),[X,Yt]=i.useState(!1),[I,Ae]=i.useState({}),[z,Ce]=i.useState({}),[ts,Gs]=i.useState(!1),[j,ss]=i.useState("0"),[C,Gt]=i.useState("0"),[H,Xt]=i.useState("0"),[w,Vt]=i.useState("0"),[re,Xs]=i.useState("Assembly"),[le,Vs]=i.useState("M.P.T"),[ne,Os]=i.useState("StayBack"),[ie,Rs]=i.useState("Weekly Test"),[Ye,zs]=i.useState(!0),[Ge,Hs]=i.useState(!0),[Xe,Us]=i.useState(!0),[Ve,qs]=i.useState(!0),Oe=e=>{var T,y,k,g,m,A;let s=!0;const a=((T=e.Text1)==null?void 0:T.trim())==="",r=((y=e.Text2)==null?void 0:y.trim())==="",o=((k=e.Text3)==null?void 0:k.trim())==="",h=((g=e.Text5)==null?void 0:g.trim())==="",c=((m=e.Text6)==null?void 0:m.trim())==="";return((A=e.Text4)==null?void 0:A.trim())!==""&&a&&r&&o&&h&&c&&(s=!1),s};i.useEffect(()=>{l(Ra({asSchoolId:localStorage.getItem("SchoolId")}))},[l]),i.useEffect(()=>{Object.keys(n).length>0&&((n==null?void 0:n.AssemblyName)!==null&&(n==null?void 0:n.AssemblyName)!==void 0&&Xs(n==null?void 0:n.AssemblyName),(n==null?void 0:n.MPTName)!==null&&(n==null?void 0:n.MPTName)!==void 0&&Vs(n==null?void 0:n.MPTName),(n==null?void 0:n.StaybackName)!==null&&(n==null?void 0:n.StaybackName)!==void 0&&Os(n==null?void 0:n.StaybackName),(n==null?void 0:n.WeeklyTestName)!==null&&(n==null?void 0:n.WeeklyTestName)!==void 0&&Rs(n==null?void 0:n.WeeklyTestName),(n==null?void 0:n.IsWeeklyTestApplicable)!==null&&(n==null?void 0:n.IsWeeklyTestApplicable)!==void 0&&(n==null?void 0:n.IsWeeklyTestApplicable)==="N"&&zs(!1),(n==null?void 0:n.IsStaybackApplicable)!==null&&(n==null?void 0:n.IsStaybackApplicable)!==void 0&&(n==null?void 0:n.IsStaybackApplicable)==="N"&&qs(!1),(n==null?void 0:n.IsAssemblyApplicable)!==null&&(n==null?void 0:n.IsAssemblyApplicable)!==void 0&&(n==null?void 0:n.IsAssemblyApplicable)==="N"&&Hs(!1),(n==null?void 0:n.IsMPTApplicable)!==null&&(n==null?void 0:n.IsMPTApplicable)!==void 0&&(n==null?void 0:n.IsMPTApplicable)==="N"&&Us(!1))},[n]);const as=(e={})=>{var T,y,k,g,m,A;let s=!0;const a=(((T=e.Text1)==null?void 0:T.trim())??"")==="",r=(((y=e.Text2)==null?void 0:y.trim())??"")==="",o=(((k=e.Text3)==null?void 0:k.trim())??"")==="",h=(((g=e.Text5)==null?void 0:g.trim())??"")==="",c=(((m=e.Text6)==null?void 0:m.trim())??"")==="";return(((A=e.Text4)==null?void 0:A.trim())??"")!==""&&a&&r&&o&&h&&c&&(s=!1),s},Zs=e=>e.WeekdayId===j;i.useEffect(()=>{w==="0"&&l(xt())},[w]),i.useEffect(()=>{Pe!==void 0&&(Pe==null?void 0:Pe.length)===0&&(pe.success("Additional lecture added successfully"),u==="Teacher"?l($e(Ne)):u==="Class"&&l(Ue(Re)),l(qe()),it(!1),He(!1))},[Pe]);function Qs(e,s,a,r){const o=a.filter(T=>T.WeekdayId===e&&T.LecNo===s),h=o.length>0?o[0].StdDivId:null,c=o.length>0?o[0].SubId:null,f=r.filter(T=>T.SubId===c&&T.StdDivId!==h);return f.unshift({Id:"0",StdDivId:"0",SubId:"0",Name:"Select",SubTeacher:"Select",OrgStdId:"0",OrgDivId:"0",Value:"0"}),f}i.useEffect(()=>{var e,s;if(j!=="0"&&C!=="0"&&Se.length>0){const a=Se==null?void 0:Se.filter(c=>c.Weekday_Id===j&&c.Lecture_Number===C);let r=(e=a[0])==null?void 0:e.ParentGroupId,o=(s=a[0])==null?void 0:s.SubjectGroupId;const h={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asStdDivId:Number(p),asParentGroupId:Number(r),asSubjectGroupId:Number(o)};l(za(h))}},[Se,j,C]);const[Js,Ks]=i.useState([]),[dt,ea]=i.useState("0");i.useEffect(()=>{var e;if(Lt.length>0&&j!=="0"&&C!=="0"){let a=(e=(Se==null?void 0:Se.filter(o=>o.Weekday_Id===j&&o.Lecture_Number===C))[0])==null?void 0:e.Subject_Id,r=Lt.filter(o=>o.Subject_Id!==a);r=r.map(o=>({Id:o.Subject_Id,Name:o.SubjectTeacher,Value:o.Subject_Id,TeacherId:o.Teacher_Id})),r.unshift({Id:"0",Name:"Select",Value:"0",TeacherId:"0"}),Ks(r)}},[Lt,j,C]);const ta=Qs(j,C,_s,Ls);let rs=Ms.filter(Zs);rs.unshift({Id:"0",Name:"Select",Value:"0"});const Ot={asSchoolId:Number(localStorage.getItem("SchoolId")),asTeacher_Id:Number(x),asConsiderAssembly:Ge?"Y":"N",asConsiderMPT:Xe?"Y":"N",asConsiderStayback:Ve?"Y":"N",asConsiderWeeklyTest:Ye?"Y":"N"};i.useEffect(()=>{Fe!==""&&(pe.success(Fe),l(Ha()),sessionStorage.removeItem("ExceedLecMsg"),l(Ze()),l($e(Ne)),l(Ut(Ot)))},[Fe]),i.useEffect(()=>{Be!==""&&(pe.success(Be),l(Ua()),l(ve()),l(Ue(Re)))},[Be]),i.useEffect(()=>{wt!==""&&(pe.success(wt),l(qa()),l($e(Ne)),l(Ue(Re)))},[wt]);const ls={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcadmicYearId:Number(sessionStorage.getItem("AcademicYearId")),asTeacher_id:we==="2"&&pt==="Y"||st.length>0&&st[0].Can_Edit==="Y"?0:Number(gt)};i.useEffect(()=>{u==="Class"?(l(Ze()),l(Za(ls))):u==="Teacher"&&(l(ve()),l(Qa(ls)))},[u]),i.useEffect(()=>{$t!==""&&pe.success($t),l(Ja()),l(ut(ot))},[$t]),i.useEffect(()=>{const e={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asStandardId:Number(ae)};ae!=="0"&&l(Ka(e))},[ae]);const Ne={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asTeacherID:u==="Teacher"&&x!=="0"?Number(x):0};i.useEffect(()=>{x!=="0"&&u==="Teacher"&&(Ae({}),l(er()),l($e(Ne)))},[x,u]),i.useEffect(()=>{p!=="0"&&u==="Class"&&(Ce({}),l(tr()),l(Ue(Re)))},[p,u]);const Re={asSchool_Id:Number(localStorage.getItem("SchoolId")),asAcademicYear_ID:Number(sessionStorage.getItem("AcademicYearId")),asStandardDivisionId:u==="Class"&&p!=="0"?Number(p):0},ns={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asTeacherId:u==="Teacher"&&x!=="0"?Number(x):0,asStandardDivId:u==="Class"&&p!=="0"?Number(p):0},[sa,aa]=i.useState(),[ra,la]=i.useState(),[na,ia]=i.useState(),[ca,da]=i.useState(),[oa,xa]=i.useState();i.useEffect(()=>{x!=="0"&&(async()=>{try{await Promise.all([l(Ss(ns))])}catch{pe.error("Request Failed. Try refreshing the page.")}})()},[x]),i.useEffect(()=>{vt!==""&&(pe.success(vt),l(sr()),hs(),l($e(Ne)),it(!1),He(!1))},[vt]),i.useEffect(()=>{if(ts&&G.length>0&&M.length>0&&(V==null?void 0:V.length)>0&&(Y==null?void 0:Y.length)>0&&(O==null?void 0:O.length)>0&&(N==null?void 0:N.length)>0&&(R==null?void 0:R.length)>0){Ae({});const e={},s=[V,Y,O,N,R],a=M.map(r=>r.WeekdayId);G.forEach(r=>{const o=r.Text1;["Text2","Text3","Text4","Text5","Text6"].forEach((h,c)=>{var y,k,g,m;let f=s[c].filter(A=>A.Id===r[h]);const T=`${a[c]}-${o}`;e[T]=`${r[h]}-${a[c]}-${((y=f[0])==null?void 0:y.StdDivId)===void 0?"0":(k=f[0])==null?void 0:k.StdDivId}-${((g=f[0])==null?void 0:g.SubId)===void 0?"0":(m=f[0])==null?void 0:m.SubId}-${o}`})}),Ae(e)}},[G,M,ts,V,Y,O,N,R]),i.useEffect(()=>{if(q.length>0&&_.length>0&&V.length>0&&Y.length>0&&O.length>0&&N.length>0&&R.length>0){Ce({});const e={},s=[V,Y,O,N,R],a=_.map(r=>r.WeekdayId);q.forEach(r=>{const o=r.Text1;["Text2","Text3","Text4","Text5","Text6"].forEach((h,c)=>{var y,k,g,m;let f=s[c].filter(A=>A.Id===r[h]);const T=`${a[c]}-${o}`;e[T]=`${r[h]}-${a[c]}-${((y=f[0])==null?void 0:y.TeacherId)===void 0?"0":(k=f[0])==null?void 0:k.TeacherId}-${((g=f[0])==null?void 0:g.SubId)===void 0?"0":(m=f[0])==null?void 0:m.SubId}-${o}`})}),Ce(e)}},[q,_,V,Y,O,N,R]),i.useEffect(()=>{K.length>0&&K.map((e,s)=>{Bt(e.Assembly==="Y"),Et(e.MPT==="Y"),Yt(e.Weeklytest==="Y"),Pt(e.Stayback==="True")})},[K]),i.useEffect(()=>{p!=="0"&&(async()=>{try{await Promise.all([l(Ss(ns))])}catch{pe.error("Request Failed. Try refreshing the page.")}})()},[p]);const ot={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearID:Number(sessionStorage.getItem("AcademicYearId")),asTeacher_Id:u==="Teacher"?Number(x):0,asStandardDivision_Id:u==="Teacher"?0:Number(ae)};i.useEffect(()=>{_e!==""&&(pe.success(_e),l(ar()),l(Ue(Re)),l($e(Ne)),l(Ze()),l(ve()),l(ut(ot)),l(Ut(Ot)))},[_e]),i.useEffect(()=>{x!=="0"&&l(Ut(Ot))},[x]),i.useEffect(()=>{x!=="0"&&l(ut(ot))},[x]),i.useEffect(()=>{ae!=="0"&&p!=="0"&&l(ut(ot))},[ae,p]);const is=()=>{l(xt()),hs(),it(!0),He(!1);const e={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearID:Number(sessionStorage.getItem("AcademicYearId")),asTeacher_Id:u==="Teacher"?Number(x):0,asStandardDivision_Id:u==="Class"?Number(p):0};l(dr(e)),l(or(e)),u==="Class"&&l(xr(e))},ua=e=>{Qt(e.currentTarget)},ba=()=>{Qt(null)},cs=()=>{const e={asSchoolId:Number(localStorage.getItem("localSchoolId")),asAcadmicYearId:Number(sessionStorage.getItem("AcademicYearId")),asTeacher_id:u==="Teacher"?Number(x):0,asStandardDivision_Id:u==="Teacher"?0:Number(p)};Q({title:"Please Confirm",message:"Are you sure you want to reset this timetable?",variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onConfirm:()=>{l(ur(e)),L()},onCancel:()=>{L()}})},ds=!!Zt,ha=ds?"teacher-settings-popover":void 0,Ta=e=>{Et(B===!1?e.target.checked:!1)},fa=e=>{Pt(E===!1?e.target.checked:!1)},ya=e=>{Bt(F===!1?e.target.checked:!1)},ma=e=>{Yt(X===!1?e.target.checked:!1)},Ia=(e,s)=>{Ae(a=>({...a,[s]:`${e.Value}-${s==null?void 0:s.split("-")[0]}-${e.StdDivId}-${e.SubId}-${s==null?void 0:s.split("-")[1]}`}))},ga=(e,s)=>{Ae(a=>({...a,[s]:`${e.Value}-${s==null?void 0:s.split("-")[0]}-${e.StdDivId}-${e.SubId}-${s==null?void 0:s.split("-")[1]}`}))},pa=(e,s)=>{Ae(a=>({...a,[s]:`${e.Value}-${s==null?void 0:s.split("-")[0]}-${e.StdDivId}-${e.SubId}-${s==null?void 0:s.split("-")[1]}`}))},ja=(e,s)=>{Ae(a=>({...a,[s]:`${e.Value}-${s==null?void 0:s.split("-")[0]}-${e.StdDivId}-${e.SubId}-${s==null?void 0:s.split("-")[1]}`}))},ka=(e,s)=>{Ae(a=>({...a,[s]:`${e.Value}-${s==null?void 0:s.split("-")[0]}-${e.StdDivId}-${e.SubId}-${s==null?void 0:s.split("-")[1]}`}))},Sa=(e,s)=>{Ce(a=>({...a,[s]:`${e.Value}-${s==null?void 0:s.split("-")[0]}-${e.TeacherId}-${e.SubId}-${s==null?void 0:s.split("-")[1]}`}))},Aa=(e,s)=>{Ce(a=>({...a,[s]:`${e.Value}-${s==null?void 0:s.split("-")[0]}-${e.TeacherId}-${e.SubId}-${s==null?void 0:s.split("-")[1]}`}))},Ca=(e,s)=>{Ce(a=>({...a,[s]:`${e.Value}-${s==null?void 0:s.split("-")[0]}-${e.TeacherId}-${e.SubId}-${s==null?void 0:s.split("-")[1]}`}))},Da=(e,s)=>{Ce(a=>({...a,[s]:`${e.Value}-${s==null?void 0:s.split("-")[0]}-${e.TeacherId}-${e.SubId}-${s==null?void 0:s.split("-")[1]}`}))},Wa=(e,s)=>{Ce(a=>({...a,[s]:`${e.Value}-${s==null?void 0:s.split("-")[0]}-${e.TeacherId}-${e.SubId}-${s==null?void 0:s.split("-")[1]}`}))};function os(){let e="";const s=_.map(a=>a.WeekdayId);return q.forEach(a=>{const r=a.Text1;["Text2","Text3","Text4","Text5","Text6"].forEach((o,h)=>{var f,T;const c=`${s[h]}-${r}`;((f=z[c])==null?void 0:f.split("-")[0])!=="0"&&r!=="99"&&(e+=`<DaywiseTimeTable Weekday_Id="${(T=z[c])==null?void 0:T.split("-")[1]}" />`)})}),e=`<DaywiseTimeTableMaster>${e}</DaywiseTimeTableMaster>`,e}function xs(){let e="";const s=_.map(a=>a.WeekdayId);return q.forEach(a=>{const r=a.Text1;["Text2","Text3","Text4","Text5","Text6"].forEach((o,h)=>{var f,T,y,k,g;const c=`${s[h]}-${r}`;((f=z[c])==null?void 0:f.split("-")[0])!=="0"&&r!=="99"&&(e+=`<DaywiseTimeTableDetail WeekDay_Id="${(T=z[c])==null?void 0:T.split("-")[1]}" Lecture_Number="${(y=z[c])==null?void 0:y.split("-")[4]}" Teacher_ID="${(k=z[c])==null?void 0:k.split("-")[2]}" Subject_Id="${(g=z[c])==null?void 0:g.split("-")[3]}"/>`)})}),e=`<DaywiseTimeTableDetails>${e}</DaywiseTimeTableDetails>`,e}const Na={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asInsertedById:Number(sessionStorage.getItem("Id")),asStdDivId:Number(p),asMasterXml:os(),asDetailXml:xs(),asAdditionalLect:null,IsAdditionalClass:!1,asIncCnt:0};function $a(){Q({title:"Please Confirm",message:"Are you sure you want to save this timetable?",variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onConfirm:()=>{l(br(Na)),L()},onCancel:()=>{L()}})}function va(){sessionStorage.removeItem("ExceedLecMsg");const e={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asInsertedById:Number(sessionStorage.getItem("Id")),asTeacherID:Number(x),asMasterXml:Rt(),asDetailXml:zt(),asTeacherXML:ze(),IsAdditionalClass:0,asIncCnt:0};Q({title:"Please Confirm",message:"Are you sure you want to save this timetable?",variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onConfirm:()=>{l(hr(e)),L()},onCancel:()=>{L()}})}i.useEffect(()=>{if(Ie.length>0&&Oe(Ie[0])===!1){let e=Ie[0];Q({title:"Please Confirm",message:`${e.Text4}Do you want to increase limit for subject(s)?`,variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onConfirm:()=>{const s={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asInsertedById:Number(sessionStorage.getItem("Id")),asTeacherID:Number(x),asMasterXml:Rt(),asDetailXml:zt(),asTeacherXML:ze(),IsAdditionalClass:0,asIncCnt:1};l(ys(s)),L()},onCancel:()=>{L(),sessionStorage.removeItem("ExceedLecMsg"),l(Ze())}})}},[Ie]),i.useEffect(()=>{if(J!==void 0&&(J==null?void 0:J.length)>0&&J!==void 0&&as(J[0])===!1){let e=J[0];const s={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asSubjectId:Number(H),asTeacherId:Number(x),asStdDivId:Number(w),asLectureNo:Number(C),asWeekDayId:Number(j)},a={asSchoolId:Number(localStorage.getItem("localSchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asInsertedById:Number(sessionStorage.getItem("Id")),asTeacherID:Number(x),asMasterXml:`<DaywiseTimeTableMaster><DaywiseTimeTable Standard_Division_Id="${w}" Weekday_Id="${j}" /></DaywiseTimeTableMaster>`,asDetailXml:`<DaywiseTimeTableDetails><DaywiseTimeTableDetail WeekDay_Id="${j}" Teacher_ID="${x}" Standard_Division_Id="${w}" Lecture_Number="${C}" Subject_Id="${H}" /></DaywiseTimeTableDetails>`,asTeacherXML:ze(),IsAdditionalClass:1,asIncCnt:0},r={asSchoolId:Number(localStorage.getItem("localSchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asInsertedById:Number(sessionStorage.getItem("Id")),asTeacherID:Number(x),asMasterXml:`<DaywiseTimeTableMaster><DaywiseTimeTable Standard_Division_Id='${w}' Weekday_Id='${j}' /></DaywiseTimeTableMaster>`,asDetailXml:`<DaywiseTimeTableDetails><DaywiseTimeTableDetail WeekDay_Id='${j}' Teacher_ID='${x}' Standard_Division_Id='${w}' Lecture_Number='${C}' Subject_Id='${H}' /></DaywiseTimeTableDetails>`,IsAdditionalClass:!0,asIncCnt:1},o={asSchoolId:Number(localStorage.getItem("localSchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asInserted_By_id:Number(sessionStorage.getItem("Id")),asStandardDivId:Number(w),asDayTimeTableMasterXml:`<DaywiseTimeTableMaster><DaywiseTimeTable Standard_Division_Id='${w}' Weekday_Id='${j}' /></DaywiseTimeTableMaster>`,asDayTimeTableDetailsXml:`<DaywiseTimeTableDetails><DaywiseTimeTableDetail WeekDay_Id='${j}' Teacher_ID='${x}' Standard_Division_Id='${w}' Lecture_Number='${C}' Subject_Id='${H}' /></DaywiseTimeTableDetails>`,asIsAdditionalClass:!0,asIsCountInceased:0},h={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asSubjectId:Number(H),asTeacherId:Number(dt),asStdDivId:Number(p),asLectureNo:Number(C),asWeekDayId:Number(j)},c={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asInsertedById:Number(sessionStorage.getItem("Id")),asStdDivId:Number(p),asMasterXml:`<DaywiseTimeTableMaster><DaywiseTimeTable Standard_Division_Id='${p}' Weekday_Id='${j}' /></DaywiseTimeTableMaster>`,asDetailXml:`<DaywiseTimeTableDetails><DaywiseTimeTableDetail WeekDay_Id='${j}' Teacher_ID='${dt}' Standard_Division_Id='${p}' Lecture_Number='${C}' Subject_Id='${H}' /></DaywiseTimeTableDetails>`,IsAdditionalClass:!0,asIncCnt:1};Q({title:"Please Confirm",message:`${e.Text4}Do you want to increase limit for subject(s)?`,variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onConfirm:()=>{u==="Teacher"?l(ms(a,s,o,r)):u==="Class"&&l(Is(h,c)),L()},onCancel:()=>{L(),l(qe())}})}},[J]),i.useEffect(()=>{if(rt.length>0&&Oe(rt[0])===!1){let e=rt[0];Q({title:"Please Confirm",message:`${e.Text4}Do you want to increase limit for subject(s)?`,variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onConfirm:()=>{const s={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asInsertedById:Number(sessionStorage.getItem("Id")),asTeacherID:Number(x),asMasterXml:Rt(),asDetailXml:zt(),asTeacherXML:ze(),IsAdditionalClass:0,asIncCnt:1};l(ys(s)),L()},onCancel:()=>{L(),sessionStorage.removeItem("ExceedLecMsg"),l(rr())}})}},[rt]),i.useEffect(()=>{if(ge.length>0&&Oe(ge[0])===!1){let e=ge[0];Q({title:"Please Confirm",message:`${e.Text4}Do you want to increase limit for subject(s)?`,variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onConfirm:()=>{const s={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asInsertedById:Number(sessionStorage.getItem("Id")),asStdDivId:Number(p),asMasterXml:os(),asDetailXml:xs(),asAdditionalLect:null,IsAdditionalClass:!1,asIncCnt:1};l(lr(s)),L()},onCancel:()=>{L(),sessionStorage.removeItem("ExceedLecMsg"),l(ve())}})}},[ge]);function us(){const e={},s=["Monday","Tuesday","Wednesday","Thursday","Friday"];if(M.length>0)for(let a=0;a<M.length;a++)e[M[a].WeekdayId]=s[a];return e}function bs(e){const s=us();if(e!==void 0){const[a,r,o,h,c]=e.split("-"),f=s[r];return[...E?Wt:[],...F?Dt:[],...B?Ct:[],...X?Nt:[]].some(y=>y.Text1===f&&y.Text2===c)}}function wa(e){const s=us();if(e!==void 0){const[a,r,o,h,c]=e.split("-"),f=Ee.find(T=>T.Text2===s[r]&&T.Text1===c);if(f){const T=f.Text5,y={asSchoolId:Number(localStorage.getItem("SchoolId")),asDetailID:Number(T)};l(Tr(y))}}}function Ma(e,s){let a=0;if(Object.keys(I).length>0){for(const r in I)if(I.hasOwnProperty(r)){const o=I[r],[,,h,c]=o.split("-");c===e&&h===s&&a++}}return a}function Rt(){let e="";const s=M.map(a=>a.WeekdayId);return G.forEach(a=>{const r=a.Text1;["Text2","Text3","Text4","Text5","Text6"].forEach((o,h)=>{var f,T,y,k,g;const c=`${s[h]}-${r}`;bs(I[c])&&(I[c]=`0-${(f=I[c])==null?void 0:f.split("-")[1]}-0-0-${(T=I[c])==null?void 0:T.split("-")[4]}`),((y=I[c])==null?void 0:y.split("-")[0])!=="0"&&r!=="99"&&(e+=`<DaywiseTimeTable Standard_Division_Id="${(k=I[c])==null?void 0:k.split("-")[2]}" Weekday_Id="${(g=I[c])==null?void 0:g.split("-")[1]}" />`)})}),e=`<DaywiseTimeTableMaster>${e}</DaywiseTimeTableMaster>`,e}function zt(){let e="";const s=M.map(a=>a.WeekdayId);return G.forEach(a=>{const r=a.Text1;["Text2","Text3","Text4","Text5","Text6"].forEach((o,h)=>{var f,T,y,k,g,m,A;const c=`${s[h]}-${r}`;bs(I[c])&&(I[c]=`0-${(f=I[c])==null?void 0:f.split("-")[1]}-0-0-${(T=I[c])==null?void 0:T.split("-")[4]}`,wa(I[c])),((y=I[c])==null?void 0:y.split("-")[0])!=="0"&&r!=="99"&&(e+=`<DaywiseTimeTableDetail WeekDay_Id="${(k=I[c])==null?void 0:k.split("-")[1]}" Teacher_ID="${x}" Standard_Division_Id="${(g=I[c])==null?void 0:g.split("-")[2]}" Lecture_Number="${(m=I[c])==null?void 0:m.split("-")[4]}" Subject_Id="${(A=I[c])==null?void 0:A.split("-")[3]}"/>`)})}),e=`<DaywiseTimeTableDetails>${e}</DaywiseTimeTableDetails>`,e}function ze(){let e="";return e=`<TeacherMaster><Teacher Assembly_Applicable="${F===!0?"Y":"N"}" MPT_Applicable="${B===!0?"Y":"N"}" Stayback_Applicable="${E===!0?"Y":"N"}" /></TeacherMaster>`,e}const[Ht,He]=i.useState(!1);function hs(){ss("0"),Gt("0"),Xt("0")}function Ts(e){const s={asSchoolId:Number(localStorage.getItem("SchoolId")),asDetailID:Number(e)};Q({title:"Please Confirm",message:"Are you sure you want to delete this additional lecture ?",variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onConfirm:()=>{L(),l(fr(s))},onCancel:L})}function ce(e,s){return Xe?Ct.find(r=>r.Text1===e&&r.Text2===s):!1}function de(e,s){return Ge?Dt.find(r=>r.Text1===e&&r.Text2===s):!1}function oe(e,s){return Ve?Wt.find(r=>r.Text1===e&&r.Text2===s):!1}function xe(e,s){return Ye?Nt.find(r=>r.Text1===e&&r.Text2===s):!1}function be(e,s){return Xe?Ns.find(r=>r.Text1===e&&r.Text4===s):!1}function he(e,s){return Ge?vs.find(r=>r.Text1===e&&r.Text4===s):!1}function Te(e,s){return Ve?ws.find(r=>r.Text1===e&&r.Text4===s):!1}function fe(e,s){return Ye?$s.find(r=>r.Text1===e&&r.Text4===s):!1}function ye(e,s){let a=!1;return Ee.find(o=>o.Text2===e&&o.Text1===s)!==void 0&&(a=!0),a}function me(e,s){let a=!1;return lt.find(o=>o.Text3===e&&o.Text2===s)!==void 0&&(a=!0),a}function S(e,s){const a=Number(s);let r=e.filter(o=>a<=parseInt(o.MaxDayLec));return r.unshift({Id:"0",Name:"Select",Value:"0",StdDivId:"0",SubId:"0",TeacherId:"0",MaxDayLec:"0"}),r}i.useEffect(()=>{if(x!=="0"&&K.length>0&&Object.keys(I).length>0&&G.length>0){let e=["Monday","Tuesday","Wednesday","Thursday","Friday"];const s={Monday:aa,Tuesday:la,Wednesday:ia,Thursday:da,Friday:xa};e.forEach(a=>{let r=G.reduce((o,h)=>{let c=0,f=0,T=0,y=0,k=0;const g={Monday:h.Text2!=="0",Tuesday:h.Text3!=="0",Wednesday:h.Text4!=="0",Thursday:h.Text5!=="0",Friday:h.Text6!=="0"};return h.Text1!=="99"&&(c=B&&ce(a,h.Text1)?1:0,f=F&&de(a,h.Text1)?1:0,T=E&&oe(a,h.Text1)?1:0,y=X&&xe(a,h.Text1)?1:0,k=g[a]?1:0),o+c+f+T+y+k},0);s[a](Number(r))})}},[G,I,K,F,B,E,X,x,Wt,Nt,Dt,Ct]);function La(){l(xt()),l(qe());const e={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asSubjectId:Number(H),asTeacherId:Number(x),asStdDivId:Number(w),asLectureNo:Number(C),asWeekDayId:Number(j)},s={asSchoolId:Number(localStorage.getItem("localSchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asInsertedById:Number(sessionStorage.getItem("Id")),asTeacherID:Number(x),asMasterXml:`<DaywiseTimeTableMaster><DaywiseTimeTable Standard_Division_Id="${w}" Weekday_Id="${j}" /></DaywiseTimeTableMaster>`,asDetailXml:`<DaywiseTimeTableDetails><DaywiseTimeTableDetail WeekDay_Id="${j}" Teacher_ID="${x}" Standard_Division_Id="${w}" Lecture_Number="${C}" Subject_Id="${H}" /></DaywiseTimeTableDetails>`,asTeacherXML:ze(),IsAdditionalClass:1,asIncCnt:0},a={asSchoolId:Number(localStorage.getItem("localSchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asInsertedById:Number(sessionStorage.getItem("Id")),asTeacherID:Number(x),asMasterXml:`<DaywiseTimeTableMaster><DaywiseTimeTable Standard_Division_Id='${w}' Weekday_Id='${j}' /></DaywiseTimeTableMaster>`,asDetailXml:`<DaywiseTimeTableDetails><DaywiseTimeTableDetail WeekDay_Id='${j}' Teacher_ID='${x}' Standard_Division_Id='${w}' Lecture_Number='${C}' Subject_Id='${H}' /></DaywiseTimeTableDetails>`,IsAdditionalClass:!0,asIncCnt:0},r={asSchoolId:Number(localStorage.getItem("localSchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asInserted_By_id:Number(sessionStorage.getItem("Id")),asStandardDivId:Number(w),asDayTimeTableMasterXml:`<DaywiseTimeTableMaster><DaywiseTimeTable Standard_Division_Id='${w}' Weekday_Id='${j}' /></DaywiseTimeTableMaster>`,asDayTimeTableDetailsXml:`<DaywiseTimeTableDetails><DaywiseTimeTableDetail WeekDay_Id='${j}' Teacher_ID='${x}' Standard_Division_Id='${w}' Lecture_Number='${C}' Subject_Id='${H}' /></DaywiseTimeTableDetails>`,asIsAdditionalClass:!0,asIsCountInceased:0};j!=="0"&&C!=="0"&&w!=="0"?l(ms(s,e,r,a)):He(!0)}function _a(){l(xt()),l(qe());const e={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asSubjectId:Number(H),asTeacherId:Number(dt),asStdDivId:Number(p),asLectureNo:Number(C),asWeekDayId:Number(j)},s={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asInsertedById:Number(sessionStorage.getItem("Id")),asStdDivId:Number(p),asMasterXml:`<DaywiseTimeTableMaster><DaywiseTimeTable Standard_Division_Id='${p}' Weekday_Id='${j}' /></DaywiseTimeTableMaster>`,asDetailXml:`<DaywiseTimeTableDetails><DaywiseTimeTableDetail WeekDay_Id='${j}' Teacher_ID='${dt}' Standard_Division_Id='${p}' Lecture_Number='${C}' Subject_Id='${H}' /></DaywiseTimeTableDetails>`,IsAdditionalClass:!0,asIncCnt:0};j!=="0"&&C!=="0"&&H!=="0"?l(Is(e,s)):He(!0)}const Fa=[{id:1,Name:"Lecture not applicable",Value:t.jsx(v,{sx:{display:"flex",gap:1,alignItems:"center"},children:t.jsx(Cs,{style:{color:"#9ca3af",fontSize:25,position:"relative",top:"-2px"}})})},{id:2,Name:"Associated with additional / optional subject lectures",Value:t.jsx(v,{sx:{display:"flex",gap:1,alignItems:"center"},children:t.jsx(Cs,{style:{color:"#e5e7eb",fontSize:25,position:"relative",top:"-2px"}})})}];return t.jsxs(t.Fragment,{children:[t.jsxs(v,{sx:{mx:2},children:[t.jsx(nr,{navLinks:[{title:"Weekly Timetable",path:"/RITeSchool/Teacher/WeeklyTimetable"}],rightActions:t.jsx(t.Fragment,{children:t.jsxs(ke,{direction:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:"right",spacing:1,sx:{mt:{xs:0,sm:0},flexWrap:{xs:"nowrap",sm:"nowrap"}},children:[t.jsx(We,{item:!0,xs:12,sm:6,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-end"},children:t.jsx(ke,{direction:"row",gap:1,alignItems:"left",sx:{flexWrap:{xs:"wrap",sm:"nowrap"},justifyContent:{xs:"flex-start",sm:"flex-start"}},children:t.jsxs(Ds,{label:"Select By",size:"small",select:!0,sx:{width:{xs:"40vw",sm:"16vw"}},value:u,onChange:e=>{Fs(e.target.value),u==="Teacher"?(ct("0"),Ft("0"),_t("0")):u==="Class"&&(_t("0"),ct("0"),Ft("0"))},children:[t.jsx(gs,{value:"Teacher",children:"Teacher"}),t.jsx(gs,{value:"Class",children:"Class"})]})})}),t.jsxs(ke,{direction:{xs:"row",sm:"row"},gap:1,alignItems:"center",justifyContent:"flex-start",sx:{width:"100%",flexWrap:{xs:"wrap",sm:"nowrap"}},children:[t.jsx(v,{sx:{width:{xs:"100%",sm:"auto"}},children:u==="Teacher"&&t.jsx(U,{onChange:e=>{_t(e.Value),Es(e.Name),Gs(!0),l(Ze())},ItemList:jt,defaultValue:x,label:"Teacher",sx:{width:{xs:"40vw",sm:"20vw"}},size:"small"})}),x!=="0"&&x!==void 0&&t.jsx(W,{title:"Teacher Settings",children:t.jsx(ee,{onClick:ua,sx:{color:"white",backgroundColor:ue[500],"&:hover":{backgroundColor:ue[600]}},children:t.jsx(ir,{})})}),t.jsx(cr,{id:ha,open:ds,anchorEl:Zt,onClose:ba,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:t.jsx(v,{sx:{p:2},children:t.jsxs(gr,{children:[Ge&&t.jsx(bt,{control:t.jsx(ht,{checked:F,onChange:ya}),label:`Is ${re} Applicable?`}),Xe&&t.jsx(bt,{control:t.jsx(ht,{checked:B,onChange:Ta}),label:`Is ${le} Applicable?`}),Ve&&t.jsx(bt,{control:t.jsx(ht,{checked:E,onChange:fa}),label:`Is ${ne} Applicable?`}),Ye&&t.jsx(bt,{control:t.jsx(ht,{checked:X,onChange:ma}),label:`Is ${ie} Applicable?`})]})})}),u==="Class"&&t.jsxs(t.Fragment,{children:[t.jsx(We,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:t.jsx(U,{onChange:e=>{Ft(e.Value),ct("0"),Ps(e.Name),l(ve())},ItemList:St,label:"Standard",defaultValue:ae,sx:{width:{xs:"40vw",sm:"10vw"}},size:"small",DisableClearable:!0})}),t.jsx(We,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:t.jsx(U,{onChange:e=>{ct(e.Value),Ys(e.Name),l(ve())},ItemList:ae!=="0"?At:[],label:"Division",defaultValue:p,sx:{width:{xs:"40vw",sm:"10vw"}},size:"small",DisableClearable:!0})})]}),u==="Teacher"&&x!=="0"&&x!==void 0&&t.jsxs(t.Fragment,{children:[t.jsx(W,{title:"Reset",children:t.jsx(ee,{sx:{color:"white",backgroundColor:Tt[500],"&:hover":{backgroundColor:Tt[600]}},onClick:cs,children:t.jsx(ps,{})})}),t.jsx(v,{children:t.jsx(W,{title:"Define timetable for the selected teacher / class.",children:t.jsx(ee,{sx:{color:"white",backgroundColor:ue[500],"&:hover":{backgroundColor:ue[600]}},children:t.jsx(ft,{})})})}),t.jsx(W,{title:"Save",children:t.jsx(ee,{sx:{color:"white",backgroundColor:je[500],"&:hover":{backgroundColor:je[600]}},onClick:va,children:t.jsx(As,{})})}),t.jsx(W,{title:"Additional Lectures",children:t.jsx(ee,{sx:{color:"white",backgroundColor:je[500],"&:hover":{backgroundColor:je[600]}},onClick:is,children:t.jsx(js,{})})})]}),u==="Class"&&ae!=="0"&&p!=="0"&&t.jsxs(t.Fragment,{children:[t.jsx(W,{title:"Reset",children:t.jsx(ee,{sx:{color:"white",backgroundColor:Tt[500],"&:hover":{backgroundColor:Tt[600]}},onClick:cs,children:t.jsx(ps,{})})}),t.jsx(v,{children:t.jsx(W,{title:"Define timetable for the selected teacher / class.",children:t.jsx(ee,{sx:{color:"white",backgroundColor:ue[500],"&:hover":{backgroundColor:ue[600]}},children:t.jsx(ft,{})})})}),t.jsx(W,{title:"Save",children:t.jsx(ee,{sx:{color:"white",backgroundColor:je[500],"&:hover":{backgroundColor:je[600]}},onClick:$a,children:t.jsx(As,{})})}),t.jsx(W,{title:"Optional Subject Lectures",children:t.jsx(ee,{sx:{color:"white",backgroundColor:je[500],"&:hover":{backgroundColor:je[600]}},onClick:is,children:t.jsx(js,{})})})]}),x==="0"||x===void 0?u==="Teacher"&&t.jsx(v,{children:t.jsx(W,{title:"Define timetable for the selected teacher / class.",children:t.jsx(ee,{sx:{color:"white",backgroundColor:ue[500],"&:hover":{backgroundColor:ue[600]}},children:t.jsx(ft,{})})})}):"",p==="0"||p===void 0?u==="Class"&&t.jsx(v,{children:t.jsx(W,{title:"Define timetable for the selected teacher / class.",children:t.jsx(ee,{sx:{color:"white",backgroundColor:ue[500],"&:hover":{backgroundColor:ue[600]}},children:t.jsx(ft,{})})})}):""]})]})})}),t.jsx(v,{sx:{background:"white",p:1,mb:2},children:t.jsx(yr,{LegendArray:Fa})}),t.jsxs(v,{sx:{p:2,background:"white",mt:1},children:[(Ie==null?void 0:Ie.length)>0&&Oe(Ie[0])&&t.jsx(ke,{sx:{width:"100%"},spacing:.5,children:Ie.map((e,s)=>Object.keys(e).map(a=>{const r=e[a].trim();return r!==""?t.jsx("span",{dangerouslySetInnerHTML:{__html:r},style:{color:"red",fontWeight:"bolder"}}):null}))}),(ge==null?void 0:ge.length)>0&&Oe(ge[0])&&t.jsx(ke,{sx:{width:"100%"},spacing:.5,children:ge.map((e,s)=>Object.keys(e).map(a=>{const r=e[a].trim();return r!==""?t.jsx("span",{dangerouslySetInnerHTML:{__html:r},style:{color:"red",fontWeight:"bolder"}}):null}))}),t.jsx(ke,{direction:"row",gap:1,alignItems:"center",justifyContent:"space-between",mt:1,children:u==="Teacher"?t.jsxs(d,{variant:"h4",children:["Weekly timetable for"," ",x!=="0"?Jt:"teacher / class name"]}):t.jsxs(d,{variant:"h4",children:["Weekly timetable for"," ",ae!=="0"&&p!=="0"?`Class ${Kt} - ${es}`:"teacher / class name"]})}),x!=="0"&&Object.keys(I).length===0&&t.jsx(mt,{}),p!=="0"&&Object.keys(z).length===0&&t.jsx(mt,{}),at?t.jsx(mt,{}):t.jsxs(t.Fragment,{children:[u==="Teacher"&&x!=="0"&&x!==void 0&&G.length>0&&Object.keys(I).length>0?t.jsx(t.Fragment,{children:t.jsx(v,{sx:{mt:2},children:t.jsx(Qe,{children:t.jsxs(Je,{children:[t.jsx(Ke,{children:t.jsxs(te,{children:[t.jsx(D,{children:"Weekdays >>"}),t.jsx(D,{children:"Monday"}),t.jsx(D,{children:"Tuesday"}),t.jsx(D,{children:"Wednesday"}),t.jsx(D,{children:"Thursday"}),t.jsx(D,{children:"Friday"})]})}),t.jsx(et,{children:G.length>0&&(G==null?void 0:G.map((e,s)=>{var a,r,o,h,c,f,T,y,k;return t.jsx(t.Fragment,{children:M.length>0&&e.Text1!=="99"?t.jsxs(te,{children:[t.jsx(se,{sx:{textAlign:"center"},children:e.Text1}),t.jsx(W,{title:`For - Monday : ${e.Text1}`,arrow:!0,placement:"top",enterDelay:2e3,children:t.jsx(se,{sx:{backgroundColor:`${B&&ce("Monday",e.Text1)||F&&de("Monday",e.Text1)||E&&oe("Monday",e.Text1)||X===!0&&xe("Monday",e.Text1)?"#f3f4f6":S(V,e.Text1).length===1?"#9ca3af":e.Text2!=="0"?"#f3f4f6":""}`},children:B===!0&&ce("Monday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:le})}):F===!0&&de("Monday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:re})}):E===!0&&oe("Monday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ne})}):X===!0&&xe("Monday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ie})}):S(V,e.Text1).length===1?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:"Lecture Not Applicable"})}):t.jsx(U,{onChange:g=>Ia(g,`${M[0].WeekdayId}-${e.Text1}`),ItemList:S(V,e.Text1),sx:{minWidth:200,backgroundColor:`${e.Text2!=="0"&&ye("Monday",e.Text1)?"#e5e7eb":e.Text2!=="0"?"#f3f4f6":""}`,"& .Mui-disabled":{color:"inherit",WebkitTextFillColor:"inherit",fontWeight:"bold"}},size:"small",disabled:e.Text2!=="0"&&ye("Monday",e.Text1),DisableClearable:!0,defaultValue:(a=I[`${M[0].WeekdayId}-${e.Text1}`])==null?void 0:a.split("-")[0]})})}),t.jsx(W,{title:`For - Tuesday : ${e.Text1}`,arrow:!0,placement:"top",children:t.jsx(se,{sx:{backgroundColor:`${B&&ce("Tuesday",e.Text1)||F&&de("Tuesday",e.Text1)||E&&oe("Tuesday",e.Text1)||X===!0&&xe("Tuesday",e.Text1)?"#f3f4f6":S(Y,e.Text1).length===1?"#9ca3af":e.Text3!=="0"?"#f3f4f6":""}`},children:B===!0&&ce("Tuesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:le})}):F===!0&&de("Tuesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:re})}):S(Y,e.Text1).length===1?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:"Lecture Not Applicable"})}):E===!0&&oe("Tuesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ne})}):X===!0&&xe("Tuesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ie})}):t.jsx(U,{onChange:g=>{var m;return ga(g,`${(m=M[1])==null?void 0:m.WeekdayId}-${e.Text1}`)},ItemList:S(Y,e.Text1),sx:{minWidth:200,backgroundColor:`${e.Text3!=="0"&&ye("Tuesday",e.Text1)?"#e5e7eb":e.Text3!=="0"?"#f3f4f6":""}`,"& .Mui-disabled":{color:"inherit",WebkitTextFillColor:"inherit",fontWeight:"bold"}},size:"small",DisableClearable:!0,disabled:e.Text3!=="0"&&ye("Tuesday",e.Text1),defaultValue:(o=I[`${(r=M[1])==null?void 0:r.WeekdayId}-${e.Text1}`])==null?void 0:o.split("-")[0]})})}),t.jsx(W,{title:`For - Wednesday : ${e.Text1}`,arrow:!0,placement:"top",children:t.jsx(se,{sx:{backgroundColor:`${B&&ce("Wednesday",e.Text1)||F&&de("Wednesday",e.Text1)||E&&oe("Wednesday",e.Text1)||X===!0&&xe("Wednesday",e.Text1)?"#f3f4f6":S(O,e.Text1).length===1?"#9ca3af":e.Text4!=="0"?"#f3f4f6":""}`},children:B===!0&&ce("Wednesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:le})}):F===!0&&de("Wednesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:re})}):E===!0&&oe("Wednesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ne})}):X===!0&&xe("Wednesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ie})}):S(O,e.Text1).length===1?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:"Lecture Not Applicable"})}):t.jsx(U,{onChange:g=>{var m;return pa(g,`${(m=M[2])==null?void 0:m.WeekdayId}-${e.Text1}`)},ItemList:S(O,e.Text1),sx:{minWidth:200,backgroundColor:`${e.Text4!=="0"&&ye("Wednesday",e.Text1)?"#e5e7eb":e.Text4!=="0"?"#f3f4f6":""}`,"& .Mui-disabled":{color:"inherit",WebkitTextFillColor:"inherit",fontWeight:"bold"}},disabled:e.Text4!=="0"&&ye("Wednesday",e.Text1),size:"small",DisableClearable:!0,defaultValue:(c=I[`${(h=M[2])==null?void 0:h.WeekdayId}-${e.Text1}`])==null?void 0:c.split("-")[0]})})}),t.jsx(W,{title:`For - Thursday : ${e.Text1}`,arrow:!0,placement:"top",children:t.jsx(se,{sx:{backgroundColor:`${B&&ce("Thursday",e.Text1)||F&&de("Thursday",e.Text1)||E&&oe("Thursday",e.Text1)||X===!0&&xe("Thursday",e.Text1)?"#f3f4f6":S(N,e.Text1).length===1?"#9ca3af":e.Text5!=="0"?"#f3f4f6":""}`},children:B===!0&&ce("Thursday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:le})}):F===!0&&de("Thursday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:re})}):E===!0&&oe("Thursday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ne})}):X===!0&&xe("Thursday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ie})}):S(N,e.Text1).length===1?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:"Lecture Not Applicable"})}):t.jsx(U,{onChange:g=>{var m;return ja(g,`${(m=M[3])==null?void 0:m.WeekdayId}-${e.Text1}`)},ItemList:S(N,e.Text1),sx:{minWidth:200,backgroundColor:`${e.Text5!=="0"&&ye("Thursday",e.Text1)?"#e5e7eb":e.Text5!=="0"?"#f3f4f6":""}`,"& .Mui-disabled":{color:"inherit",WebkitTextFillColor:"inherit",fontWeight:"bold"}},size:"small",DisableClearable:!0,disabled:e.Text5!=="0"&&ye("Thursday",e.Text1),defaultValue:(T=I[`${(f=M[3])==null?void 0:f.WeekdayId}-${e.Text1}`])==null?void 0:T.split("-")[0]})})}),t.jsx(W,{title:`For - Friday : ${e.Text1}`,arrow:!0,placement:"top",children:t.jsx(se,{sx:{backgroundColor:`${B&&ce("Friday",e.Text1)||F&&de("Friday",e.Text1)||E&&oe("Friday",e.Text1)||X===!0&&xe("Friday",e.Text1)?"#f3f4f6":S(R,e.Text1).length===1?"#9ca3af":e.Text6!=="0"?"#f3f4f6":""}`},children:B===!0&&ce("Friday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:le})}):F===!0&&de("Friday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:re})}):E===!0&&oe("Friday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ne})}):X===!0&&xe("Friday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ie})}):S(R,e.Text1).length===1?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:"Lecture Not Applicable"})}):t.jsx(U,{onChange:g=>{var m;return ka(g,`${(m=M[4])==null?void 0:m.WeekdayId}-${e.Text1}`)},ItemList:S(R,e.Text1),sx:{minWidth:200,backgroundColor:`${e.Text6!=="0"&&ye("Friday",e.Text1)?"#e5e7eb":e.Text6!=="0"?"#f3f4f6":""}`,"& .Mui-disabled":{color:"inherit",WebkitTextFillColor:"inherit",fontWeight:"bold"}},size:"small",DisableClearable:!0,disabled:e.Text6!=="0"&&ye("Friday",e.Text1),defaultValue:(k=I[`${(y=M[4])==null?void 0:y.WeekdayId}-${e.Text1}`])==null?void 0:k.split("-")[0]})})})]},s):t.jsx(te,{children:Object.keys(I).length>0&&t.jsxs(t.Fragment,{children:[t.jsx(De,{children:"Total Lectures"}),t.jsx(De,{children:K.length>0&&sa}),t.jsx(De,{children:K.length>0&&ra}),t.jsx(De,{children:K.length>0&&na}),t.jsx(De,{children:K.length>0&&ca}),t.jsx(De,{children:K.length>0&&oa})]})})})}))})]})})})}):"",u==="Class"&&p!=="0"&&p!==void 0&&(q==null?void 0:q.length)>0&&Object.keys(z).length>0?t.jsx(t.Fragment,{children:t.jsx(v,{sx:{mt:0},children:t.jsx(Qe,{children:t.jsxs(Je,{children:[t.jsx(Ke,{children:t.jsxs(te,{children:[t.jsx(D,{children:"Weekdays >>"}),t.jsx(D,{children:"Monday"}),t.jsx(D,{children:"Tuesday"}),t.jsx(D,{children:"Wednesday"}),t.jsx(D,{children:"Thursday"}),t.jsx(D,{children:"Friday"})]})}),t.jsx(et,{children:(q==null?void 0:q.length)>0&&(q==null?void 0:q.map((e,s)=>{var a,r,o,h,c,f,T,y,k,g;return t.jsx(t.Fragment,{children:(_==null?void 0:_.length)>0&&e.Text1!=="99"&&t.jsxs(te,{children:[t.jsx(se,{sx:{textAlign:"center"},children:e.Text1}),t.jsx(W,{title:`For - Monday : ${e.Text1}`,arrow:!0,placement:"top",children:t.jsx(se,{sx:{backgroundColor:`${be("Monday",e.Text1)||he("Monday",e.Text1)||Te("Monday",e.Text1)||fe("Monday",e.Text1)?"#f3f4f6":S(V,e.Text1).length===1?"#9ca3af":e.Text2!=="0"?"#f3f4f6":""}`},children:be("Monday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:le})}):he("Monday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:re})}):fe("Monday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ie})}):Te("Monday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ne})}):S(V,e.Text1).length===1?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:"Lecture Not Applicable"})}):t.jsx(U,{onChange:m=>{var A;return Sa(m,`${(A=_[0])==null?void 0:A.WeekdayId}-${e.Text1}`)},ItemList:S(V,e.Text1),sx:{minWidth:200,backgroundColor:`${e.Text2!=="0"&&me("Monday",e.Text1)?"#e5e7eb":e.Text2!=="0"?"#f3f4f6":""}`,"& .Mui-disabled":{color:"inherit",WebkitTextFillColor:"inherit",fontWeight:"bold"}},disabled:e.Text2!=="0"&&me("Monday",e.Text1),size:"small",DisableClearable:!0,defaultValue:(r=z[`${(a=_[0])==null?void 0:a.WeekdayId}-${e.Text1}`])==null?void 0:r.split("-")[0]})})}),t.jsx(W,{title:`For - Tuesday : ${e.Text1}`,arrow:!0,placement:"top",children:t.jsx(se,{sx:{backgroundColor:`${be("Tuesday",e.Text1)||he("Tuesday",e.Text1)||Te("Tuesday",e.Text1)||fe("Tuesday",e.Text1)?"#f3f4f6":S(Y,e.Text1).length===1?"#9ca3af":e.Text3!=="0"?"#f3f4f6":""}`},children:be("Tuesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:le})}):he("Tuesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:re})}):fe("Tuesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ie})}):Te("Tuesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ne})}):S(Y,e.Text1).length===1?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:"Lecture Not Applicable"})}):t.jsx(U,{onChange:m=>{var A;return Aa(m,`${(A=_[1])==null?void 0:A.WeekdayId}-${e.Text1}`)},ItemList:S(Y,e.Text1),sx:{minWidth:200,backgroundColor:`${e.Text3!=="0"&&me("Tuesday",e.Text1)?"#e5e7eb":e.Text3!=="0"?"#f3f4f6":""}`,"& .Mui-disabled":{color:"inherit",WebkitTextFillColor:"inherit",fontWeight:"bold"}},disabled:e.Text3!=="0"&&me("Tuesday",e.Text1),size:"small",DisableClearable:!0,defaultValue:(h=z[`${(o=_[1])==null?void 0:o.WeekdayId}-${e.Text1}`])==null?void 0:h.split("-")[0]})})}),t.jsx(W,{title:`For - Wednesday : ${e.Text1}`,arrow:!0,placement:"top",children:t.jsx(se,{sx:{backgroundColor:`${be("Wednesday",e.Text1)||he("Wednesday",e.Text1)||Te("Wednesday",e.Text1)||fe("Wednesday",e.Text1)?"#f3f4f6":S(O,e.Text1).length===1?"#9ca3af":e.Text4!=="0"?"#f3f4f6":""}`},children:be("Wednesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:le})}):he("Wednesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:re})}):fe("Wednesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ie})}):Te("Wednesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ne})}):S(O,e.Text1).length===1?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:"Lecture Not Applicable"})}):t.jsx(U,{onChange:m=>{var A;return Ca(m,`${(A=_[2])==null?void 0:A.WeekdayId}-${e.Text1}`)},ItemList:S(O,e.Text1),sx:{minWidth:200,backgroundColor:`${e.Text4!=="0"&&me("Wednesday",e.Text1)?"#e5e7eb":e.Text4!=="0"?"#f3f4f6":""}`,"& .Mui-disabled":{color:"inherit",WebkitTextFillColor:"inherit",fontWeight:"bold"}},disabled:e.Text4!=="0"&&me("Wednesday",e.Text1),size:"small",DisableClearable:!0,defaultValue:(f=z[`${(c=_[2])==null?void 0:c.WeekdayId}-${e.Text1}`])==null?void 0:f.split("-")[0]})})}),t.jsx(W,{title:`For - Thursday : ${e.Text1}`,arrow:!0,placement:"top",children:t.jsx(se,{sx:{backgroundColor:`${be("Thursday",e.Text1)||he("Thursday",e.Text1)||fe("Thursday",e.Text1)||Te("Thursday",e.Text1)?"#f3f4f6":S(N,e.Text1).length===1?"#9ca3af":e.Text5!=="0"?"#f3f4f6":""}`},children:be("Thursday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:le})}):he("Thursday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:re})}):fe("Thursday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ie})}):Te("Thursday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ne})}):S(N,e.Text1).length===1?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:"Lecture Not Applicable"})}):t.jsx(U,{onChange:m=>{var A;return Da(m,`${(A=_[3])==null?void 0:A.WeekdayId}-${e.Text1}`)},ItemList:S(N,e.Text1),sx:{minWidth:200,backgroundColor:`${e.Text5!=="0"&&me("Thursday",e.Text1)?"#e5e7eb":e.Text5!=="0"?"#f3f4f6":""}`,"& .Mui-disabled":{color:"inherit",WebkitTextFillColor:"inherit",fontWeight:"bold"}},disabled:e.Text5!=="0"&&me("Thursday",e.Text1),size:"small",DisableClearable:!0,defaultValue:(y=z[`${(T=_[3])==null?void 0:T.WeekdayId}-${e.Text1}`])==null?void 0:y.split("-")[0]})})}),t.jsx(W,{title:`For - Friday : ${e.Text1}`,arrow:!0,placement:"top",children:t.jsx(se,{sx:{backgroundColor:`${be("Friday",e.Text1)||he("Friday",e.Text1)||fe("Friday",e.Text1)||Te("Friday",e.Text1)?"#f3f4f6":S(R,e.Text1).length===1?"#9ca3af":e.Text6!=="0"?"#f3f4f6":""}`},children:be("Friday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:le})}):he("Friday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:re})}):fe("Friday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ie})}):Te("Friday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ne})}):S(R,e.Text1).length===1?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:"Lecture Not Applicable"})}):t.jsx(U,{onChange:m=>{var A;return Wa(m,`${(A=_[4])==null?void 0:A.WeekdayId}-${e.Text1}`)},ItemList:S(R,e.Text1),sx:{minWidth:200,backgroundColor:`${e.Text6!=="0"&&me("Friday",e.Text1)?"#e5e7eb":e.Text6!=="0"?"#f3f4f6":""}`,"& .Mui-disabled":{color:"inherit",WebkitTextFillColor:"inherit",fontWeight:"bold"}},disabled:e.Text6!=="0"&&me("Friday",e.Text1),size:"small",DisableClearable:!0,defaultValue:(g=z[`${(k=_[4])==null?void 0:k.WeekdayId}-${e.Text1}`])==null?void 0:g.split("-")[0]})})})]})})}))})]})})})}):"",u==="Teacher"&&x==="0"&&t.jsx(d,{variant:"body1",sx:{textAlign:"center",marginBottom:1,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white",mt:2},children:t.jsx("b",{children:"No record found."})}),u==="Class"&&p==="0"&&t.jsx(d,{variant:"body1",sx:{textAlign:"center",marginBottom:1,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white",mt:2},children:t.jsx("b",{children:"No record found."})})]}),t.jsx(ke,{direction:"row",gap:2,children:t.jsxs(We,{container:!0,spacing:2,children:[t.jsx(We,{item:!0,xs:12,md:12,lg:12,children:u==="Class"&&p!=="0"&&p!==void 0&&!at&&Object.keys(z).length>0&&t.jsx(t.Fragment,{children:t.jsxs(v,{sx:{flex:1},children:[t.jsx(d,{variant:"body1",sx:{textAlign:"center",backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white",marginBottom:.5,fontWeight:"bold"},children:"Additional / optional subject lectures"}),lt.length===0&&ae!=="0"&&p!=="0"&&t.jsx(d,{variant:"body1",sx:{textAlign:"center",marginTop:5,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white"},children:t.jsx("b",{children:"No additional lectures assigned."})}),lt.length>0&&t.jsx(Qe,{children:t.jsxs(Je,{children:[t.jsx(Ke,{children:t.jsxs(te,{children:[t.jsx(D,{sx:{textAlign:"left"},children:"Week Day"}),t.jsx(D,{children:"Lecture #"}),t.jsx(D,{sx:{textAlign:"left"},children:"Subject"}),t.jsx(D,{sx:{textAlign:"left"},children:"Teacher Name"}),t.jsx(D,{children:"Delete"})]})}),t.jsx(et,{children:lt.map((e,s)=>t.jsxs(te,{children:[t.jsx(Z,{sx:{border:"1px solid rgba(224, 224, 224, 1)",paddingTop:"1px",paddingBottom:"1px",textAlign:"left"},children:e.Text3}),t.jsx(Z,{sx:{border:"1px solid rgba(224, 224, 224, 1)",paddingTop:"1px",paddingBottom:"1px",textAlign:"center"},children:e.Text2}),t.jsx(Z,{sx:{border:"1px solid rgba(224, 224, 224, 1)",paddingTop:"1px",paddingBottom:"1px",textAlign:"left"},children:e.Text4}),t.jsx(Z,{sx:{border:"1px solid rgba(224, 224, 224, 1)",paddingTop:"1px",paddingBottom:"1px",textAlign:"left"},children:e.Text10}),t.jsx(Z,{sx:{border:"1px solid rgba(224, 224, 224, 1)",paddingTop:"1px",paddingBottom:"1px",textAlign:"center"},children:t.jsx(W,{title:"Delete",children:t.jsx(ee,{onClick:()=>Ts(e.Text6),sx:{color:"#223354","&:hover":{color:"red",backgroundColor:qt[100]}},children:t.jsx(ks,{})})})})]}))})]})})]})})}),t.jsx(We,{item:!0,xs:12,md:12,lg:6,children:u==="Teacher"&&x!=="0"&&!at&&x!==void 0&&G.length>0&&Object.keys(I).length>0&&t.jsxs(v,{sx:{flex:1},children:[t.jsx(d,{variant:"body1",sx:{textAlign:"center",backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white",marginBottom:.5,fontWeight:"bold"},children:"Class-subject lecture count"}),x!=="0"&&t.jsx(Qe,{sx:{width:"100%"},children:t.jsxs(Je,{children:[t.jsx(Ke,{children:t.jsxs(te,{children:[t.jsx(D,{sx:{textAlign:"left"},children:"Class Subjects"}),t.jsx(D,{sx:{textAlign:"center"},children:"Lecture Count"})]})}),t.jsx(et,{children:Le==null?void 0:Le.map((e,s)=>{let a;const[r,o,h,c]=Mt==null?void 0:Mt.split("-");switch(e.Text2){case"Assembly":a=F?e.Text3:"0";break;case"M.P.T.":a=B?e.Text3:"0";break;case"Stay Back":a=E?e.Text3:"0";break;case"Weekly Tests":a=X?e.Text3:"0";break;default:a=e.Text3;break}function f(){let T=0;for(const y in I)if(I.hasOwnProperty(y)){const k=I[y];(k==null?void 0:k.split("-")).slice(0,-1).every(A=>A!=="0")&&T++}return T}return e.Text2==="Total Weekly Lectures"?t.jsxs(te,{children:[t.jsx(De,{sx:{textAlign:"left"},dangerouslySetInnerHTML:{__html:e.Text2}}),t.jsx(De,{sx:{textAlign:"center"},children:f()+(Xe&&B&&Number(r))+(Ve&&E&&Number(o))+(Ye&&X&&Number(c))+(Ge&&F&&Number(h))})]},s):["Assembly","M.P.T.","Stay Back","Weekly Tests"].includes(e.Text2)?t.jsxs(te,{children:[t.jsx(yt,{sx:{textAlign:"left"},children:e.Text2}),t.jsx(yt,{sx:{textAlign:"center"},children:a})]},s):t.jsxs(te,{children:[t.jsx(yt,{sx:{textAlign:"left"},children:e.Text2}),t.jsx(yt,{sx:{textAlign:"center"},children:Ma(e.Text5,e.Text4)})]},s)})})]})})]})}),t.jsx(We,{item:!0,xs:12,md:12,lg:6,children:u==="Teacher"&&x!=="0"&&!at&&x!==void 0&&G.length>0&&Object.keys(I).length>0&&t.jsxs(v,{sx:{flex:1},children:[t.jsx(d,{variant:"body1",sx:{textAlign:"center",backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white",marginBottom:.5,fontWeight:"bold"},children:"Additional lectures"}),Ee.length===0&&x!=="0"&&t.jsx(d,{variant:"body1",sx:{textAlign:"center",marginTop:10,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white"},children:t.jsx("b",{children:"No additional lectures assigned."})}),Ee.length>0&&t.jsx(Qe,{sx:{width:"100%"},children:t.jsxs(Je,{children:[t.jsx(Ke,{children:t.jsxs(te,{children:[t.jsx(D,{sx:{textAlign:"left"},children:"WeekDay"}),t.jsx(D,{sx:{textAlign:"center"},children:"Lecture #"}),t.jsx(D,{children:"Class"}),t.jsxs(D,{sx:{textAlign:"left"},children:["Subject"," "]}),t.jsxs(D,{sx:{textAlign:"center"},children:["Delete"," "]})]})}),t.jsx(et,{children:Ee.map((e,s)=>t.jsxs(te,{children:[t.jsx(Z,{sx:{border:"1px solid rgba(224, 224, 224, 1)",paddingTop:"1px",paddingBottom:"1px"},children:e.Text2}),t.jsx(Z,{sx:{border:"1px solid rgba(224, 224, 224, 1)",paddingTop:"1px",paddingBottom:"1px",textAlign:"center"},children:e.Text1}),t.jsx(Z,{sx:{border:"1px solid rgba(224, 224, 224, 1)",paddingTop:"1px",paddingBottom:"1px",textAlign:"center"},children:e.Text4}),t.jsx(Z,{sx:{border:"1px solid rgba(224, 224, 224, 1)",paddingTop:"1px",paddingBottom:"1px",textAlign:"left"},children:e.Text3}),t.jsx(Z,{sx:{textAlign:"center",border:"1px solid rgba(224, 224, 224, 1)",paddingTop:"1px",paddingBottom:"1px"},children:t.jsx(W,{title:"Delete",children:t.jsx(ee,{onClick:()=>Ts(e.Text5),sx:{color:"#223354","&:hover":{color:"red",backgroundColor:qt[100]}},children:t.jsx(ks,{})})})})]}))})]})})]})})]})})]})]}),t.jsx(Ws,{Value1:u==="Teacher"?Jt:`${Kt} - ${es}`,ValErrorMsgList:J!==void 0&&as(J[0])?J:[],ValError:(nt==null?void 0:nt.length)>0?nt:"",Open:Bs,onSubmit:u==="Teacher"?La:_a,Heading:u==="Teacher"?"Assign additional lectures to teacher":"Assign optional subject lectures to class",OnClose:()=>{it(!1),l(qe())},ItemList2:kt,OnChange1:e=>{ss(e),Gt("0"),Vt("0")},Label1:u==="Teacher"?"Teacher Name":"Class Name",Defaultvalue2:j,ErrorMsg1:!!(Ht&&j==="0"),ItemList3:j!=="0"?rs:[],Defaultvalue3:C,OnChange2:e=>{Gt(e.Value),Vt("0")},Label3:u==="Teacher"?"Class-Subjects":"Subject-Teacher",ErrorMsg2:!!(Ht&&C==="0"&&j!=="0"),ErrorMsg3:!!(Ht&&H==="0"&&C!=="0"&&j!=="0"),Defaultvalue4:u==="Teacher"?w:H,OnChange3:e=>{u==="Teacher"?(Xt(e.SubId),Vt(e.StdDivId)):u==="Class"&&(Xt(e.Id),ea(e.TeacherId))},ItemList4:u==="Teacher"&&C!=="0"?ta:u==="Class"&&C!=="0"?Js:[]})]})};export{Wr as default};
