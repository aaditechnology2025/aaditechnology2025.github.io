import{u as L,w as E,x as h,c as p,r as n,ga as F,j as e,B as x,n as Y,T as B}from"./index-d5YOjbb6.js";import{d as N}from"./FileDownloadOutlined-B-D7Fbww.js";import{E as C}from"./ErrorMessages-D1wiRwH0.js";import{B as P}from"./BackButton-BE5_8L9j.js";import{M as _}from"./MonthSelector-CcQskbx0.js";import{P as A}from"./PageHeader-DqqjGq3-.js";import{C as R}from"./Card-BrM9kpJu.js";import"./ArrowRight-DTTKgIal.js";function J(){const f=L();let{DateFrommon:r,DateFromyear:s}=E();r=h(r),s=h(s);const S=localStorage.getItem("localSchoolId"),w=sessionStorage.getItem("AcademicYearId"),j=sessionStorage.getItem("StandardDivisionId"),g=p(t=>t.HomeworkNew.HomeworkDailyLogs),y=p(t=>t.HomeworkNew.Loading),[c,I]=n.useState({selectedDate:null}),[M,d]=n.useState(),[l,u]=n.useState();function m(t){const o=t||new Date,i=new Date(o).toLocaleString("en-US",{month:"short"}),a=new Date(o).getMonth(),D=new Date(o).getFullYear(),H=`${i} ${D}`;I({selectedDate:H}),d(s),d(D),u(a+1)}n.useEffect(()=>{localStorage.setItem("url",window.location.pathname),m()},[]),n.useEffect(()=>{(r||s!=null)&&(u(r),d(s))},[r,s]),n.useEffect(()=>{l!==void 0&&f(F({aiSchoolId:S,aiAcademicYearId:w,aiStandardDivisionId:j,aiMonthId:l,asYear:M}))},[l]);const k=()=>{const{selectedDate:t}=c,o=t.includes("-")?t.split("-"):t.split(" "),i=Date.parse(o[0]+"01,"+o[1]),a=new Date(i);a.setMonth(a.getMonth()-1),m(a)},v=()=>{const{selectedDate:t}=c,o=t.includes("-")?t.split("-"):t.split(" "),i=Date.parse(o[0]+"01,"+o[1]),a=new Date(i);a.setMonth(a.getMonth()+1),m(a)};return e.jsx("div",{children:e.jsxs(x,{sx:{px:2},children:[e.jsx(P,{FromRoute:"/Student/Homework"}),e.jsx(A,{heading:"Daily Logs",subheading:""}),e.jsx(_,{date:c.selectedDate,PrevDate:k,NextDate:v,Close:void 0}),y?e.jsx(Y,{}):e.jsx(e.Fragment,{children:g.length===0?e.jsx(e.Fragment,{children:e.jsx(C,{Error:"No records found"})}):e.jsx(e.Fragment,{children:g.map((t,o)=>e.jsx("div",{children:e.jsxs(R,{sx:{display:"flex",justifyContent:"space-between"},component:x,mt:o===0?-.5:1,p:1,children:[e.jsx(B,{mt:.5,children:t.Header}),e.jsx("a",{href:localStorage.getItem("SiteURL")+t.Text1,rel:"noreferrer",target:"_blank",style:{textDecoration:"none"},children:e.jsx(N,{})})]})},o))})})]})})}export{J as default};
