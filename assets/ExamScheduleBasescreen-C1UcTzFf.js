import{j as e,B as s,aj as I,ak as k,al as S,am as n,T as c,an as E,H as u,A as T,u as A,c as i,r as C,nK as y,L as b,n as v,F as L,p as N,I as f,J as j,K as R,bv as w,nL as B}from"./index-d5YOjbb6.js";import{L as $}from"./Legend-p9-_07Am.js";const H=({headerArray:o,subHeaderArray:x,markDetailsList:h,ClickSchedule:m})=>e.jsx(s,{sx:{overflowX:"auto",maxWidth:"100%"},children:e.jsxs(I,{"aria-label":"exam schedule table",sx:{background:r=>r.palette.secondary.main,border:r=>`1px solid ${r.palette.grey[300]}`,overflow:"hidden"},children:[e.jsxs(k,{children:[e.jsx(S,{sx:{textAlign:"center"},children:e.jsxs(n,{rowSpan:2,children:[e.jsx(c,{variant:"h4",textAlign:"left",color:"black",ml:5,children:"Subjects ▶"}),e.jsx(c,{variant:"h4",textAlign:"left",color:"black",children:"▼ Standards"})]})}),e.jsx(S,{children:o.map((r,d)=>e.jsx(n,{sx:{textAlign:"center",color:"white",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.jsx("strong",{children:r.Name})},d))})]}),e.jsx(E,{sx:{backgroundColor:"white",alignItems:"center"},children:x.map((r,d)=>e.jsxs(S,{children:[e.jsx(n,{sx:{textAlign:"center",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",border:l=>`1px solid ${l.palette.grey[300]}`,padding:"2px",height:"18px"},children:r.Name}),o.map((l,g)=>{const t=h.find(a=>a.StandardId===r.Text2&&a.TestId===l.text1)||{Name:"N/A",Background:"grey",IsLink:!1},p=t.Name==="Not Configured"?"Add":`Std. ${t.Header} [ ${t.SubHeader} ]`;return e.jsx(n,{sx:{backgroundColor:t.Background,color:t.textColor||"black",border:a=>`1px solid ${a.palette.grey[300]}`,textAlign:"center",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:t.fontWeight||"normal",padding:"4px",height:"36px"},children:e.jsx(u,{title:p,children:t.IsLink?e.jsx(c,{sx:{cursor:"pointer",textDecoration:"underline",fontWeight:t.fontWeight,color:t.textColor||"black"},onClick:()=>m(t),children:t.Name}):t.Name})},`${d}-${g}`)})]},d))})]})}),D=()=>{const o=T(),x=A(),h=sessionStorage.getItem("AcademicYearId"),m=localStorage.getItem("localSchoolId"),r=i(a=>a.StandardAndExamList.RStandard),d=i(a=>a.StandardAndExamList.RStandardwTest),l=i(a=>a.StandardAndExamList.Loading),g=i(a=>a.StandardAndExamList.ExamSchedule);C.useEffect(()=>{const a={asSchoolId:Number(m),asAcademicYearId:Number(h)};x(y(a))},[]);const t=a=>{a.IsConfigured==!0?o("/RITeSchool/Teacher/StandardwiseExamSchedule/"+a.StandardId+"/"+a.TestId+"/"+a.SchoolwiseStandardExamScheduleId+"/"+a.StandardTestId+"/true",{state:{examScheduleId:a.SchoolwiseStandardExamScheduleId,fromInternal:!0}}):o("/RITeSchool/Teacher/StandardwiseExamSchedule/"+a.StandardId+"/"+a.TestId+"/"+a.SchoolwiseStandardTestId+"/false",{state:{examScheduleId:a.SchoolwiseStandardExamScheduleId,fromInternal:!0}})},p=[{id:1,Name:"Exam not applicable",Value:e.jsxs(s,{sx:{position:"relative"},children:[e.jsx(s,{sx:{width:28,height:24,backgroundColor:"#F0F0F0",border:"1px solid black"}}),e.jsx(c,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"#000",fontWeight:400,fontSize:"8px"},children:"N/A"})]})},{id:2,Name:"Schedule not configured",Value:e.jsx(s,{sx:{display:"flex",gap:1,alignItems:"center"},children:e.jsx(s,{sx:{width:28,height:24,backgroundColor:b[500],border:"1px solid black"}})})},{id:3,Name:"Edit exam schedule",Value:e.jsx(s,{sx:{display:"flex",gap:1,alignItems:"center"},children:e.jsx(s,{sx:{width:28,height:24,backgroundColor:b[200],border:"1px solid black"}})})}];return e.jsxs(s,{sx:{px:2},children:[l&&e.jsx(v,{}),e.jsx(L,{navLinks:[{title:"Exam Schedule",path:"/RITeSchool/Teacher/ExamScheduleBasescreen"}],rightActions:e.jsx(e.Fragment,{children:e.jsxs(N,{direction:"row",gap:1,alignItems:"right",sx:{flexWrap:{xs:"wrap",sm:"nowrap"},justifyContent:{xs:"flex-start",sm:"flex-start"}},children:[e.jsx(u,{title:"View exam dates for each exam associated for standards.",children:e.jsx(f,{sx:{color:"white",backgroundColor:j[500],"&:hover":{backgroundColor:j[600]}},children:e.jsx(R,{})})}),e.jsx(u,{title:"View Exam Schedule",children:e.jsx(f,{sx:{color:"white",backgroundColor:w[500],"&:hover":{backgroundColor:w[600]}},onClick:()=>{o("/RITeSchool/teacher/ViewExamSchedule",{state:{fromInternal:!0}})},children:e.jsx(B,{})})})]})})}),e.jsx(s,{sx:{background:"white",p:1,mb:2},children:e.jsx($,{LegendArray:p})}),e.jsx(s,{mt:1,sx:{backgroundColor:"white",p:2},children:e.jsx(H,{headerArray:d,subHeaderArray:r,markDetailsList:g,ClickSchedule:t})})]})};export{D as default};
