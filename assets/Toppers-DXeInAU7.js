import{j9 as rs,A as ls,w as ns,x as m,r,au as ds,c as o,kR as is,kS as os,kT as cs,kU as ps,kV as xs,kW as ms,kX as us,kY as Ss,kZ as hs,k_ as Ts,m as E,j as e,B as z,p as C,G as c,bR as L,H as js,I as fs,J as Se,K as gs,T as d,ai as he,c8 as Te,aj as je,ak as fe,al as P,am as j,an as ge}from"./index-d5YOjbb6.js";import{R as Is}from"./RadioButton1-DBrHHsQv.js";import{D as Ie}from"./DynamicList2-Bf8H_lHR.js";import{G as be,S as Ce,B as Le}from"./silver-medal-Co1Ddjhs.js";import{T as bs}from"./TAttendanceCommonPageheader-Ba_1Sm6K.js";import{S as we,a as w}from"./index-CUnmri7Y.js";import"./ButtonStyle-DaPKUawX.js";import"./RadioGroup-CytjzwBe.js";import"./Radio-CCPcjMAp.js";import"./FormGroup-XtcIGgvX.js";const Bs=()=>{const u=rs();ls();let{TeacherId:_,StandardDivisionId:k,TestId:I,standardId:se,examtopperProp:A,IsReadOnly:O,AcademicYear:l,LatestExamId:f,LatestExamId1:J,Studentid:U,isFinalResult:W}=ns();_=m(_),W=m(W),k=m(k),I=m(I),se=m(se),A=m(A),O=m(O),l=m(l),f=m(f),J=m(J),U=m(U);const[i,te]=r.useState(k??"0"),[R,K]=r.useState(I??""),[V,Re]=r.useState("0");r.useState();const[p,X]=r.useState("0"),[b,ae]=r.useState("0"),[H,Ne]=r.useState("0");r.useState(!0);const[n,Ee]=r.useState("1"),[re,y]=r.useState("");JSON.parse(sessionStorage.getItem("SchoolConfiguration")),JSON.parse(sessionStorage.getItem("ScreensAccessPermission"));const[v,Z]=r.useState("0");let N=ds(78);const ke=[{Value:"1",Name:"Class Toppers"},{Value:"2",Name:"Standard Toppers"}],ye=["Rank","Roll No.","Student Name","Marks"],ve=["Rank","Class","Roll No.","Student Name","Marks"],S=Number(localStorage.getItem("localSchoolId")),h=Number(sessionStorage.getItem("AcademicYearId"));Number(sessionStorage.getItem("TeacherId"));const De="Displays the first three class / standard toppers as well as subject toppers of your class / standard for the selected exam.",[Be,le]=r.useState([]),[Ae,ne]=r.useState([]),[Ve,de]=r.useState([]),[He,ie]=r.useState([]),Ye=o(s=>s.Toppers.LatestExamIdCT);o(s=>s.Toppers.LatestExamIdST);const D=o(s=>s.Toppers.ClassDropdownList),T=o(s=>s.Toppers.ExamDropdownListCT),Ge=o(s=>s.Toppers.SubjectDropdownListCT),Y=o(s=>s.Toppers.ClassToppersList),G=o(s=>s.Toppers.ClassSubjectToppersList),M=o(s=>s.Toppers.StandardDropdownList),g=o(s=>s.Toppers.ExamDropdownListST),Me=o(s=>s.Toppers.SubjectDropdownListST),$=o(s=>s.Toppers.StandardToppersList),F=o(s=>s.Toppers.StandardSubjectToppersList);r.useEffect(()=>{n=="1"&&i!=="0"?u(is(oe)):n=="2"&&p!=="0"&&u(os(ze))},[i,p]),r.useEffect(()=>{le(G)},[G]),r.useEffect(()=>{ie(F)},[F]),r.useEffect(()=>{ne($)},[$]),r.useEffect(()=>{de(Y)},[Y]);const $e=()=>{let s="0";return D.map(t=>{t.Value==i&&(s=t.Id)}),s},[Fe,q]=r.useState(!0);r.useEffect(()=>{n=="1"?u(cs(Pe)):n=="2"&&u(ps(Je))},[n,l]),r.useEffect(()=>{D.length>0&&n=="1"&&i=="0"&&te(D[0].Value),M.length>0&&n=="2"&&(p=="0"&&X(M[0].Value),X($e()))},[D,M,l]),r.useEffect(()=>{n=="1"&&i!=="0"?u(xs(oe)):n=="2"&&p!="0"&&u(ms(Ue))},[n,i,p,l]),r.useEffect(()=>{let s="0";if(T.length>0&&n=="1"){Fe?s=I??(f||T[0].Value):N=="Y"?T[0].Value==="-1"?s=f||T[0].Value:s=Ye:s=b,K(s);const t=T.find(a=>a.Id===s);t&&y(t.Name.replaceAll("-",""))}if(g.length>0&&n=="2"){N=="Y"?g[0].Value==="-1"?s=f||g[0].Value:s=g[0].Value:s=R,ae(s);const t=g.find(a=>a.Id===s);t&&y(t.Name.replaceAll("-",""))}},[T,g,l]),r.useEffect(()=>{n=="1"&&u(us(_e))},[R,l]),r.useEffect(()=>{u(Ss(Oe))},[i,R,V]),r.useEffect(()=>{n=="2"&&u(hs(We))},[b,l]),r.useEffect(()=>{u(Ts(Ke))},[p,b,H,l]),r.useEffect(()=>{de(Y.map(s=>({...s,IsHighlightStudent:s.Id==v}))),ne($.map(s=>({...s,IsHighlightStudent:s.Id==v}))),le(G.map(s=>({...s,Students:s.Students.map(t=>({...t,IsHighlightStudent:t.Id==v}))}))),ie(F.map(s=>({...s,Students:s.Students.map(t=>({...t,IsHighlightStudent:t.Id==v}))})))},[v]);const ze={asSchoolId:S,asAcademicYearId:Number(l||h),asStandardDivId:null,asStandardId:Number(p)},Pe={asSchoolId:S,asAcademicYearId:Number(l||h),IsStandardList:!1},oe={asSchoolId:S,asAcademicYearId:Number(l||h),asStandardDivId:Number(i),asStandardId:0},_e={asSchoolId:S,asAcademicYearId:Number(l||h),asStandardDivId:Number(i),asStandardId:null,asTestId:Number(R)},Oe={asSchoolId:S,asAcademicYearId:Number(l||h),asStandardDivId:Number(i),asStandardId:null,asTestId:Number(R),asSubjectId:Number(V)},Je={asSchoolId:S,asAcademicYearId:Number(l||h),IsStandardList:!0},Ue={asSchoolId:S,asAcademicYearId:Number(l||h),asStandardDivId:0,asStandardId:Number(p)},We={asSchoolId:S,asAcademicYearId:Number(l||h),asStandardDivId:null,asStandardId:Number(p),asTestId:Number(b)},Ke={asSchoolId:S,asAcademicYearId:Number(l||h),asStandardDivId:0,asStandardId:Number(p),asTestId:Number(b),asSubjectId:Number(H)},Xe=s=>{te(s),q(!1)},Ze=s=>{K(s);const t=T.find(a=>a.Id===s);t&&y(t.Name.replaceAll("-",""))},qe=s=>{Re(s)},Qe=s=>{X(s),q(!1)},ce=s=>{ae(s);const t=g.find(a=>a.Id===s);t&&(y(t.Name.replaceAll("-","")),K(s))},es=s=>{Ne(s)},ss=s=>{Ee(s),Z("0"),y(""),q(!1)},pe=s=>{n==="1"&&V=="0"||n==="2"&&H=="0"?Z(s):Z("0")},xe=Be.reduce((s,t)=>(s[t.Subject]||(s[t.Subject]=[]),s[t.Subject].push(t),s),{}),me=He.reduce((s,t)=>(s[t.Subject]||(s[t.Subject]=[]),s[t.Subject].push(t),s),{}),ue={title:"Exam Results",path:"/RITeSchool/Teacher/ExamResultBase/"+E(i)+"/"+E(I)},Q={title:"Final Result ",path:"/RITeSchool/Teacher/FinalResult/"+E(k)},ts=()=>W==="true"?[Q,{title:`${n==="1"?"Class Toppers":"Standard Toppers"}`,path:"/RITeSchool/Teacher/FinalResultToppers/"}]:J?[{title:"Progress Report",path:"/RITeSchool/Teacher/ProgressReportNew/"+E(l)+"/"+E(U)+"/"+E(_)},{title:`${n==="1"?"Class Toppers":"Standard Toppers"}`}]:O?A==="true"?[Q,{title:`${n==="1"?"Class Toppers":"Standard Toppers"}`,path:"/RITeSchool/Teacher/FinalResultToppers/"}]:[ue,{title:`${n==="1"?"Class Toppers":"Standard Toppers"}`,path:"/RITeSchool/Teacher/ExamResultToppers/"}]:A==="true"?[Q,{title:`${n==="1"?"Class Toppers":"Standard Toppers"}`,path:"/RITeSchool/Teacher/FinalResultToppers/"}]:[ue,{title:`${n==="1"?"Class Toppers":"Standard Toppers"}`,path:"/RITeSchool/Teacher/ExamResultToppers/"}];return e.jsxs(z,{sx:{px:2},children:[e.jsx(bs,{navLinks:ts(),rightActions:e.jsx(e.Fragment,{children:e.jsxs(C,{direction:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:"left",gap:1,sx:{mt:{xs:0,sm:0},flexWrap:{xs:"nowrap",sm:"nowrap"}},children:[n==="1"?e.jsxs(e.Fragment,{children:[e.jsxs(c,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:[N=="Y"&&e.jsx(L,{sx:{width:{xs:"40vw",sm:"10vw"}},ItemList:D,onChange:Xe,defaultValue:i,size:"small",label:"Select Class"})," "]}),e.jsx(c,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:e.jsx(L,{sx:{width:{xs:"60vw",sm:"20vw"}},ItemList:T,onChange:Ze,defaultValue:R,size:"small",label:"Select Exam"})}),e.jsx(c,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:e.jsx(L,{sx:{width:{xs:"60vw",sm:"15vw"}},ItemList:Ge,onChange:qe,defaultValue:V,rejectNumbers:!0,size:"small",label:"Subject"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(c,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:N=="Y"&&e.jsx(L,{label:"Select Standard",sx:{width:{xs:"40vw",sm:"17vw"}},ItemList:M,onChange:Qe,defaultValue:p,size:"small"})}),e.jsx(c,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:N=="Y"&&e.jsx(L,{ItemList:g,sx:{width:{xs:"40vw",sm:"20vw"}},onChange:ce,defaultValue:b,label:"Select Exam",size:"small"})}),e.jsx(c,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:N=="N"&&e.jsx(L,{ItemList:T,sx:{width:{xs:"60vw",sm:"15vw"}},onChange:ce,defaultValue:b,label:"Select Exam",size:"small"})}),e.jsx(c,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:e.jsx(L,{ItemList:Me,sx:{width:{xs:"40vw",sm:"15vw"}},onChange:es,defaultValue:H,label:"Subject",size:"small"})})]}),e.jsx(c,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:e.jsx(js,{title:De,children:e.jsx(fs,{sx:{color:"white",backgroundColor:Se[500],"&:hover":{backgroundColor:Se[500]}},children:e.jsx(gs,{})})})})]})})}),e.jsxs(z,{sx:{px:2,pt:1,background:"white",paddingBottom:4},children:[e.jsx(Is,{Array:ke,ClickRadio:ss,defaultValue:n,Label:""}),n==="1"?e.jsxs(z,{children:[Y.length>0?e.jsxs("div",{children:[e.jsx(d,{variant:"h4",my:2,children:re}),e.jsx(Ie,{HeaderList:ye,ItemList:Ve,IconList:[],ClickItem:pe})]}):e.jsx(d,{variant:"body1",sx:{textAlign:"center",marginTop:4,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white"},children:e.jsx("b",{children:"No record found."})}),G.length>0&&e.jsx(d,{variant:"h4",my:2,children:"Subject Toppers"}),e.jsx(c,{container:!0,spacing:2,sx:{display:"flex",flexDirection:"row"},children:Object.keys(xe).map((s,t)=>e.jsx(c,{item:!0,xs:12,sm:12,md:6,children:e.jsx(he,{component:Te,children:e.jsxs(je,{"aria-label":"simple table",sx:{border:a=>`1px solid ${a.palette.grey[300]}`},children:[e.jsxs(fe,{children:[e.jsx(P,{children:e.jsx(j,{colSpan:3,children:e.jsx(d,{variant:"h5",children:s})})}),e.jsxs(we,{sx:{background:a=>a.palette.secondary.main,color:a=>a.palette.common.white},children:[e.jsx(w,{sx:{p:1},children:"Rank"}),e.jsx(w,{sx:{p:1},align:"center",children:"Roll No."}),e.jsx(w,{sx:{p:1},children:"Student Name"})]})]}),e.jsx(ge,{children:xe[s].map((a,ee)=>a.Students.map((x,B)=>e.jsxs(P,{children:[B===0&&e.jsxs(j,{rowSpan:a.Students.length,sx:{p:.5,borderRight:as=>`1px solid ${as.palette.grey[300]}`},children:[a.Rank_Image==="~/RITeSchool/images/Number1.gif"&&e.jsxs(C,{direction:"row",alignItems:"center",gap:2,children:[e.jsx("img",{src:be,width:"24",alt:"Gold Medal"}),e.jsx(d,{variant:"h4",children:a.Marks})]}),a.Rank_Image==="~/RITeSchool/images/Number2.gif"&&e.jsxs(C,{direction:"row",alignItems:"center",gap:2,children:[e.jsx("img",{src:Ce,width:"24",alt:"Silver Medal"}),e.jsx(d,{variant:"h4",children:a.Marks})]}),a.Rank_Image==="~/RITeSchool/images/Number3.gif"&&e.jsxs(C,{direction:"row",alignItems:"center",gap:2,children:[e.jsx("img",{src:Le,width:"24",alt:"Bronze Medal"}),e.jsx(d,{variant:"h4",children:a.Marks})]})]}),e.jsx(j,{sx:{p:1,color:x.IsHighlightStudent?"red":""},align:"center",children:x.Text1}),e.jsx(j,{sx:{p:1,color:x.IsHighlightStudent?"red":""},children:x.Text2})]},`${t}-${ee}-${B}`)))})]})})},t))})]}):e.jsxs(z,{children:[$.length>0?e.jsxs("div",{children:[e.jsx(d,{variant:"h4",my:2,children:re}),e.jsx(Ie,{HeaderList:ve,ItemList:Ae,IconList:[],ClickItem:pe})]}):e.jsx(d,{variant:"body1",sx:{textAlign:"center",marginTop:4,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white"},children:e.jsx("b",{children:"No record found."})}),F.length>0&&e.jsx(d,{variant:"h4",my:2,children:"Subject Toppers"}),e.jsx(c,{container:!0,spacing:2,sx:{display:"flex",flexDirection:"row"},children:Object.keys(me).map((s,t)=>e.jsx(c,{item:!0,xs:12,sm:12,md:6,children:e.jsx(he,{component:Te,children:e.jsxs(je,{children:[e.jsxs(fe,{children:[e.jsx(P,{children:e.jsx(j,{colSpan:3,children:e.jsx(d,{variant:"h5",children:s})})}),e.jsxs(we,{children:[e.jsx(w,{sx:{p:1},children:"Rank"}),e.jsx(w,{sx:{p:1},children:"Class"}),e.jsx(w,{sx:{p:1},align:"center",children:"Roll No."}),e.jsx(w,{sx:{p:1},children:"Student Name"})]})]}),e.jsx(ge,{children:me[s].map((a,ee)=>a.Students.map((x,B)=>e.jsxs(P,{children:[B===0&&e.jsxs(j,{rowSpan:a.Students.length,sx:{p:1},children:[a.Rank_Image==="~/RITeSchool/images/Number1.gif"&&e.jsxs(C,{direction:"row",alignItems:"center",gap:2,children:[e.jsx("img",{src:be,width:"24",alt:"Gold Medal"}),e.jsx(d,{variant:"h4",children:a.Marks})]}),a.Rank_Image==="~/RITeSchool/images/Number2.gif"&&e.jsxs(C,{direction:"row",alignItems:"center",gap:2,children:[e.jsx("img",{src:Ce,width:"24",alt:"Silver Medal"}),e.jsx(d,{variant:"h4",children:a.Marks})]}),a.Rank_Image==="~/RITeSchool/images/Number3.gif"&&e.jsxs(C,{direction:"row",alignItems:"center",gap:2,children:[e.jsx("img",{src:Le,width:"24",alt:"Bronze Medal"}),e.jsx(d,{variant:"h4",children:a.Marks})]})]}),e.jsx(j,{sx:{color:x.IsHighlightStudent?"red":"",pl:"2px",p:1},align:"center",children:x.Text3}),e.jsx(j,{sx:{color:x.IsHighlightStudent?"red":"",p:1},align:"center",children:x.Text1}),e.jsx(j,{sx:{color:x.IsHighlightStudent?"red":"",p:1},children:x.Text2})]},`${t}-${ee}-${B}`)))})]})})},t))})]})]})]})};export{Bs as default};
