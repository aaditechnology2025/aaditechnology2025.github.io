import{V as oe,W as le,j as e,r as l,E as ae,A as ie,u as se,c as d,lQ as b,B as i,F as re,bR as ne,H as r,I as n,J as y,K as ce,L as m,G as C,a9 as de,ce as T,c8 as he,ai as xe,aj as me,ak as ue,al as k,am as a,an as ge,as as Se,at as pe,T as je,lR as fe,lS as Ne,t as be}from"./index-d5YOjbb6.js";import{d as Ce}from"./AddTwoTone-BXHHvxtd.js";import{d as ve}from"./PriorityHigh-Co3aw9FH.js";import{d as we}from"./Save-Ckr0NoeK.js";import{h as P}from"./moment-CaEEsv53.js";import{y as F}from"./yellow-BQYah5ZS.js";import{R as De}from"./RadioGroup-CytjzwBe.js";import{R as E}from"./Radio-CCPcjMAp.js";import{T as Ie}from"./TablePagination-89YK3d58.js";import"./FormGroup-XtcIGgvX.js";import"./KeyboardArrowRight-BUZa0tnJ.js";var v={},Ae=le;Object.defineProperty(v,"__esModule",{value:!0});var L=v.default=void 0,Re=Ae(oe()),ye=e,Te=(0,Re.default)((0,ye.jsx)("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"}),"EditOutlined");L=v.default=Te;const ke=[{id:"name",label:"Link Name",minWidth:150,align1:"left"},{id:"Display_Location",label:"Display Location",minWidth:150},{id:"StartDateTime",label:"Start Date & Time",minWidth:150,align:"right",format:o=>o.toLocaleString("en-US")},{id:"EndDateTime",label:"End Date & Time",minWidth:150,align:"right",format:o=>o.toLocaleString("en-US")},{id:"sortOrder",label:"Sort Order",minWidth:150,align:"right",format:o=>o.toFixed(2)},{id:"fileName",label:"File Name",minWidth:150,align:"right",format:o=>o.toFixed(2)},{id:"select",label:"Select",minWidth:150,align:"right",format:o=>o.toFixed(2)},{id:"edit",label:"Edit",minWidth:150,align:"right",format:o=>o.toFixed(2)},{id:"delete",label:"Delete",minWidth:150,align:"right",format:o=>o.toFixed(2)}],Oe=()=>{const[o,w]=l.useState(0),[s,U]=l.useState(5),[u,W]=l.useState("AllFile"),[g,_]=l.useState("All"),[D,G]=l.useState([]),[S,B]=l.useState([]),[V,H]=l.useState([]),{showAlert:M,closeAlert:I}=l.useContext(ae),[Pe,O]=l.useState();localStorage.getItem("localSchoolId");const Y=localStorage.getItem("Id"),A=ie(),$=(t,x)=>{w(x)},z=t=>{U(+t.target.value),w(0)},q=t=>{W(t.target.value)},J=[{Value:"All",Name:"All"},{Value:"Both",Name:"Both"},{Value:"Control Panel",Name:"Control Panel"},{Value:"Home Page",Name:"Home Page"}],K=t=>{_(t)},c=se(),h=d(t=>t.AddSchoolNotice.ISGetAllNoticeList);d(t=>t.UpdateSelectNotice.ISUpdateSelectNotice);const R=d(t=>t.DeleteSchoolNotice.ISDeleteSchoolNotice),p=d(t=>t.GetUserRolesForSelectedNoticeId.ISGetUserRolesForSelectedNoticeId);d(t=>t.GetStandardDivisionsForSelectedNoticeId.ISGetStandardDivisionsForSelectedNoticeId),l.useEffect(()=>{p&&O(p)},[p]);const j=Number(localStorage.getItem("localSchoolId")),f={asSchoolId:j,asDisplayLocation:g,asShowAllNotices:u==="AllFile",asText:!1,asSortExpression:"StartDate desc",StartRowIndex:0,MaximumRows:s},Q={asSchoolId:j,asNoticeXml:S.outSortOrder},X={asSchoolId:j,asNoticeId:V,asUpdatedById:Y};l.useEffect(()=>{c(b(f))},[u,s,g]),l.useEffect(()=>{h&&G(h)},[h]);const Z=()=>{c(fe(Q))},ee=({NoticeId:t})=>{H(t),M({title:"Please Confirm",message:"Are you sure you want to delete this Notice?  ",variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onCancel:()=>{I()},onConfirm:()=>{c(Ne(X)),be.success(R),c(b(f)),I()}}),l.useEffect(()=>{c(b(f))},[R])},te=t=>{const x=S.indexOf(t),N=[...S];x===-1?N.push(t):N.splice(x,1),B(N)};return e.jsxs(e.Fragment,{children:[e.jsx(i,{sx:{px:2},children:e.jsx(re,{navLinks:[{title:"School Notice",path:"/RITeSchool/Teacher/AllSchoolNotice"}],rightActions:e.jsxs(e.Fragment,{children:[e.jsx(i,{children:e.jsx(ne,{ItemList:J,onChange:K,label:"Select Display Location",mandatory:!0,defaultValue:g,size:"small",sx:{minWidth:"17vw"}})}),e.jsx(i,{children:e.jsx(r,{title:"Select the notices from the list to be displayed on School web site under School Notices.",children:e.jsx(n,{sx:{color:"white",backgroundColor:F[600],height:"36px !important",":hover":{backgroundColor:F[700]}},children:e.jsx(ve,{})})})}),e.jsx(i,{children:e.jsx(r,{title:"Displays all uploaded school notices.",children:e.jsx(n,{sx:{color:"white",backgroundColor:y[500],height:"36px !important",":hover":{backgroundColor:y[600]}},children:e.jsx(ce,{})})})}),e.jsx(i,{children:e.jsx(r,{title:"Add New Notice",children:e.jsx(n,{onClick:()=>A("/RITeSchool/Teacher/AddSchoolNotice",{state:{fromInternal:!0}}),sx:{color:"white",backgroundColor:m[500],"&:hover":{backgroundColor:m[600]}},children:e.jsx(Ce,{})})})}),e.jsx(i,{children:e.jsx(r,{title:"Save Notice",children:e.jsx(n,{sx:{color:"white",backgroundColor:m[500],height:"36px !important",":hover":{backgroundColor:m[600]}},onClick:Z,children:e.jsx(we,{})})})})]})})}),e.jsx(C,{container:!0,children:e.jsx(C,{sm:12,px:2,sx:{display:"flex",justifyItems:"center"},children:e.jsx(C,{children:e.jsx(de,{component:"fieldset",children:e.jsxs(De,{row:!0,"aria-label":"options",name:"options",value:u,onChange:q,children:[e.jsx(T,{value:"AllFile",control:e.jsx(E,{}),label:"Show All Notices"}),e.jsx(T,{value:"Activefile",control:e.jsx(E,{}),label:"Show Active Notices"})]})})})})}),e.jsx(i,{m:2,children:h.length>0?e.jsxs(he,{sx:{width:"100%",overflow:"hidden"},children:[e.jsx(xe,{children:e.jsxs(me,{stickyHeader:!0,"aria-label":"sticky table",children:[e.jsx(ue,{children:e.jsx(k,{children:ke.map(t=>e.jsx(a,{align:"center",style:{minWidth:t.minWidth,backgroundColor:"#19bed4",color:"#fff",fontSize:15,fontWeight:"600"},children:t.label},t.id))})}),e.jsx(ge,{children:D.slice(o*s,o*s+s).map(t=>e.jsxs(k,{hover:!0,role:"checkbox",children:[e.jsx(a,{children:t.NoticeName}),e.jsx(a,{children:t.DisplayLocation}),e.jsx(a,{align:"center",children:P(t.StartDate).format("DD MMM YYYY   h:mm a")}),e.jsx(a,{align:"center",children:P(t.EndDate).format("DD MMM YYYY   h:mm a")}),e.jsx(a,{align:"center",children:t.dbSortOrder}),e.jsx(a,{sx:{color:"#0000EE"},children:t.FileName}),e.jsx(a,{align:"center",children:e.jsx("input",{type:"checkbox",style:{height:"18px",width:"18px"},onChange:()=>te(t.NoticeName)})}),e.jsx(a,{align:"center",children:e.jsx(r,{title:"Edit",children:e.jsx(n,{sx:{color:"#223354","&:hover":{color:"#223354",cursor:"pointer"}},onClick:()=>A("/RITeSchool/Teacher/AddSchoolNotice",{state:t}),children:e.jsx(L,{})})})}),e.jsx(a,{align:"center",children:e.jsx(r,{title:"Delete",children:e.jsx(n,{sx:{color:"#223354","&:hover":{color:"red",backgroundColor:Se[100]}},onClick:()=>ee(t),children:e.jsx(pe,{})})})})]}))})]})}),e.jsx(Ie,{rowsPerPageOptions:[10,20,100],component:"div",count:D.length,rowsPerPage:s,page:o,onPageChange:$,onRowsPerPageChange:z})]}):e.jsx(je,{variant:"body1",sx:{textAlign:"center",marginTop:1,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white"},children:e.jsx("b",{children:"No record found."})})})]})};export{Oe as default};
