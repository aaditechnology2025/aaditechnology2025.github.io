import{j as e,B as a,T as S,ai as J,aj as O,ak as _,al as w,am as j,an as $,H as G,I as y,u as K,A as X,w as Z,x as v,r,c as A,gy as ee,gz as R,F as se,p as te,G as b,bR as ae,J as C,ay as re}from"./index-d5YOjbb6.js";import{R as ne}from"./RadioButton1-DBrHHsQv.js";import{d as oe}from"./AddCircle-8gfCxOOJ.js";import{Q as ie}from"./QuestionMark-C2Y4lgD8.js";import"./ButtonStyle-DaPKUawX.js";import"./RadioGroup-CytjzwBe.js";import"./Radio-CCPcjMAp.js";import"./FormGroup-XtcIGgvX.js";function le({ItemList:c,clickView:m,HeaderArray:n}){return e.jsx(a,{children:c.length===0?e.jsx(a,{sx:{backgroundColor:"#D2FDFC"},children:e.jsx(S,{variant:"h6",align:"center",color:"blue",sx:{textAlign:"center",marginTop:1,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white"},children:"No record found."})}):e.jsx(e.Fragment,{children:e.jsx(a,{sx:{backgroundColor:"white",px:2},children:e.jsx(J,{component:a,children:e.jsxs(O,{"aria-label":"simple table",sx:{border:s=>`1px solid ${s.palette.divider}`},children:[e.jsx(_,{children:e.jsx(w,{sx:{background:s=>s.palette.secondary.main},children:n.map((s,o)=>e.jsx(j,{sx:{textTransform:"capitalize",color:x=>x.palette.common.white,py:1,textAlign:o===0?"left":"center"},children:e.jsx("b",{children:s.Header})},o))})}),e.jsx($,{children:c.map((s,o)=>e.jsxs(w,{children:[e.jsx(j,{sx:{textTransform:"capitalize",py:.5,textAlign:"left"},children:s.Text1}),e.jsx(j,{sx:{textTransform:"capitalize",py:.5,textAlign:"center"},children:e.jsx(G,{title:"Performance Evaluation",children:e.jsx(y,{onClick:()=>m(s.Id),sx:{color:"#223354","&:hover":{color:"#223354",cursor:"pointer"}},children:e.jsx(oe,{})})})})]},s.ItemID))})]})})})})})}const Te=()=>{const c=K(),m=X();let{asYearID:n,statusID:s}=Z();n=v(n),s=v(s);const[o,x]=r.useState("0"),[k,ce]=r.useState([{Id:1,Header:"Staff Name (Designation)"},{Id:2,Header:"Performance Evaluation"}]),U=[{Value:"1",Name:"Submitted"},{Value:"2",Name:"Pending"}],[u,I]=r.useState("2"),p=Number(localStorage.getItem("localSchoolId")),T=Number(localStorage.getItem("UserId")),h=A(t=>t.PerformanceGradeAssignment.GetAllYearsIS),g=A(t=>t.PerformanceGradeAssignment.GetAllUsersReportingToGivenUserIS),D={asSchoolId:p};r.useEffect(()=>{n!==void 0&&s!==void 0&&(x(n),I(s),console.log(n,s,"asYearID, statusID"))},[n,s]);const[de,B]=r.useState([]),[i,P]=r.useState(20),Y=[20,50,100,200],[l,f]=r.useState(1),L=g.filter(t=>t.TotalRows!==void 0).map(t=>t.TotalRows),d=[...new Set(L)][0],E=(l-1)*i+1,H=Math.min(l*i,d),N=Math.ceil(d/i),z={asSchoolId:p,asUserID:T,asYear:Number(o),asShowPending:!0,asStartIndex:(l-1)*i,asPageSize:l*i},V={asSchoolId:p,asUserID:T,asYear:Number(o),asShowPending:!1,asStartIndex:(l-1)*i,asPageSize:l*i};r.useEffect(()=>{c(ee(D))},[]),r.useEffect(()=>{h.length>0&&n===void 0&&s===void 0&&x(h[0].Value)},[h,n,s]),r.useEffect(()=>{u=="1"?c(R(V)):u=="2"&&c(R(z))},[u,o,l,i]),r.useEffect(()=>{g&&B(g)},[g]);const F=t=>{x(t),P(20),f(1)},W=t=>{I(t)},M=t=>{m("/RITeSchool/Teacher/PerformanceEvaluation",{state:{userId:t,asYear:o,status:u,fromInternal:!0}})},q=t=>{f(t)},Q=t=>{P(parseInt(t.target.value,10)),f(1)};return e.jsxs(a,{sx:{px:2},children:[e.jsx(se,{navLinks:[{title:"Performance Grade Assignment",path:"/RITeSchool/Teacher/PerformanceGradeAssignmentBaseScreen"}],rightActions:e.jsx(e.Fragment,{children:e.jsxs(te,{direction:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:"right",gap:1,sx:{mt:{xs:0,sm:0},flexWrap:{xs:"nowrap",sm:"nowrap"}},children:[e.jsx(b,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:e.jsx(a,{sx:{background:"white"},children:e.jsx(ae,{ItemList:h,onChange:F,defaultValue:o,label:"Year",sx:{width:{xs:"40vw",sm:"13vw"}},size:"small"})})}),e.jsx(b,{item:!0,xs:12,sm:6,gap:1,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-end"},children:e.jsx(a,{sx:{display:"flex",alignItems:"center"},children:e.jsx(G,{title:"Displays user who report to the logged in user.",children:e.jsx(y,{sx:{color:"white",backgroundColor:C[500],height:"36px !important",":hover":{backgroundColor:C[600]},marginRight:"-4px"},children:e.jsx(ie,{})})})})})]})})}),e.jsx(b,{sx:{backgroundColor:"white",mb:1,p:1},children:e.jsxs(a,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(S,{variant:"h5",children:"Status "}),e.jsx(ne,{Array:U,ClickRadio:W,defaultValue:u,Label:""})]})}),e.jsxs(a,{sx:{background:"white",p:1},children:[e.jsx(a,{p:1,children:d>0?e.jsx("div",{style:{flex:1,textAlign:"center"},children:e.jsxs(S,{variant:"subtitle1",sx:{textAlign:"center"},children:[e.jsxs(a,{component:"span",fontWeight:"fontWeightBold",children:[E," to ",H]})," ","out of"," ",e.jsx(a,{component:"span",fontWeight:"fontWeightBold",children:d})," ",d===1?"record":"records"]})}):e.jsx("span",{children:" "})}),e.jsx(le,{HeaderArray:k,ItemList:g,clickView:M}),e.jsx(a,{p:2,children:d>19?e.jsx(re,{rowsPerPage:i,ChangeRowsPerPage:Q,rowsPerPageOptions:Y,PageChange:q,pagecount:N}):e.jsx("span",{})})]})]})};export{Te as default};
