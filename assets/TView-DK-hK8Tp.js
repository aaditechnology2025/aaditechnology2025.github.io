import{P as i,S as N,h as k,bH as $,j as e,bE as V,G as o,w as f,x as A,A as H,u as J,r as x,c as y,gV as W,gW as G,s as Y,B as M,a9 as O,gA as U}from"./index-d5YOjbb6.js";import{E as n}from"./ErrorMessages-D1wiRwH0.js";import{B as q}from"./BackButton-BE5_8L9j.js";import{D as z}from"./DateSelector-DyizD1xs.js";import{P as K}from"./PageHeader-DqqjGq3-.js";import{f as w,e as E}from"./CardStyle-B9qFmFtz.js";import{b as F,D as I}from"./DotLegendStyled-B7Xptujc.js";import{N as Q}from"./NativeSelect-Dod2zX5v.js";import"./ArrowRight-DTTKgIal.js";/* empty css                       */import"./ButtonStyle-DaPKUawX.js";import"./Card-BrM9kpJu.js";T.propTypes={RollNumber:i.string,StudentName:i.string,getAttendance:i.array,present:i.string,date:i.string,assigne:i.string};function T({RollNumber:r,StudentName:d,getAttendance:j,present:g,date:a,assigne:p}){N();const c=k(),l=$({root:{background:"#f33737"},roo1:{background:`${c.colors.gradients.pink1}`},roo2:{background:"#00b8d4"}})(),S=new Date(a),u=new Date(p),m=" "+(S>u?l.roo2:g==="false"?l.root:l.roo1);return e.jsx(e.Fragment,{children:e.jsx(V,{className:m,sx:{justifyContent:"center",borderRadius:"6px !important",marginBottom:"8px !important",boxShadow:"0px 8px 15px rgba(0, 0, 0, 0.1)"},children:e.jsxs(o,{container:!0,children:[e.jsx(o,{item:!0,xs:2,children:e.jsxs(w,{children:[" ",r]})}),e.jsx(o,{item:!0,xs:10,children:e.jsx(w,{children:d})})]})})})}const ie=()=>{let{assignedDate:r}=f(),{StandardId:d}=f();r=A(r),d=A(d);const j=N();k(),H();const g=J(),[a,p]=x.useState(r),[c,D]=x.useState(d);x.useState({selectedDate:r});const l=y(t=>t.StandardAttendance.stdlist),S=new Date,u=localStorage.getItem("localSchoolId"),m=sessionStorage.getItem("AcademicYearId"),C=sessionStorage.getItem("TeacherId"),h=y(t=>t.AttendanceList.AttendanceData),v={asSchoolId:u,asAcademicyearId:m,asTeacherId:C},L={asStdDivId:c,asDate:a,asAcademicYearId:m,asSchoolId:u},b=t=>{p(U(t))};x.useEffect(()=>{g(W(v))},[]),x.useEffect(()=>{c!="undefined"&&g(G(L))},[a,c]);const R=t=>{D(t.target.value)};Y("span")(({theme:t})=>`
              border-radius: 22px;
              width: ${t.spacing(1.5)};
              height: ${t.spacing(1.5)};
              display: inline-block;
              margin-right: ${t.spacing(1)};
              margin-top: -${t.spacing(.1)};
          `);const P=new Date(a),B=new Date;return e.jsxs(M,{sx:{px:2},children:[e.jsx(K,{heading:"View Attendance",subheading:""}),e.jsx(o,{container:!0,direction:"row",children:e.jsx(q,{FromRoute:"/Teacher/TAttendance/"+r+"/"+d})}),e.jsxs(o,{container:!0,children:[e.jsx(o,{item:!0,xs:6,children:e.jsxs(F,{children:[e.jsx(I,{className:j.border,style:{background:"red"}}),e.jsx(E,{children:"Absent"})]})}),e.jsx(o,{item:!0,xs:6,children:e.jsxs(F,{children:[e.jsx(I,{className:j.border,sx:{background:"#64b5f6"}}),e.jsx(E,{children:"Late Join"})]})})]}),e.jsxs(e.Fragment,{children:[e.jsx(e.Fragment,{children:e.jsxs(O,{fullWidth:!0,sx:{mt:"0.2rem",mb:"-2"},children:[e.jsxs(Q,{value:c,onChange:t=>R(t),children:[e.jsx("option",{children:"Select Class"}),l.map((t,s)=>e.jsx("option",{value:t.Value,children:t.Name},s))]}),e.jsx("br",{})]})}),e.jsx("br",{}),e.jsx(z,{date:a,setCurrentDate:b,Close:b})]}),h.length>1?h.map((t,s)=>e.jsx(T,{date:t.JoinDate,assigne:a,present:t.IsPresent,RollNumber:t.RollNumber,StudentName:t.StudentName,getAttendance:h},s)):P>B?e.jsx(e.Fragment,{children:e.jsx(n,{Error:"Future date attendance cannot be viewed."})}):h.map((t,s)=>e.jsx("div",{children:s===0&&t.Status=="O"?e.jsx(e.Fragment,{children:e.jsx("div",{style:{marginTop:"120px !important"},children:e.jsx(n,{Error:"Attendance date should be within current academic year."})})}):s===0&&t.Status=="W"?e.jsx(e.Fragment,{children:e.jsx(n,{Error:"Selected date is weekend."})}):s===0&&t.Status=="E"?e.jsx(e.Fragment,{children:e.jsx(n,{Error:"There are no students in this class."})}):s===0&&t.Status=="H"?e.jsx(e.Fragment,{children:e.jsx(n,{Error:"Selected date is holidays."})}):s===0&&t.Status=="N"?e.jsx(e.Fragment,{children:e.jsx(n,{Error:"Attendance not yet marked."})}):new Date(a)>S?e.jsx(e.Fragment,{children:e.jsx(n,{Error:"Future date attendance cannot be viewed."})}):null},s))]})};export{ie as default};
