import{P as c,S as j,h as p,j as e,G as l,w as F,x,u as w,A as y,r as i,c as I,h1 as h,B as C,gA as L}from"./index-d5YOjbb6.js";import{E as s}from"./ErrorMessages-D1wiRwH0.js";import{B as M}from"./BackButton-BE5_8L9j.js";import{D as P}from"./DateSelector-DyizD1xs.js";import{P as R}from"./PageHeader-DqqjGq3-.js";import{L as B,f as T}from"./CardStyle-B9qFmFtz.js";import"./ArrowRight-DTTKgIal.js";/* empty css                       */import"./ButtonStyle-DaPKUawX.js";import"./Card-BrM9kpJu.js";S.propTypes={Class:c.string,Status:c.string,getAttendance:c.array};function S({Class:a}){return j(),p(),e.jsx(B,{children:e.jsx(l,{container:!0,children:e.jsx(l,{item:!0,xs:10,children:e.jsx(T,{children:a})})})})}function J(){let{assignedDate:a,StandardId:o}=F();a=x(a),o=x(o);const u=w();y(),j(),p();const[d,A]=i.useState(a),g=t=>{A(L(t))},n=I(t=>t.MissingAttandence.MissingAttandenceList),f=localStorage.getItem("localSchoolId"),m={asAcademicYearId:sessionStorage.getItem("AcademicYearId"),asSchoolId:f,asDate:d};i.useEffect(()=>{u(h(m))},[]),i.useEffect(()=>{u(h(m))},[d]);const D=new Date(d),E=new Date;return e.jsx(e.Fragment,{children:e.jsxs(C,{sx:{px:2},children:[e.jsx(R,{heading:"Missing Attendance",subheading:""}),e.jsx(l,{container:!0,direction:"row",children:e.jsx(M,{FromRoute:"/Teacher/TAttendance/"+a+"/"+o})}),e.jsx(P,{date:d,setCurrentDate:g,Close:g}),D>E?e.jsx(s,{Error:"Future date attendance is not allowed."}):n.length<1||n==null||n.daywiseAttendanceStatusResult.length<1?e.jsx(s,{Error:"No missing attendance found."}):n.daywiseAttendanceStatusResult.map((t,r)=>e.jsxs("div",{children:[" ",r===0&&t.Status=="A"?e.jsx(e.Fragment,{children:e.jsx(s,{Error:"Attendance date should be within the current academic year"})}):r===0&&t.Status=="W"?e.jsx(e.Fragment,{children:e.jsx(s,{Error:"Selected date is weekend."})}):r===0&&t.Status=="H"?e.jsx(e.Fragment,{children:e.jsx(s,{Error:"Selected date is holiday."})}):r===0&&t.Status=="F"?e.jsx(e.Fragment,{children:e.jsx(s,{Error:"Future date attendance cannot be viewed."})}):n.daywiseAttendanceStatusResult.length<1?e.jsx(e.Fragment,{children:e.jsx(s,{Error:"No missing attendance found."})}):e.jsx(e.Fragment,{children:e.jsx(S,{Class:t.Class},r)})]},r))]})})}export{J as default};
