import{j9 as Ce,A as fe,w as ge,x as be,r as s,c as r,ja as Ie,jb as Le,jc as we,jd as Ee,je as ye,jf as De,jg as Ne,jh as ke,j as t,B as a,F as Re,H as ve,I as Be,J as H,K as He,T as C,G as T,a8 as Fe}from"./index-d5YOjbb6.js";import{R as Ge}from"./RadioButton1-DBrHHsQv.js";import{D as m}from"./Dropdown-Bt3qBn1S.js";import{D as F}from"./DynamicList2-Bf8H_lHR.js";import{T as G}from"./ToppersList-DqzXo98x.js";import"./ButtonStyle-DaPKUawX.js";import"./RadioGroup-CytjzwBe.js";import"./Radio-CCPcjMAp.js";import"./FormGroup-XtcIGgvX.js";import"./silver-medal-Co1Ddjhs.js";const We=()=>{const o=Ce(),A=fe();let{TeacherId:w}=ge();w=be(w);const[i,V]=s.useState(sessionStorage.getItem("StandardDivisionId")),[u,y]=s.useState(),[f,D]=s.useState("0");s.useState();const[p,N]=s.useState(sessionStorage.getItem("StandardId")),[S,k]=s.useState("0"),[g,R]=s.useState("0");s.useState(!0);const[d,z]=s.useState("1"),[x,E]=s.useState("0"),[Ae,M]=s.useState([]),[K,_]=s.useState([]),[P,Y]=s.useState([]),[J,O]=s.useState([]),U=[{Value:"1",Name:"Class Toppers"},{Value:"2",Name:"Standard Toppers"}],W=["Rank","Roll No.","Student Name","Marks"],q=["Roll No.","Student Name"],Q=["Rank","Class","Roll No.","Student Name","Marks"],X=["Roll No.","Class","Student Name"],l=Number(localStorage.getItem("localSchoolId")),c=Number(sessionStorage.getItem("AcademicYearId"));Number(sessionStorage.getItem("TeacherId"));const Z="Display the first three class/ standard toppers as well as subject toppers of your class/ standard for the selected exam",$=r(e=>e.FinalResultToppers.ClassDropdownListCT),h=r(e=>e.FinalResultToppers.ExamDropdownListCT),b=r(e=>e.FinalResultToppers.SubjectDropdownListCT),ee=r(e=>e.FinalResultToppers.ClassToppersCT),te=r(e=>e.FinalResultToppers.SubjectToppersCT),I=r(e=>e.StandardToppers.StandardDropdownListST),j=r(e=>e.StandardToppers.ExamDropdownListST),L=r(e=>e.StandardToppers.SubjectDropdownListST),se=r(e=>e.StandardToppers.StandardTopperST),v=r(e=>e.StandardToppers.StandardSubjectToppersST);s.useEffect(()=>{o(Ie(ae))},[]),s.useEffect(()=>{o(Le(re))},[i]),s.useEffect(()=>{o(we(ne))},[i,u]),s.useEffect(()=>{o(Ee(oe))},[i,u,f]),s.useEffect(()=>{h.length>0&&y(h[0].Id)},[h]),s.useEffect(()=>{b.length>0&&D(b[0].Id)},[b]),s.useEffect(()=>{o(ye(de))},[w]),s.useEffect(()=>{o(De(le))},[p]),s.useEffect(()=>{o(Ne(ce))},[p,S]),s.useEffect(()=>{o(ke(ie))},[p,S,g]),s.useEffect(()=>{I.length>0&&N(I[0].Id)},[I]),s.useEffect(()=>{j.length>0&&k(j[0].Id)},[j]),s.useEffect(()=>{L.length>0&&R(L[0].Id)},[L]),s.useEffect(()=>{Y(ee.map(e=>({...e,IsHighlightStudent:e.Id==x}))),_(se.map(e=>({...e,IsHighlightStudent:e.Id==x}))),M(te.map(e=>({...e,Students:e.Students.map(n=>({...n,IsHighlightStudent:n.Id==x}))}))),O(v.map(e=>({...e,Students:e.Students.map(n=>({...n,IsHighlightStudent:n.Id==x}))})))},[x]);const ae={asSchoolId:l,asAcademicYearId:c},re={asSchoolId:l,asAcademicYearId:c,asStandardDivisionId:Number(i)},ne={asSchoolId:l,asAcademicYearId:c,asStandardDivId:Number(i),asExamId:Number(u)},oe={asSchoolId:l,asAcademicYearId:c,asStandardDivId:Number(i),asExamId:Number(u),asSubjectId:Number(f)},de={asSchoolId:l,asAcademicYearId:c},le={asSchoolId:l,asAcademicYearId:c,asStandardId:Number(p)},ce={asSchoolId:l,asAcademicYearId:c,asStandardId:Number(p),asExamId:Number(S)},ie={asSchoolId:l,asAcademicYearId:c,asStandardId:Number(p),asExamId:Number(S),asSubjectId:Number(g)},ue=e=>{V(e)},pe=e=>{y(e)},Se=e=>{D(e)},Te=e=>{N(e)},me=e=>{k(e)},xe=e=>{R(e)},he=e=>{z(e),E("0")},je=()=>{A("/RITeSchool/Teacher/FinalResult",{state:{fromInternal:!0}})},B=e=>{d==="1"&&f=="0"||d==="2"&&g=="0"?E(e):E("0")};return t.jsxs(a,{sx:{px:2},children:[t.jsx(Re,{navLinks:[{title:"Final Result",path:"/RITeSchool/Teacher/FinalResult"},{title:d==="1"?"Class Toppers":"Standard Toppers",path:""}],rightActions:t.jsxs(t.Fragment,{children:[d==="1"?t.jsx(a,{children:t.jsx(m,{size:"small",Array:$,handleChange:ue,defaultValue:i,label:"Select Class",width:"150px",variant:"outlined"})}):t.jsx(a,{children:t.jsx(m,{size:"small",Array:I,handleChange:Te,defaultValue:p,label:"Select Standard",width:"150px",variant:"outlined"})}),d==="1"?t.jsx(a,{children:t.jsx(m,{size:"small",Array:h,handleChange:pe,defaultValue:u,label:"Select Exam",width:"200px",variant:"outlined"})}):t.jsx(a,{children:t.jsx(m,{size:"small",Array:j,handleChange:me,defaultValue:S,label:"Select Exam",width:"200px",variant:"outlined"})}),d==="1"?t.jsx(a,{children:t.jsx(m,{size:"small",Array:b,handleChange:Se,defaultValue:f,label:"Select Subject",width:"200px",variant:"outlined"})}):t.jsx(a,{children:t.jsx(m,{size:"small",Array:L,handleChange:xe,defaultValue:g,label:"Select Subject",width:"200px",variant:"outlined"})}),t.jsx(a,{children:t.jsx(ve,{title:Z,children:t.jsx(Be,{sx:{color:"White",backgroundColor:H[500],"&:hover":{backgroundColor:H[600]}},children:t.jsx(He,{})})})})]})}),t.jsxs(a,{sx:{background:"white",p:2},children:[t.jsx(Ge,{Array:U,ClickRadio:he,defaultValue:d,Label:""}),d==="1"?t.jsx(t.Fragment,{children:t.jsxs(a,{children:[u&&t.jsx(C,{variant:"h3",sx:{display:"flex",justifyContent:"center",alignItems:"center",background:e=>e.palette.secondary.main,color:e=>e.palette.common.white},children:h.map(e=>e.Value===u?e.Name:null)}),t.jsx(F,{HeaderList:W,ItemList:P,IconList:[],ClickItem:B}),t.jsx(C,{variant:"h4",mt:4,children:"Subject Toppers"}),t.jsx(T,{container:!0,children:J.map((e,n)=>t.jsxs(t.Fragment,{children:[!(n%3)&&t.jsx(T,{container:!0,item:!0,xs:12,justifyContent:"center",mt:4,children:t.jsx(C,{variant:"h4",children:e.Subject})}),t.jsxs(T,{item:!0,xs:4,justifyContent:"center",children:[t.jsxs(a,{sx:{px:2},children:[t.jsx("img",{src:e.Rank_Image})," MarKs:",e.Marks]}),t.jsx(G,{headers:q,data:e.Students})]})]}))})]})}):t.jsxs(a,{children:[S&&t.jsx(C,{variant:"h3",sx:{display:"flex",justifyContent:"center",alignItems:"center",background:e=>e.palette.secondary.main,color:e=>e.palette.common.white},children:j.map(e=>e.Value===S?e.Name:null)}),t.jsx(F,{HeaderList:Q,ItemList:K,IconList:[],ClickItem:B}),t.jsx(C,{variant:"h4",mt:4,children:"Subject Toppers"}),t.jsx(T,{container:!0,children:v.map((e,n)=>t.jsxs(t.Fragment,{children:[!(n%3)&&t.jsx(T,{container:!0,item:!0,xs:12,justifyContent:"center",children:e.Subject}),t.jsxs(T,{item:!0,xs:4,xl:4,justifyContent:"center",children:[t.jsxs(a,{sx:{px:2},children:[t.jsx("img",{src:e.Rank_Image})," MarKs:",e.Marks]}),t.jsx("br",{}),t.jsx(G,{headers:X,data:e.Students})]})]}))})]}),t.jsx(a,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mt:2},children:t.jsx(Fe,{onClick:je,variant:"contained",color:"error",children:"CLOSE"})})]})]})};export{We as default};
