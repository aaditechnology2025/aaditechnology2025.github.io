import{w as k,x as S,u as v,r as a,au as O,c as r,lG as L,ns as X,j as s,B as i,F as B,bR as E,T as P,ai as z,aj as j,ak as H,al as m,am as o,an as y}from"./index-d5YOjbb6.js";import{S as V,a as _,C as K,N as q,X as J}from"./XseedRemarks-C0M1Agl6.js";const $=()=>{let{Assessment:l,YearwiseStudentId:n,StandardId:d}=k();l=S(l),n=S(n),d=S(d);const u=v();a.useState("-1"),a.useState();const[p,A]=a.useState(l);O(164);const x=Number(sessionStorage.getItem("AcademicYearId")),h=Number(localStorage.getItem("localSchoolId"));Number(localStorage.getItem("UserId")),Number(sessionStorage.getItem("StandardDivisionId")),r(e=>e.PreprimaryProgressReport.ISAllPrimaryClassTeacherss).filter(e=>e.Is_PrePrimary==="Y"),r(e=>e.PreprimaryProgressReport.ISlistStudentNameDetails),r(e=>e.PreprimaryProgressReport.ISlistAssessmentDetailss);const g=r(e=>e.PreprimaryProgressReport.ISAssessmentPublishStatus);g.map(e=>e.AssessmentPublishStatus);const b=g.map(e=>e.StudentWiseAssessmentPublishStatus);r(e=>e.PreprimaryProgressReport.ISFillStandardwiseSubjects);const R=r(e=>e.PreprimaryProgressReport.ISFillSubjectSections),F=r(e=>e.PreprimaryProgressReport.ISFillSchoolDetails),D=r(e=>e.PreprimaryProgressReport.ISFillGradeDetails),f=r(e=>e.PreprimaryProgressReport.ISFillXseedRemarks),w=r(e=>e.PreprimaryProgressReport.ISFillNonXseedSubjectGrades),c=r(e=>e.PreprimaryProgressReport.ISFillStudentDetails),I=r(e=>e.PreprimaryProgressReport.ISFillStudentAttendance),C=D.filter(e=>e.ConsideredAsAbsent!=="1"&&e.ConsideredAsExempted!=="1").sort((e,t)=>parseInt(e.SortOrder)-parseInt(t.SortOrder)),Y=r(e=>e.PreprimaryProgressReport.ISFillStudentsLearningOutcomes),U=r(e=>e.PreprimaryProgressReport.ISFillStudentsLearningOutcomeObservations),N=r(e=>e.Studentwiseprogress.ISAssessmentDropdown),T={asSchoolId:h,asAcademicYearId:x,asStandardDivisionId:Number(n),asYearwiseStudentId:Number(d),asAssessmentId:p},W={asAcademicYearId:Number(x),asSchoolId:Number(h)},G=e=>{A(e)};return a.useEffect(()=>{u(L(W))},[]),a.useEffect(()=>{u(X(T))},[n,d,p]),s.jsxs(i,{sx:{px:2},children:[s.jsx(B,{navLinks:[{title:"Student Wise Progress Report ",path:"/RITeSchool/Teacher/StudentwiseProgressReport"},{title:" Progress Report ",path:""}],rightActions:s.jsx(s.Fragment,{children:s.jsx(E,{sx:{minWidth:"15vw"},ItemList:N,onChange:G,label:"Assessment:",defaultValue:l,mandatory:!0,size:"small"})})}),s.jsxs(i,{children:[c.length>0&&b=="Y"?c.map(e=>s.jsxs(i,{border:"1px solid grey",mb:4,sx:{px:2,background:"white"},children:[s.jsx(V,{USFillSchoolDetails:F}),s.jsx(_,{USFillStudentDetails:c.filter(t=>t.YearWiseStudentId==e.YearWiseStudentId),presentCount:I.filter(t=>t.YearwiseStudentId==e.YearWiseStudentId&&t.IsPresent=="true").length,totalCount:I.filter(t=>t.YearwiseStudentId==e.YearWiseStudentId).length}),s.jsxs("div",{children:[s.jsx(P,{variant:"h4",textAlign:"left",color:"#38548a",mt:2,children:"Key to Curricular and Co-Curricular"}),s.jsx(z,{component:i,children:s.jsxs(j,{"aria-label":"simple table",sx:{border:"1px solid lightgrey"},children:[s.jsx(H,{children:s.jsxs(m,{sx:{background:t=>t.palette.secondary.main,color:t=>t.palette.common.white},children:[s.jsx(o,{sx:{textTransform:"capitalize",color:t=>t.palette.common.white,py:1},children:"Grade Name"}),s.jsx(o,{sx:{textTransform:"capitalize",color:t=>t.palette.common.white,py:1},children:"Description"})]})}),s.jsx(y,{children:C.map(t=>s.jsxs(m,{children:[s.jsx(o,{sx:{py:1},children:t.Name}),s.jsx(o,{sx:{py:1},children:t.Description})]},t.GradeId))})]})}),s.jsx(i,{mt:1,children:s.jsx(j,{"aria-label":"simple table",sx:{border:"1px solid lightgrey"},children:s.jsx(y,{children:s.jsx(m,{sx:{bgcolor:"#F0F0F0",border:"1px solid lightgrey"},children:s.jsxs(o,{sx:{textAlign:"left",py:1,color:"black",p:1},children:[s.jsx("b",{children:"Note :  "})," Ab - Absent        Ex - Exempted "]})})})})})]}),s.jsx(K,{USFillStudentsLearningOutcomes:Y.filter(t=>t.YearwiseStudentId==e.YearWiseStudentId),USFillSubjectSections:R,FillStudentsLearningOutcomeObservations:U}),s.jsx(q,{USFillNonXseedSubjectGrades:w.filter(t=>t.YearwiseStudentId==e.YearWiseStudentId)}),s.jsx(J,{USFillXseedRemarks:f.filter(t=>t.YearWiseStudentId==e.YearWiseStudentId)})]},e.YearWiseStudentId)):null,b=="N"?s.jsx(P,{variant:"body1",sx:{textAlign:"center",marginTop:4,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white"},children:s.jsx("b",{children:"Assessment result is not available for this student."})}):s.jsx("span",{})]})]})};export{$ as default};
