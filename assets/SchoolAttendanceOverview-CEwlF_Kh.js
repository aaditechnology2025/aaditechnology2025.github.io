import{j as e,B as i,ai as O,c8 as G,aj as H,ak as N,al as j,am as w,an as B,H as D,w as E,x as S,u as F,r as l,aB as P,c as m,A as R,h2 as L,F as W,m as v,p as M,aI as U,I as X,J as A,K as Y,T as u,G as f}from"./index-d5YOjbb6.js";import{d as g}from"./Clear-CcnDAt6P.js";function _({ItemList:n,HeaderArray:o}){return console.log("ItemList",n),e.jsx(i,{sx:{width:"100%",overflow:"hidden"},children:e.jsx(O,{component:G,square:!0,children:e.jsxs(H,{"aria-label":"simple table",sx:{border:a=>`1px solid ${a.palette.divider}`},children:[e.jsx(N,{sx:{background:a=>a.palette.secondary.main,color:a=>a.palette.common.white},children:e.jsx(j,{children:o.map((a,r)=>e.jsx(w,{align:"center",sx:{color:"white",py:1},children:e.jsx("b",{children:a})},r))})}),e.jsx(B,{children:n.map((a,r)=>e.jsx(j,{sx:t=>({backgroundColor:r===n.length-1?t.palette.secondary.main:"inherit",color:r===n.length-1?t.palette.common.white:"inherit"}),children:a.map((t,c)=>e.jsx(w,{align:"center",sx:d=>({fontWeight:"bold",py:1,color:r===n.length-1?d.palette.common.white:"inherit"}),children:typeof t=="object"?e.jsxs(e.Fragment,{children:[t.name==="X"?e.jsx(g,{sx:{color:"red"}}):t.name==="Holiday"?e.jsx(D,{arrow:!0,placement:"top",title:t.toolTip,children:e.jsx("span",{style:{color:"red"},children:t.name})}):t.name||"-","                    "]}):e.jsx(e.Fragment,{children:t==="X"?e.jsx(g,{sx:{color:"red"}}):t||"-"})},c))},r))})]})})})}const z=()=>{let{selectClasstecahernew:n,AssignedDate:o}=E();console.log("selectClasstecahernew",n),o=S(o),n=S(n);const a=F(),r=Number(localStorage.getItem("localSchoolId")),t=Number(sessionStorage.getItem("AcademicYearId")),[c,d]=l.useState(o==null?new Date().toISOString().split("T")[0]:P(o)),[b,h]=l.useState(["Standard / Division."]),y=m(s=>s.SchoolAttendance.AttendanceOverviewGridData),x=m(s=>s.SchoolAttendance.AttendanceOverviewDivArray),p=m(s=>s.SchoolAttendance.WeekendStatusList),T="Displays attendance status for all classes for selected date.";l.useEffect(()=>{h(["Standard | Division"]),x.length>0&&(x.map(s=>{h(I=>[...I,s])}),h(s=>[...s,"Marked for","Present/Total","Present%"]))},[x]),l.useEffect(()=>{},[p]);const k={asSchoolId:r,asAcademicYearId:t,asSelectedDate:c},C=s=>{d(s)};return R(),l.useEffect(()=>{a(L(k))},[c]),e.jsxs(i,{sx:{px:2},children:[e.jsx(W,{navLinks:[{title:"Attendance",path:"/RITeSchool/Teacher/TAttendance/"+v(n)+"/"+v(c)},{title:"Attendance Overview",path:""}],rightActions:e.jsx(e.Fragment,{children:e.jsxs(M,{direction:{xs:"row",sm:"row"},spacing:1,alignItems:"center",justifyContent:"flex-end",sx:{width:"100%",flexWrap:{xs:"nowrap",sm:"nowrap"}},children:[e.jsx(i,{sx:{background:"white",width:{xs:"100%",sm:"auto"}},children:e.jsx(U,{DateValue:c,onDateChange:C,label:"Start Date",size:"small",isMax:!0})}),e.jsx(D,{title:T,children:e.jsx(X,{sx:{backgroundColor:A[500],color:"white","&:hover":{backgroundColor:A[600]}},children:e.jsx(Y,{})})})]})})}),e.jsxs(i,{sx:{display:"flex",backgroundColor:"white",p:1,mb:1},children:[e.jsx(u,{children:e.jsx("b",{children:"Legend : "})}),e.jsx(g,{sx:{color:"red"}})," ",e.jsx(u,{children:e.jsx("b",{children:"Attendance Not Marked "})})]}),p!==""?e.jsx(u,{variant:"h6",sx:{color:"red"},children:p}):e.jsx(i,{sx:{backgroundColor:"white",p:2},children:e.jsxs(f,{container:!0,spacing:2,children:[e.jsx(f,{item:!0,xs:12,children:e.jsx(_,{ItemList:y,HeaderArray:b})}),e.jsx("div",{className:""})]})})]})};export{z as default};
