import{j as e,a9 as j,c4 as E,B as x,T as d,u as S,r as p,c,fj as f,n as I}from"./index-d5YOjbb6.js";import{E as u}from"./ErrorMessages-D1wiRwH0.js";import{P as g}from"./PageHeader-DqqjGq3-.js";import{N as v}from"./NativeSelect-Dod2zX5v.js";import{L as b}from"./CardStyle-B9qFmFtz.js";import"./Card-BrM9kpJu.js";const L=({Itemlist:r,onChange:a,Label:n,DefaultValue:l})=>{const i=s=>{a(r.map(o=>({...o,IsActive:o.Value===s})))};return e.jsxs(j,{fullWidth:!0,children:[e.jsx(E,{htmlFor:"select",children:n}),e.jsx(v,{fullWidth:!0,value:l,onChange:s=>i(s.target.value),id:"select",children:r.map((s,o)=>e.jsx("option",{value:s.Value,children:s.Name},o))})]})},C=({CardItemList:r})=>e.jsx("div",{children:r.map((a,n)=>e.jsx("div",{children:e.jsxs(b,{children:[e.jsx(x,{children:e.jsxs(d,{children:[e.jsx("b",{children:"Subject : "}),a.Text1]})}),e.jsxs(x,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsxs(d,{children:[e.jsx("b",{children:"Total Marks : "}),a.Text2]}),e.jsxs(d,{children:[" ",e.jsx("b",{children:"Percentage : "}),a.Text3]})]})]})},n))}),O=({heading:r,Itemlist:a,onChange:n,Label:l,DefaultValue:i,CardItemlist:s,getExamDetailslist:o})=>e.jsxs("div",{children:[e.jsx(g,{heading:r}),e.jsx(L,{Itemlist:a,onChange:n,Label:l,DefaultValue:i}),e.jsx(x,{sx:{mt:"12px"},children:s.length===0?i!==""&&e.jsx(u,{Error:"Exam is not available"}):e.jsx(C,{CardItemList:s})})]});function w(){const r=S(),[a,n]=p.useState(""),l=c(t=>t.ExamOnlineReport.OnlineExams),i=c(t=>t.ExamOnlineReport.getExamDetailslist),s=c(t=>t.ExamOnlineReport.Loading);p.useEffect(()=>{const t={aiStudentId:sessionStorage.getItem("StudentId"),aiSchoolId:localStorage.getItem("localSchoolId"),aiAcademicYrId:sessionStorage.getItem("AcademicYearId"),asStdDivId:sessionStorage.getItem("StandardDivisionId")};r(f(t))},[]);const o=t=>{let m="";t.map(h=>{h.IsActive&&(m=h.Value)}),n(m)};return e.jsxs(x,{sx:{px:2},children:[e.jsx(g,{heading:"Online Exam Progress Report",subheading:""}),e.jsx(x,{sx:{mt:"-10px"},children:s?e.jsx(I,{}):e.jsx(e.Fragment,{children:l.length>0?e.jsx(O,{heading:"",Itemlist:l,onChange:o,Label:"",DefaultValue:a,getExamDetailslist:i,CardItemlist:i.filter(t=>t.ExamId.toString()===a.toString())}):e.jsx(u,{Error:"No exam has been published"})})})]})}export{w as default};
