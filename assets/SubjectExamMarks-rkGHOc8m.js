import{j as e,de as ze,r as s,E as Me,am as I,B as F,q as Y,H as re,ai as Ve,aj as Le,ak as Je,al as Se,an as $e,A as ye,h$ as He,G as J,z as Xe,gT as Ue,C as qe,I as ne,gU as Ke,T as L,p as je,u as Qe,w as Ze,x as R,i0 as fe,cz as v,i1 as et,i2 as tt,i3 as at,c_ as st,bq as K,aE as pe,aB as rt,i4 as nt,i5 as lt,t as ot,i6 as it,m as B,aK as ge,aL as te,i7 as Te,J as ae,K as dt,L as be,n as ut,i8 as ct}from"./index-d5YOjbb6.js";import{d as xt}from"./Save-Ckr0NoeK.js";import{D as le}from"./Dropdown-Bt3qBn1S.js";const ke=({DateValue:o,onDateChange:l,label:S,size:i,maxDate:f,disabled:_=!1})=>e.jsxs(e.Fragment,{children:[e.jsx(ze,{value:o?new Date(o):null,onChange:l,format:"dd MMM yyyy",label:S?e.jsxs(e.Fragment,{children:[S," ",S&&e.jsx("span",{style:{color:"red"},children:"*"})]}):"Select Date",views:["year","month","day"],slotProps:{textField:{variant:"outlined",fullWidth:!0,size:i||"medium",sx:{bgcolor:"rgb(240, 240, 240)"}}},maxDate:_?void 0:new Date,readOnly:_}),"        "]}),ht=(o,l,S)=>{const{value:i}=o.target;(i==""||l(i))&&S(i)},mt=({ExamMarksHeader:o,ChangeExamHeader:l,IsMark:S,BlurrExamHeader:i,AllowDecimal:f=!1,GradesForSubjectMarkList:_,ChangeGrade:O,IsReadOnly:p})=>{const w=h=>(f?/^\d{1,3}(\.\d{0,2})?$/:/^\d{1,3}$/).test(h),{showAlert:g,closeAlert:x}=s.useContext(Me),E=(h,C)=>{h!==""&&g({title:"Please Confirm",message:"This action will set a new value for all students. Do you want to continue?",variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onCancel:()=>{x()},onConfirm:()=>{i(h,C),x()}})};return e.jsx(e.Fragment,{children:o==null?void 0:o.map((h,C)=>e.jsxs(e.Fragment,{children:[e.jsx(I,{sx:{color:"white",fontWeight:"bold",py:1},children:h.Text4}),e.jsx(I,{sx:{color:"white",fontWeight:"bold",py:1},children:S?e.jsxs(F,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.Text1,e.jsx(Y,{sx:{width:"60px",background:p?"#F0F0F0":"white","& .MuiInputBase-input":{cursor:p?"default":"text"}},size:"small",value:h.Text2,onBlur:()=>E(h.Text2,C),onChange:n=>ht(n,w,D=>l(D,h.Id)),InputProps:{readOnly:p}})]}):e.jsx(le,{defaultValue:h.Text3,variant:"outlined",Array:_,handleChange:n=>{O(n,h.Id,C)},disabled:p})}),e.jsx(I,{sx:{color:"white",fontWeight:"bold",py:1}})]}))})},St=o=>/^\d{0,3}(\.\d{0,1})?$|^\d{0,5}$/.test(o),ft=({ExamMarks:o,StudentId:l,changeText:S,GradesForSubjectMarkList:i,ExamStatus:f,changeExamStatus:_,changeExamGrade:O,IsReadOnly:p,examResultProp:w,publish:g,IsMark:x,AllowDecimal:E=!0})=>{const h=(n,D,c)=>{const{value:T}=n.target;(T==""||D(T))&&c(T)},C=(n,D)=>{if(n=="")return"";let c="",T=n/D*100;return i.map(($,j)=>{$.Starting_Marks_Range<=T&&$.Actual_Ending_Marks_Range>=T&&(c=$.Grade_Name)}),c};return e.jsx(e.Fragment,{children:o==null?void 0:o.map((n,D)=>e.jsxs(e.Fragment,{children:[e.jsx(I,{sx:{py:1},children:e.jsx(le,{width:"150px",size:"small",defaultValue:n.ExamStatus,variant:"outlined",Array:n.IsLateJoinee?f:f.filter(c=>c.Value!="J"),handleChange:c=>{_(c,l,n.Id)},disabled:p||w&&g||n.IsLateJoinee&&n.AllowMarksEntryForLateJoin=="false"})},D),x?e.jsxs(e.Fragment,{children:[e.jsx(I,{sx:{py:1},children:e.jsx(re,{title:Number(n.Text1)>Number(n.Text2)?"Marks Scored should be less than "+n.Text2+".":null,children:e.jsx(Y,{size:"small",sx:{ml:5,width:"60px",border:Number(n.Text1)>Number(n.Text2)?1:0,borderColor:Number(n.Text1)>Number(n.Text2)?"error.main":0,background:p||w&&g||n.ExamStatus!="N"?"#f0F0F0":""},disabled:p||w&&g||n.ExamStatus!="N",value:E?n.Text1:Math.round(Number(n.Text1)),onChange:c=>h(c,St,T=>S(T,l,n.Id))})})},D),e.jsx(I,{sx:{py:1},children:C(n.Text1,n.Text2)},D)]}):e.jsx(I,{sx:{py:1},children:e.jsx(F,{children:e.jsx(le,{size:"small",defaultValue:n.ExamGrade,variant:"outlined",Array:i,disabled:p||w&&g||!n.IsActive,handleChange:c=>{O(c,l,n.Id)}})})},D)]}))})},pt=({ExamStatus:o,StudentsForMarksAssignment:l,onChangeExamStatus:S,ExamMarksHeader:i,onChangeExamHeader:f,GradesForSubjectMarkList:_,IsReadOnly:O,examResultProp:p,publish:w,onChangeExamGrade:g,IsMark:x,AllowDecimal:E=!0,SubjectExamMarkslists:h})=>{console.log("list to check",l);const{showAlert:C,closeAlert:n}=s.useContext(Me),D=(r,b,m)=>{i={...i,Text4:i.Text4.map(a=>a.Id===b?{...a,Text2:r}:a)},Q(r,m),f(i)},c=(r,b,m)=>{r!==""&&C({title:"Please Confirm",message:"This action will set a new value for all students. Do you want to continue?",variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onCancel:()=>{n()},onConfirm:()=>{i={...i,Text4:i.Text4.map(a=>a.Id===b?{...a,Text3:r}:a)},se(r,m),f(i),n()}})},T=(r,b,m)=>{l=l.map((a,A)=>{let N=!1;return{...a,MarksForStudent:a.Id==b?a.MarksForStudent.map(k=>m==k.Id?(N=!0,{...k,ExamStatus:r,ExamGrade:"0",IsActiveGrade:r=="0",IsActive:r=="0",Text1:"",total:"0"}):k):a.MarksForStudent,TotalMarks:N?"0":a.TotalMarks}}),S(l)},$=(r,b,m)=>{l=l.map((a,A)=>({...a,MarksForStudent:a.Id==b?a.MarksForStudent.map(N=>m==N.Id?{...N,ExamGrade:r}:N):a.MarksForStudent})),g(l)};function j(r){return Math.round(r*2)/2}const H=(r,b,m)=>{l=l.map((a,A)=>{let N=0,k=!1;return{...a,MarksForStudent:a.Id==b?a.MarksForStudent.map(M=>m==M.Id?(k=!0,N+=r==""?0:E?Number(r)*Number(M.TestOutOfMarks)/M.TestTypeTotalMarks:Math.round(Number(r)*(M.TestTypeOutOfMarks=="0"?1:M.TestTypeOutOfMarks/M.TestTypeTotalMarks)),{...M,Text1:r}):(M.Text1!==""&&(k=!0,N+=E?Number(M.Text1)*Number(M.TestOutOfMarks)/M.TestTypeTotalMarks:Math.round(Number(M.Text1)*(M.TestTypeOutOfMarks=="0"?1:M.TestTypeOutOfMarks/M.TestTypeTotalMarks))),M)):a.MarksForStudent,TotalMarks:a.Id==b?k?j(N):"":a.TotalMarks}}),console.log("StudentsForMarksAssignment",l),S(l)},Q=(r,b)=>{l.map(m=>{m.MarksForStudent.map((a,A)=>{H(b==A&&(a!=null&&a.IsActive)&&(a==null?void 0:a.IsAbsent)!=="Y"&&(a==null?void 0:a.IsAbsent)!=="E"?r:a.Text1,m.Id,a.Id)})})},se=(r,b)=>{l=l.map(m=>({...m,MarksForStudent:m.MarksForStudent.map((a,A)=>b==A&&(a!=null&&a.IsActive)&&(a==null?void 0:a.IsAbsent)!=="Y"&&(a==null?void 0:a.IsAbsent)!=="E"?{...a,ExamGrade:r}:a)})),g(l)},oe=(r,b)=>{if(b!=""){let m=0,a="",A=0;r.map(k=>{k.Text1!=""&&(m=m+Number(k.Text1))}),r.map(k=>{k.Text2!=""&&(A=A+Number(k.Text2))});let N=0;return N=m/A*100,_.map((k,M)=>{k.Starting_Marks_Range<=N&&k.Actual_Ending_Marks_Range>=N&&(a=k.Grade_Name)}),a}};return e.jsx("div",{children:e.jsx(F,{children:e.jsx(Ve,{component:F,children:e.jsxs(Le,{sx:{border:r=>`1px solid ${r.palette.divider}`},children:[e.jsx(Je,{children:e.jsxs(Se,{sx:{background:r=>r.palette.secondary.main,color:r=>r.palette.common.white},children:[e.jsx(I,{sx:{color:"white",fontWeight:"bold",py:1},children:i.Text1}),e.jsx(I,{sx:{color:"white",fontWeight:"bold",py:1},children:i.Text2}),e.jsx(mt,{ExamMarksHeader:i.Text4,BlurrExamHeader:Q,ChangeExamHeader:D,GradesForSubjectMarkList:_,ChangeGrade:c,IsReadOnly:O=="true",IsMark:x,AllowDecimal:E}),x&&e.jsx(I,{sx:{color:"white",fontWeight:"bold",py:1},children:i.Text5})]})}),e.jsx($e,{children:(l==null?void 0:l.length)>0&&l.map((r,b)=>e.jsxs(Se,{children:[e.jsx(I,{sx:{py:1},children:r.Text1}),e.jsx(I,{sx:{py:1,minWidth:"20vw"},children:r.Text2}),e.jsx(ft,{ExamMarks:r.MarksForStudent,StudentId:r.Id,changeText:H,GradesForSubjectMarkList:_,ExamStatus:o,changeExamStatus:T,changeExamGrade:$,IsReadOnly:O=="true",examResultProp:p=="true",publish:w=="true",IsMark:x,AllowDecimal:E}),x&&e.jsx(I,{sx:{py:1},children:e.jsxs(F,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Y,{sx:{width:"60px",background:"#F0F0F0"},size:"small",disabled:!0,value:r.TotalMarks}),oe(r.MarksForStudent,r.TotalMarks)]})})]},b))})]})})})})},gt=({navLinks:o,rightActions:l})=>{const S=ye(),i=f=>{S(f,{state:{fromInternal:!0}})};return e.jsxs(F,{children:[e.jsx(F,{sx:{p:2,borderRadius:1,textAlign:"center"},children:e.jsx(He,{})}),e.jsx(F,{sx:{pb:2},children:e.jsxs(J,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(J,{item:!0,xs:12,sm:12,md:12,lg:6,children:e.jsxs(Xe,{"aria-label":"breadcrumb",separator:e.jsx(Ue,{fontSize:"small"}),sx:{"& .MuiBreadcrumbs-separator":{marginLeft:"4px",marginRight:"4px"}},children:[e.jsx(qe,{to:"/RITeSchool/landing/landing",color:"inherit",style:{textDecoration:"none"},children:e.jsx(ne,{sx:{background:f=>f.palette.common.white,boxShadow:"0px 0px 5px 0px rgba(0,0,0,0.15)"},children:e.jsx(Ke,{color:"primary"})})}),o.slice(0,o.length-1).map((f,_)=>e.jsx(L,{variant:"h3",fontSize:{xs:"12px",sm:"14px",md:"16px",lg:"18px"},fontWeight:"normal",color:"text.primary",sx:{cursor:"pointer","&:hover":{fontWeight:"bold"}},onClick:O=>{f.onClick?f.onClick(O):i(f.path)},children:f.title},_)),o[o.length-1]&&e.jsx(L,{variant:"h3",fontSize:{xs:"12px",sm:"14px",md:"16px",lg:"18px"},color:"text.primary",children:o[o.length-1].title})]})}),e.jsx(J,{item:!0,xs:12,sm:12,md:12,lg:6,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-end"},children:e.jsx(je,{direction:"row",alignItems:"right",gap:1,children:l})})]})})]})},wt=()=>{const o=Qe(),l=ye();let{ClassTecher:S,ClassId:i,TeacherId:f,StandardId:_,IsMonthConfig:O,IsReadOnly:p,StandardDivisionId:w,SubjectId:g,TestId:x,examResultProp:E,publish:h,getStandardId:C}=Ze();S=R(S),i=R(i),f=R(f),_=R(_),O=R(O),p=R(p),w=R(w),g=R(g),x=R(x),E=R(E),h=R(h),C=R(C);const[n,D]=s.useState(!1),c=sessionStorage.getItem("AcademicYearId"),T=localStorage.getItem("localSchoolId"),$=sessionStorage.getItem("Id"),[j,H]=s.useState(fe(new Date,"yyyy-MM-dd"));s.useState(""),s.useState("");const[Q,se]=s.useState(!1);s.useState("");const[oe,r]=s.useState(""),[b,m]=s.useState(""),[a,A]=s.useState(""),[N,k]=s.useState("");s.useState(""),s.useState(""),s.useState(""),s.useState([]),s.useState(""),s.useState("");const[M,Tt]=s.useState("N"),[_e,bt]=s.useState(""),[Ee,kt]=s.useState(!1);s.useState(""),s.useState(""),s.useState("");const[Mt,we]=s.useState(""),[yt,De]=s.useState(""),[ie,de]=s.useState([]);s.useState([]),s.useState([]),s.useState(20),s.useState(1),v(t=>t.SubjectExamMark.Loading);const X=v(t=>t.SubjectExamMark.StudentsForMarksAssignments),[U,Z]=s.useState([]),z=v(t=>t.SubjectExamMark.StandardName),Ne=v(t=>t.SubjectExamMark.SubjectName),d=v(t=>t.SubjectExamMark.SchoolWiseTestName),P=v(t=>t.SubjectExamMark.ListStudentTestMarkDetails),ue=v(t=>t.SubjectExamMark.ExamMarkHeader),Ce=v(t=>t.SubjectExamMark.ListDisplayNameDetail),ce=v(t=>t.SubjectExamMark.ManageStudentsTestMark),ve=v(t=>t.SubjectExamMark.GradesForSubjectMarkList),W=v(t=>t.SubjectExamMark.ExamSchedule);console.log(W,"ExamSchedules");const Ie=v(t=>t.SubjectExamMark.StudentCount),Fe=v(t=>t.SubjectExamMark.SubjectExamMarkslists);console.log(Ie,"StudentCountTotal"),s.useState([]);const xe=t=>{H(fe(t,"yyyy-MM-dd"))};s.useEffect(()=>{setTimeout(()=>{se(!0)},1500)},[]),s.useEffect(()=>{(z!=null||z)&&(C=z.Standard_Id)},[z]),s.useEffect(()=>{const t={asSchoolId:Number(T),asStandardDivision_Id:Number(w),asSubjectId:Number(g),asTestId:Number(x),asAcademicYrId:Number(c),asShowTotalAsPerOutOfMarks:"Y",asTestDate:j};o(et(t))},[]),s.useEffect(()=>{const t={asStandardDivision_Id:Number(w),asSubject_Id:Number(g),asTestId:Number(x),asSchoolId:Number(T),asAcademicYrId:Number(c)};o(tt(t))},[]),s.useEffect(()=>{const t={asSchoolId:Number(T),asAcademicYrId:Number(c),asStandardId:Number(_),asSubjectId:Number(g),asTestId:Number(x)};o(at(t))},[]),s.useEffect(()=>{Z(X)},[X]),s.useEffect(()=>{let t=!1;Z(X.map(u=>(t=st(K(u.JoiningDate),j),{...u,MarksForStudent:u.MarksForStudent.map(y=>({...y,ExamStatus:u.IsAbsent=="N"&&t?"J":y.ExamStatus,IsLateJoinee:t}))})))},[j]),s.useEffect(()=>{de(ue)},[ue]),s.useEffect(()=>{(P==null?void 0:P.length)>0?(H(pe(P[0].Test_Date)),r(P.TestType_Name),m(P.TestType_Total_Marks),A(P.Marks_Scored),k(P.Grade_Or_Marks)):W.length>0?H(pe(W[0].SubjectExamStartDate)):H(rt(new Date))},[P]),s.useEffect(()=>{X!==null&&(we(X.Roll_No),De(X.Name))},[X]),s.useEffect(()=>{const t={asSchoolId:Number(T),asStandardId:Number(_),asTestId:Number(x),asSubjectId:Number(g)};o(nt(t))},[]),s.useEffect(()=>{o(lt())},[]);const Ae=t=>{let u=!1;return U.map((y,G)=>{y.Id==t&&y.MarksForStudent.map(q=>{(q.Text1!=""||q.ExamStatus!="N")&&(u=!0)})}),u},Ge=()=>{let t="<SchoolWiseStudentTestMarks>";return U.map((u,y)=>{Ae(u.Id)&&(t=t+'<SchoolWiseStudentTestMark School_Id="'+T+'" Academic_Year_Id="'+c+'" Student_Id="'+u.Id+'" Subject_Id="'+g+'" TestWise_Subject_Marks_Id="'+d.TestWise_Subject_Marks_Id+'" Test_Date="'+j+'" IsSavedForSingleStudent="False" Total_Marks_Scored="'+parseFloat(u.TotalMarks)+'" IsAbsent="'+Re(u.Id)+'" IsOptional="N" />')}),t+"</SchoolWiseStudentTestMarks>"},Re=t=>{let u="Y";return U.filter(y=>y.Id==t).map((y,G)=>{y.MarksForStudent.filter(q=>q.Student_Id==t).map(q=>{u=q.ExamStatus})}),u},Oe=()=>{let t="<SchoolWiseStudentTestMarksDetails>";return U.map((u,y)=>{u.MarksForStudent.map(G=>{(G.Text1!=""||G.ExamStatus!="N")&&(t=t+'<SchoolWiseStudentTestMarksDetail School_Id="'+T+'" Academic_Year_Id="'+c+'" Student_Id="'+G.Student_Id+'" Subject_Id="'+g+'" Is_Absent="'+G.ExamStatus+'" TestType_Id="'+G.Id+'" Marks_Scored="'+parseFloat(G.Text1==""?"0":G.Text1)+'" Assigned_Grade_Id="" />')})}),t+"</SchoolWiseStudentTestMarksDetails>"},We=()=>{if(j!==""&&ge(j))V("Exam date should be within the current academic year (i.e. between "+te(sessionStorage.getItem("StartDate"))+" to "+te(sessionStorage.getItem("EndDate"))+").");else if(V(""),!ee){let t=!0;if(U.forEach(u=>{u.MarksForStudent.forEach(y=>{Number(y.Text1)>Number(y.Text2)&&(t=!1,V(`Marks Scored should be less than ${y.Text2}`))})}),t){const u={asTestWise_Subject_Marks_Id:Number(d.TestWise_Subject_Marks_Id),asInserted_By_id:Number($),asStudent_Test_Type_MarksXml:Ge(),asStudent_Test_Type_Marks_DetailsXml:Oe(),asRemoveProgress:M,RemarkXml:_e,asHasRemark:Ee,asTestId:Number(x),asSubjectId:Number(g),asSchoolId:Number(T),asAcademicYearId:Number(c)};o(ct(u))}}};s.useEffect(()=>{ce!==""&&(ot.success("Subject exam marks saved successfully.",{toastId:"success1"}),o(it()),E==="true"?l("/RITeSchool/Teacher/ExamResultBase/"+B(w)+"/"+B(x),{state:{fromInternal:!0}}):l("/RITeSchool/Teacher/AssignExamMark/"+B(S)+"/"+B(i)+"/"+B(x),{state:{fromInternal:!0}}))},[ce]);const[ee,V]=s.useState("");s.useEffect(()=>{if(j!==""&&W.length>0&&p!=="true")if(ge(j))V("Exam date should be within the current academic year (i.e., between "+te(sessionStorage.getItem("StartDate"))+" to "+te(sessionStorage.getItem("EndDate"))+").");else{const t=new Date(K(W[0].Exam_Start_Date)),u=new Date(K(W[0].Exam_End_Date)),y=new Date(j);Te(t,y)||Te(y,u)?V("Exam date for this standard should be between "+K(W[0].Exam_Start_Date)+" and "+K(W[0].Exam_End_Date)):V("")}},[j,W]),s.useEffect(()=>{const t=new Date;j&&new Date(j)>t?D(!0):D(!1)},[j]);const Be=t=>{Z(t),V(""),t.map((u,y)=>{u.MarksForStudent.map((G,q)=>{Number(G.Text1)>Number(G.Text2)&&V("Exam type marks for highlighted cell should less than marks defined.")})})},Pe=t=>{de(t)},Ye=t=>{Z(t)},he={title:"Exam Results",path:"/RITeSchool/Teacher/ExamResultBase/"+B(w)+"/"+B(x)},me={title:"Assign Exam Mark",path:"/RITeSchool/Teacher/AssignExamMark/"+B(S)+"/"+B(i)+"/"+B(x)};return e.jsxs(F,{sx:{px:2},children:[e.jsx(gt,{navLinks:p==="true"?E==="true"?[he,{title:"Subject Exam Marks",path:""}]:[me,{title:"Subject Exam Marks",path:""}]:E==="true"?[he,{title:"Subject Exam Marks",path:""}]:[me,{title:"Subject Exam Marks",path:""}],rightActions:e.jsx(e.Fragment,{children:e.jsxs(je,{direction:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:"left",gap:1,sx:{mt:{xs:0,sm:0},flexWrap:{xs:"nowrap",sm:"nowrap"}},children:[e.jsx(J,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:e.jsx(Y,{size:"small",fullWidth:!0,label:"Class",value:z&&Object.keys(z).length>0?z.Standard_Name+" - "+z.Division_Name:"",sx:{bgcolor:"#F0F0F0",width:{xs:"45vw",sm:"10vw",md:"10vw",lg:"10vw"},"& .MuiInputBase-input":{cursor:"default"}},InputProps:{readOnly:!0}})}),e.jsx(J,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:e.jsx(Y,{size:"small",fullWidth:!0,label:"Exam",value:d&&Object.keys(d).length>0?d.SchoolWise_Test_Name:"",sx:{bgcolor:"#F0F0F0",width:{xs:"45vw",sm:"22vw",md:"20vw",lg:"17vw"},"& .MuiInputBase-input":{cursor:"default"}},InputProps:{readOnly:!0}})}),e.jsx(J,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:e.jsx(Y,{size:"small",fullWidth:!0,label:"Subject Name",value:Ne||"",sx:{bgcolor:"#F0F0F0",width:{xs:"45vw",sm:"20vw",md:"18vw",lg:"13vw"},"& .MuiInputBase-input":{cursor:"default"}},InputProps:{readOnly:!0}})}),e.jsx(J,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:W.length>0&&W.Schoolwise_Standard_Exam_Schedule_Id!="0"?e.jsx(F,{sx:{width:{xs:"45vw",sm:"14vw",md:"10vw"}},children:e.jsx(ke,{DateValue:new Date(j),onDateChange:xe,label:"Exam Date",size:"small",maxDate:new Date,disabled:!0})}):e.jsx(F,{sx:{width:{xs:"45vw",sm:"13vw",md:"10vw"}},children:e.jsx(ke,{DateValue:new Date(j),onDateChange:xe,label:"Exam Date",size:"small",maxDate:new Date})})}),e.jsxs(J,{item:!0,xs:12,gap:1,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-end"},children:[e.jsx(re,{title:'Assign marks to each student in the class for the selected subject and click on "Save". Once marks are submitted to class-teacher you can modify it from exam results.',children:e.jsx(ne,{sx:{color:"white",backgroundColor:ae[500],height:"36px !important",":hover":{backgroundColor:ae[600]}},children:e.jsx(dt,{})})}),p==="true"||E==="true"&&h==="true"?null:e.jsx(re,{title:"Save",children:e.jsx(ne,{sx:{color:"white",backgroundColor:ee!==""?ae[500]:be[500],height:"36px !important",":hover":{backgroundColor:ee!==""?ae[500]:be[600]}},onClick:We,disabled:n,children:e.jsx(xt,{})})})]})]})})}),Q?e.jsxs(F,{sx:{p:2,background:"white"},children:[e.jsxs(F,{sx:{display:"flex",gap:2,alignItems:"left",mb:2,flexDirection:{xs:"column",sm:"row"}},children:[e.jsx(L,{variant:"h4",children:d&&d.Grade_Or_Marks=="M"&&e.jsx(Y,{size:"small",fullWidth:!0,label:"Total Marks",value:d&&Object.keys(d).length>0?d.Subject_Total_Marks:"",sx:{bgcolor:"#F0F0F0","& .MuiInputBase-input":{cursor:"default"}},InputProps:{readOnly:!0}})}),e.jsxs(L,{variant:"h4",children:[d&&d.Grade_Or_Marks=="M"&&e.jsx(Y,{fullWidth:!0,label:"Passing Marks",size:"small",value:d&&Object.keys(d).length>0?parseFloat(d.Passing_Total_Marks):"",sx:{bgcolor:"#F0F0F0","& .MuiInputBase-input":{cursor:"default"}},InputProps:{readOnly:!0}}),d&&d.Grade_Or_Marks=="G"&&e.jsx(Y,{size:"small",fullWidth:!0,label:"Passing Grade",value:d&&Object.keys(d).length>0?d.Grade_Name:"",sx:{bgcolor:"#F0F0F0","& .MuiInputBase-input":{cursor:"default"}},InputProps:{readOnly:!0},disabled:p==="true"})]}),e.jsx(L,{sx:{color:"red"},children:ee})]}),p==="true"&&e.jsx(L,{variant:"body1",sx:{textAlign:"center",my:1,backgroundColor:"#38548A",padding:1,borderRadius:2,color:"white"},children:e.jsx("b",{children:"Student marks are already submitted."})}),E==="true"&&h==="true"&&e.jsx(L,{variant:"body1",sx:{textAlign:"center",my:1,backgroundColor:"#38548A",padding:1,borderRadius:2,color:"white"},children:e.jsx("strong",{children:"Results for this exam has been published. You need to unpublish the exam to update the marks."})}),(d==null?void 0:d.AllowDecimal)=="True"&&e.jsx(L,{variant:"body1",sx:{textAlign:"center",my:1,backgroundColor:"#38548A",padding:1,borderRadius:2,color:"white"},children:e.jsx("b",{children:"Note :	Marks assignment can be done in decimal numbers."})}),U.length>0&&ie!=null&&e.jsx("div",{children:e.jsx(pt,{ExamMarksHeader:ie,SubjectExamMarkslists:Fe,onChangeExamHeader:Pe,ExamStatus:Ce,StudentsForMarksAssignment:U,onChangeExamStatus:Be,GradesForSubjectMarkList:ve,onChangeExamGrade:Ye,IsReadOnly:p,examResultProp:E,publish:h,IsMark:(d==null?void 0:d.Grade_Or_Marks)=="M",AllowDecimal:(d==null?void 0:d.AllowDecimal)=="True"})})]}):e.jsx(ut,{})]})};export{wt as default};
