import{V as B,W as R,j as e,u as E,c as S,r as s,cJ as M,a8 as g,a2 as O,a5 as U,a7 as _,ab as G,cM as L,t as h,cN as z}from"./index-d5YOjbb6.js";import{S as Y}from"./SingleFile-BT4Sw5XK.js";import{B as J}from"./ButtonStyle-DaPKUawX.js";import"./CloudUpload-DJN1zp2n.js";import"./Errormessage-RPRSgLGN.js";var r={},q=R;Object.defineProperty(r,"__esModule",{value:!0});var p=r.default=void 0,w=q(B()),T=e,V=(0,w.default)((0,T.jsx)("path",{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"HighlightOff");p=r.default=V;const X=()=>{const l=E();S(t=>t.AddPlanner.AddAnnual);const o=S(t=>t.AddPlanner.getfile),x=["PDF","JPG","PNG","BMP","JPEG"],I=3e6,[F,d]=s.useState(!1),[a,b]=s.useState(""),[i,j]=s.useState("");s.useState(!0);const n=sessionStorage.getItem("AcademicYearId"),c=localStorage.getItem("localSchoolId"),N=localStorage.getItem("Id"),u=localStorage.getItem("SiteURL");u.split("/")[u.split("/").length-1];const P={asSchoolId:Number(c),asAcademicYearId:Number(n),asSaveFeature:"Event Planner",asFileName:a,asFolderName:"PPSN Website",asBase64String:i,asUpdatedById:Number(N)},D={asSchoolId:Number(c),asAcademicYearId:Number(n)};s.useEffect(()=>{l(M(D))},[]),s.useEffect(()=>{},[o]);const A={asSchoolId:Number(c),asAcademicYearId:Number(n)},v=()=>{d(!0)},m=()=>{d(!1)},C=t=>{b(t.Name),j(t.Value)},f=()=>{o!==""&&window.open(localStorage.getItem("SiteURL")+"/RITeSchool/DOWNLOADS/Event%20Planner/"+o[0].LinkUrl)},y=()=>{a.length!==0&&i.length!==0&&(l(L(P)),h.success("File uploaded successfully.",{toastId:"success1"}))},k=t=>{confirm("Are You Sure you want to delete The File")&&(l(z(A)),h.success("File deleted successfully",{toastId:"success1"}))};return e.jsxs("div",{children:[e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{}),e.jsx(g,{variant:"outlined",onClick:v,children:"Add Annual Planner"}),e.jsxs(O,{open:F,onClose:m,children:[e.jsxs(U,{children:[e.jsx(Y,{ValidFileTypes:x,MaxfileSize:I,ChangeFile:C,errorMessage:"",filePath:f.toString(),FileName:a}),e.jsx("h6",{children:"(Supports only .PDF, .PNG and .JPG file type. File size should not exceed 2 MB.)"})," "]}),e.jsxs(_,{children:[e.jsx(G,{onClick:f}),e.jsx(p,{onClick:k}),e.jsx(J,{disabled:!(a.length!==0&&i.length!==0),onClick:y,children:"Submit"}),e.jsx(g,{variant:"outlined",color:"error",onClick:m,autoFocus:!0,size:"small",children:"Close"})]})]})]})};export{X as default};
