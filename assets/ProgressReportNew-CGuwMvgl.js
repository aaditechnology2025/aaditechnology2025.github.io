import{j as e,r as i,B as V,aj as de,ak as Ut,al as O,am as l,T as h,bv as ze,an as ce,ai as js,a2 as Ps,a3 as Gs,a5 as Fs,u as Ls,A as vs,w as Ms,x as Ht,ag as $s,au as Ws,c as _,li as ks,lj as Os,lk as Ys,ll as Es,lm as Hs,ln as Bs,lg as Vs,lo as zs,iC as hs,lp as Xs,lq as Ks,lr as Us,ls as Js,lt as qs,lu as Qs,lv as Zs,lw as er,lx as tr,ly as sr,lz as rr,lA as ar,lB as lr,lC as or,lD as nr,lE as ir,n as ps,p as dr,G as De,hh as cr,bR as Ss,H as Bt,I as Vt,J as us,K as xr,ii as zt,iN as hr,aJ as Xt,m as Ce,lF as pr}from"./index-d5YOjbb6.js";import{d as Sr}from"./VisibilityTwoTone-EH7VzEOC.js";import{f as ur}from"./fxp-DGqQnM-q.js";import{d as gr}from"./FileDownloadOutlined-B-D7Fbww.js";import{L as _r,b as br,v as jr,C as Tr}from"./CardStyle-B9qFmFtz.js";import{T as fr}from"./TAttendanceCommonPageheader-Ba_1Sm6K.js";import{d as Ir}from"./Clear-CcnDAt6P.js";import{L as yr}from"./Link-CIF-2ERy.js";import"./Card-BrM9kpJu.js";function gs({text1:u,text2:b,clickIcon:j}){return e.jsx("div",{children:e.jsx(_r,{children:e.jsxs(br,{children:[e.jsxs(jr,{children:[e.jsx("b",{children:u})," :  ",b]}),e.jsx(Tr,{onClick:j,children:e.jsx(gr,{})})]})})})}const Ts=({progressReportMessage:u,USlistStudentsDetails:b,isFailCriteria:j,totalCount:C,EntireDataList:v,HeaderArray1:B,SubHeaderArray1:f,MarkDetailsList1:N,IsTotalConsiderForProgressReport:P})=>{var L;const[Y,ee]=i.useState([]);i.useEffect(()=>{Object.keys(v).length>0&&ee(v)},[v]);let le=[],r="0",t="",n=0;B.map(a=>{a.ParentSubjectId!=r&&(le.push({SubjectName:t,colSpan:n}),t=a.ParentSubjectName,r=a.ParentSubjectId,n=0),t=a.ParentSubjectName,n=n+a.colSpan}),le.push({SubjectName:t,colSpan:n}),i.useEffect(()=>{},[N]);function I(a){var E,K,te;let R,A=(E=Y==null?void 0:Y.ListDisplayNameDetails)==null?void 0:E.filter(ie=>ie.ShortName===a);return(A==null?void 0:A.length)>0&&(R=e.jsx("span",{style:{color:`${(K=A[0])==null?void 0:K.ForeColor}`,fontWeight:"bold"},children:(te=A[0])==null?void 0:te.DisplayName})),R}function p(a){var E;let R=!0,A=[];return A=(E=v==null?void 0:v.ListSubjectidDetails)==null?void 0:E.filter(K=>K.Subject_Id===a),(A==null?void 0:A.length)>0&&(R=!1),R}return e.jsx(V,{children:(b==null?void 0:b.length)>0?e.jsxs(de,{children:[e.jsxs(Ut,{children:[le.length>1&&e.jsxs(e.Fragment,{children:[e.jsxs(O,{sx:{bgcolor:"#F0F0F0",textAlign:"center"},children:[e.jsxs(l,{rowSpan:2,sx:{py:1},children:[e.jsx(h,{variant:"h3",textAlign:"center",color:"black",ml:2,children:"Subjects ▶"}),e.jsx(h,{variant:"h3",textAlign:"center",color:"black",children:"▼ Exam"})]}),le.map(a=>e.jsx(l,{colSpan:a.colSpan,sx:{py:1,border:R=>`1px solid ${R.palette.grey[400]}`,textAlign:"center"},children:e.jsx(h,{color:"black",textAlign:"center",mr:2,children:e.jsxs("b",{style:{marginRight:"5px"},children:[a.SubjectName,a.Is_CoCurricularActivity=="True"&&e.jsx("span",{style:{color:"red"},children:"*"})]})})})),e.jsxs(e.Fragment,{children:[j==="N"&&P.toLowerCase()==="true"&&e.jsx(l,{rowSpan:3,sx:{py:1,minWidth:"140px",border:a=>`1px solid ${a.palette.grey[400]}`},children:e.jsx(h,{color:"black",textAlign:"center",px:0,children:e.jsx("b",{children:"Result"})})}),C!=="0"&&P.toLowerCase()==="true"&&e.jsx(l,{rowSpan:3,sx:{py:1,minWidth:"140px",border:a=>`1px solid ${a.palette.grey[400]}`},children:e.jsx(h,{color:"black",textAlign:"center",px:0,children:e.jsx("b",{children:"Rank"})})})]})]}),e.jsx(O,{sx:{bgcolor:"#F0F0F0",textAlign:"center"},children:B.map(a=>e.jsx(l,{colSpan:a.colSpan,sx:{py:1,border:R=>`1px solid ${R.palette.grey[400]}`,textAlign:"center"},children:e.jsx(h,{color:"black",textAlign:"center",mr:2,children:e.jsxs("b",{style:{marginRight:"5px"},children:[a.SubjectName,a.Is_CoCurricularActivity=="True"&&e.jsx("span",{style:{color:"red"},children:"*"})]})})}))})]}),le.length<=1&&e.jsxs(O,{sx:{bgcolor:"#F0F0F0",textAlign:"center",border:a=>`1px solid ${a.palette.grey[400]}`},children:[e.jsxs(l,{rowSpan:2,sx:{py:1,border:a=>`1px solid ${a.palette.grey[400]}`},children:[e.jsx(h,{variant:"h3",textAlign:"center",color:"black",ml:5,children:"Subjects ▶"}),e.jsx(h,{variant:"h3",textAlign:"center",color:"black",children:"▼ Exam"})]}),B.map(a=>e.jsx(l,{colSpan:a.colSpan,sx:{py:1,border:R=>`1px solid ${R.palette.grey[400]}`,textAlign:"center"},children:e.jsx(h,{color:"black",textAlign:"center",mr:0,children:e.jsxs("b",{style:{marginRight:"0px"},children:[a.SubjectName,a.Is_CoCurricularActivity=="True"&&e.jsx("span",{style:{color:"red"},children:"*"})]})})})),P.toLowerCase()==="true"&&e.jsx(l,{rowSpan:2,sx:{py:1,minWidth:"140px",textAlign:"center",border:a=>`1px solid ${a.palette.grey[400]}`},children:e.jsx(h,{color:"black",textAlign:"center",mx:2,children:e.jsx("b",{style:{marginRight:"0px"},children:"Grade"})})}),e.jsxs(e.Fragment,{children:[j==="N"&&P.toLowerCase()==="true"&&e.jsx(l,{rowSpan:3,sx:{py:1,minWidth:"140px",border:a=>`1px solid ${a.palette.grey[400]}`},children:e.jsx(h,{color:"black",textAlign:"center",px:0,children:e.jsx("b",{children:"Result"})})}),C!=="0"&&P.toLowerCase()==="true"&&e.jsx(l,{rowSpan:3,sx:{py:1,minWidth:"140px",border:a=>`1px solid ${a.palette.grey[400]}`},children:e.jsx(h,{color:"black",textAlign:"center",px:0,children:e.jsx("b",{children:"Rank"})})})]})]}),e.jsxs(O,{children:[f.map(a=>e.jsx(e.Fragment,{children:e.jsx(l,{sx:{py:1,textAlign:"center",border:R=>`1px solid ${R.palette.grey[400]}`,backgroundColor:ze[50]},children:e.jsx(h,{color:"#38548A",textAlign:"center",mx:2,sx:{},children:e.jsx("b",{style:{marginRight:"5px"},children:a.TestTypeName})})})})),(L=Y==null?void 0:Y.listSubjectsDetails)==null?void 0:L.map((a,R)=>e.jsx(e.Fragment,{children:(a==null?void 0:a.Is_CoCurricularActivity.toLowerCase())==="true"&&p(a.Subject_Id)&&e.jsx(l,{sx:{py:1,textAlign:"center"},children:e.jsx(h,{color:"#38548A",textAlign:"center",mx:0,children:e.jsx("b",{children:"Grade"})})},R)}))]})]}),N.map((a,R)=>e.jsx(ce,{sx:{backgroundColor:"#F0F0F0",textAlign:"center"},children:e.jsxs(O,{children:[e.jsx(l,{sx:{py:1,border:A=>`1px solid ${A.palette.grey[400]}`,textAlign:"center"},children:e.jsxs("b",{children:[" ",a.TestName]})}),a.MarksArr.map(A=>e.jsx(l,{sx:{py:1,textAlign:"center",backgroundColor:"white",border:E=>`1px solid ${E.palette.grey[200]}`},children:e.jsx("span",{style:{fontWeight:(A==null?void 0:A.IsGrades)==="Y"?"bold":"normal",color:`${(A==null?void 0:A.MarksScored)=="Pass"?"green":(A==null?void 0:A.MarksScored)=="Fail"?"red":"inherit"}`},children:A?A.IsAbsent!=="N"?I(A.IsAbsent):A.MarksScored||A.MarksScored===0?A.MarksScored===""?"-":A.MarksScored:"-":"-"})}))]})},R))]}):e.jsx(h,{variant:"body1",sx:{textAlign:"center",marginTop:4,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white"},children:e.jsxs("b",{children:[" ",u]})})})},fs=({progressReportMessage:u,isFailCriteria:b,USlistStudentsDetails:j,totalCount:C,EntireDataList:v,ThirdHeaderRow:B,HeaderArray:f,SubHeaderArray:N,MarkDetailsList:P,ListDisplayNameDetails:Y,ListTestTypeIdDetails:ee,USListSchoolWiseTestNameDetail:le,IsTotalConsiderForProgressReport:r,USListMarkssDetails:t})=>{var he,Ne;const[n,I]=i.useState([]);function p(){var d,T,c,y;if(((d=n.ListTestTypeIdDetails)==null?void 0:d.length)===1&&r.toLowerCase()==="true")return!1;if(((T=n.ListTestTypeIdDetails)==null?void 0:T.length)===1&&r.toLowerCase()==="false")return!0;if(((c=n.ListTestTypeIdDetails)==null?void 0:c.length)>1&&r.toLowerCase()==="true")return!0;if(((y=n.ListTestTypeIdDetails)==null?void 0:y.length)>1&&r.toLowerCase()==="false")return!0}function L(d){let T=1,c=n.ListSubjectidDetails.filter(y=>y.Subject_Id===d).length;if(r.toLowerCase()==="true")return T=(p()?c:0)+(c!==1&&1),T;if(r.toLowerCase()==="false")return T=c,T}function a(d){var y,U,Ae,me;let T=1,c=n.listSubjectsDetails.filter(dt=>dt.Parent_Subject_Id===d);if(r.toLowerCase()==="true")return((y=n.ListTestTypeIdDetails)==null?void 0:y.length)===1?(T=c.length+(((U=n.ListTestTypeIdDetails)==null?void 0:U.length)+1),T):(T=(c.length+1)*(((Ae=n.ListTestTypeIdDetails)==null?void 0:Ae.length)+1),T);if(r.toLowerCase()==="false")return T=(c.length+1)*((me=n.ListTestTypeIdDetails)==null?void 0:me.length),T}function R(){var d;return(d=n.listSubjectsDetails)==null?void 0:d.map(T=>T.Parent_Subject_Id==="0"?{...T,Subject_Name:"",rowSpan:1,colSpan:L(T.Subject_Id)}:{...T,rowSpan:1,colSpan:L(T.Subject_Id)})}function A(){var c;let d=[],T=[];return(c=n.listSubjectsDetails)==null||c.map(y=>{y.Parent_Subject_Id==="0"?T.push({...y,rowSpan:2,colSpan:L(y.Subject_Id)}):d.includes(y.Parent_Subject_Id)||(d.push(y.Parent_Subject_Id),T.push({...y,Subject_Name:E(y.Parent_Subject_Id),rowSpan:1,colSpan:a(y.Parent_Subject_Id)}))}),T}function E(d){if(!Array.isArray(n.listTestidDetails))return"No Name Available";const T=n.listTestidDetails.filter(c=>c.Parent_Subject_Id===d);return T.length>=1&&T[0].Parent_Subject_Name?T[0].Parent_Subject_Name:"No Name Available"}i.useEffect(()=>{Object.keys(v).length>0&&I(v)},[v]);let K=[],te="0",ie="",J=0;f.forEach(d=>{d.ParentSubjectId!==te&&(K.push({SubjectName:ie,colSpan:J}),ie=d.ParentSubjectName,te=d.ParentSubjectId,J=0),ie=d.ParentSubjectName,J=J+d.colSpan}),K.push({SubjectName:ie,colSpan:J}),f.some(d=>d.ParentSubjectId!=="0");function Re(d){var y,U,Ae;let T,c=(y=n==null?void 0:n.ListDisplayNameDetails)==null?void 0:y.filter(me=>me.ShortName===d);return(c==null?void 0:c.length)>0&&(T=e.jsx("span",{style:{color:`${(U=c[0])==null?void 0:U.ForeColor}`,fontWeight:"bold"},children:(Ae=c[0])==null?void 0:Ae.DisplayName})),T}let xe=(he=n.listSubjectsDetails)==null?void 0:he.map((d,T)=>{let c=[],y=n.ListSubjectidDetails.filter(U=>U.Subject_Id===d.Subject_Id);return y.length>1&&(c=y.map(U=>c=U.ShortenTestType_Name)),y.length===1&&r.toLowerCase()==="false"&&(c=y.map(U=>c=U.ShortenTestType_Name)),r.toLowerCase()==="true"&&y.length>0&&c.push("Total"),r.toLowerCase()==="true"&&y.length===0&&d.Is_CoCurricularActivity==="True"&&c.push("Grade"),r.toLowerCase()==="false"&&y.length===0&&d.Is_CoCurricularActivity==="True"&&c.push("Grade"),c});return e.jsx(V,{children:(j==null?void 0:j.length)>0?e.jsxs(de,{"aria-label":"simple table",sx:{border:d=>`1px solid ${d.palette.grey[300]}`,overflow:"hidden"},children:[e.jsxs(Ut,{children:[K.length>1&&e.jsxs(e.Fragment,{children:[e.jsxs(O,{sx:{bgcolor:"#F0F0F0",textAlign:"center"},children:[e.jsxs(l,{rowSpan:3,sx:{py:1,border:d=>`1px solid ${d.palette.grey[400]}`},children:[e.jsx(h,{variant:"h3",textAlign:"center",color:"black",ml:0,children:"Subjects ▶"}),e.jsx(h,{variant:"h3",textAlign:"center",color:"black",children:"▼ Exam"})]}),A().map((d,T)=>e.jsx(l,{colSpan:d.Total_Consideration=="N"?1:d.colSpan,rowSpan:d.rowSpan,sx:{py:1,border:c=>`1px solid ${c.palette.grey[400]}`,textAlign:"center",minWidth:"130px"},children:e.jsx(h,{color:"black",textAlign:"center",mx:0,children:e.jsxs("b",{style:{marginRight:"0px"},children:[d.Subject_Name,d.Is_CoCurricularActivity==="True"&&e.jsx("span",{style:{color:"red"},children:"*"})]})})},T)),r.toLowerCase()==="true"&&e.jsxs(e.Fragment,{children:[e.jsx(l,{rowSpan:3,sx:{py:1,border:d=>`1px solid ${d.palette.grey[400]}`},children:e.jsx(h,{color:"black",textAlign:"center",px:3,children:e.jsx("b",{children:"Total"})})}),e.jsx(l,{rowSpan:3,sx:{py:1,border:d=>`1px solid ${d.palette.grey[400]}`},children:e.jsx(h,{color:"black",textAlign:"center",px:1,children:e.jsx("b",{children:"%"})})}),e.jsx(l,{rowSpan:3,sx:{py:1,minWidth:"140px",border:d=>`1px solid ${d.palette.grey[400]}`},children:e.jsx(h,{color:"black",textAlign:"center",px:0,children:e.jsx("b",{children:"Grade"})})})]}),e.jsxs(e.Fragment,{children:[b==="N"&&r.toLowerCase()==="true"&&e.jsx(l,{rowSpan:3,sx:{py:1,minWidth:"140px",border:d=>`1px solid ${d.palette.grey[400]}`},children:e.jsx(h,{color:"black",textAlign:"center",px:0,children:e.jsx("b",{children:"Result"})})}),C!=="0"&&r.toLowerCase()==="true"&&e.jsx(l,{rowSpan:3,sx:{py:1,minWidth:"140px",border:d=>`1px solid ${d.palette.grey[400]}`},children:e.jsx(h,{color:"black",textAlign:"center",px:0,children:e.jsx("b",{children:"Rank"})})})]})]}),e.jsx(O,{sx:{bgcolor:"#F0F0F0",textAlign:"center"},children:(Ne=R())==null?void 0:Ne.map((d,T)=>e.jsxs(e.Fragment,{children:[T>0&&R()[T-1].Parent_Subject_Id!=="0"&&d.Parent_Subject_Id==="0"&&e.jsxs(e.Fragment,{children:[ee==null?void 0:ee.map((c,y)=>e.jsx(l,{rowSpan:2,sx:{py:1,minWidth:"120px",textAlign:"center",border:U=>`1px solid ${U.palette.grey[400]}`},children:e.jsxs(h,{textAlign:"center",sx:{color:"black",fontWeight:"700"},children:["Total ",c.Text2]})},y)),r.toLowerCase()==="true"&&e.jsxs(l,{rowSpan:2,sx:{py:1,textAlign:"center",border:c=>`1px solid ${c.palette.grey[400]}`},children:["  ",e.jsx(h,{sx:{fontWeight:"700"},color:"black",textAlign:"center",mr:4,children:"Total"})]})]}),d.Subject_Name!==""&&e.jsx(l,{colSpan:d.colSpan,rowSpan:d.rowSpan,sx:{py:1,textAlign:"center",border:c=>`1px solid ${c.palette.grey[400]}`},children:e.jsx(h,{color:"black",textAlign:"center",mr:0,children:e.jsxs("b",{style:{marginRight:"5px"},children:[d.Subject_Name,d.Is_CoCurricularActivity=="True"&&e.jsx("span",{style:{color:"red"},children:"*"})]})})},T)]}))})]}),K.length<=1&&e.jsxs(O,{sx:{bgcolor:"#F0F0F0",textAlign:"center"},children:[e.jsxs(l,{rowSpan:2,sx:{py:1,border:d=>`1px solid ${d.palette.grey[400]}`},children:[e.jsx(h,{variant:"h3",textAlign:"center",color:"black",ml:0,children:"Subjects ▶"}),e.jsx(h,{variant:"h3",textAlign:"center",color:"black",children:"▼ Exam"})]}),A().map((d,T)=>e.jsx(l,{colSpan:d.colSpan,sx:{py:1,border:c=>`1px solid ${c.palette.grey[400]}`,textAlign:"center",minWidth:"180px"},children:e.jsx(h,{color:"black",textAlign:"center",mr:0,children:e.jsxs("b",{style:{marginRight:"5px"},children:[d.Subject_Name,d.Is_CoCurricularActivity=="True"&&e.jsx("span",{style:{color:"red"},children:"*"})]})})},T)),r.toLowerCase()==="true"&&e.jsxs(e.Fragment,{children:[e.jsx(l,{rowSpan:3,sx:{py:1,border:d=>`1px solid ${d.palette.grey[400]}`},children:e.jsx(h,{color:"black",textAlign:"center",px:2,children:e.jsx("b",{children:"Total"})})}),e.jsx(l,{rowSpan:3,sx:{py:1,border:d=>`1px solid ${d.palette.grey[400]}`},children:e.jsx(h,{color:"black",textAlign:"center",px:2,children:e.jsx("b",{children:"%"})})}),e.jsx(l,{rowSpan:3,sx:{py:1,border:d=>`1px solid ${d.palette.grey[400]}`},children:e.jsx(h,{color:"black",textAlign:"center",px:2,minWidth:"180px",maxWidth:"auto",children:e.jsx("b",{children:"Grade"})})})]}),e.jsxs(e.Fragment,{children:[b==="N"&&r.toLowerCase()==="true"&&e.jsx(l,{rowSpan:3,sx:{py:1,minWidth:"140px",border:d=>`1px solid ${d.palette.grey[400]}`},children:e.jsx(h,{color:"black",textAlign:"center",px:0,children:e.jsx("b",{children:"Result"})})}),C!=="0"&&r.toLowerCase()==="true"&&e.jsx(l,{rowSpan:3,sx:{py:1,minWidth:"140px",border:d=>`1px solid ${d.palette.grey[400]}`},children:e.jsx(h,{color:"black",textAlign:"center",px:0,children:e.jsx("b",{children:"Rank"})})})]})]}),e.jsx(O,{children:e.jsx(e.Fragment,{children:(xe==null?void 0:xe.length)>0&&(xe==null?void 0:xe.map((d,T)=>e.jsx(e.Fragment,{children:d.length>0&&d.map((c,y)=>e.jsx(l,{sx:{py:1,alignItems:"center",minWidth:"120px",border:U=>`1px solid ${U.palette.grey[400]}`,backgroundColor:ze[50]},children:e.jsx(h,{color:"#38548A",textAlign:"center",children:e.jsx("b",{style:{marginRight:"0px"},children:c})})},`${T}-${y}`))})))})})]}),P.map((d,T)=>e.jsx(ce,{sx:{backgroundColor:"#F0F0F0",alignItems:"center"},children:e.jsxs(O,{children:[e.jsx(l,{sx:{py:1,minWidth:"300px",textAlign:"center",maxWidth:"100%",border:c=>`1px solid ${c.palette.grey[400]}`},children:e.jsx("b",{children:d.TestName||"-"})}),d.MarksArr.map((c,y)=>e.jsx(l,{sx:{py:1,textAlign:"center",backgroundColor:"white",border:U=>`1px solid ${U.palette.grey[200]}`},children:e.jsx("span",{style:{fontWeight:(c==null?void 0:c.IsGrades)==="Y"?"bold":"normal",color:`${(c==null?void 0:c.MarksScored)=="Pass"?"green":(c==null?void 0:c.MarksScored)=="Fail"?"red":"inherit"}`},children:c==null||(c==null?void 0:c.MarksScored)==""?"-":(c==null?void 0:c.IsAbsent)!=="N"?Re(c.IsAbsent):(c==null?void 0:c.MarksScored)==null||(c==null?void 0:c.TotalMarks)==null?"-":(c==null?void 0:c.MarksScored)+(c.TotalMarks==="-"?"":" / "+c.TotalMarks)})},y))]})},T))]}):e.jsx(h,{variant:"body1",sx:{textAlign:"center",marginTop:4,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white"},children:e.jsxs("b",{children:[" ",u]})})})},Nr=({isFailCriteria:u,totalCount:b,data1:j,IStudentList:C,handleClose:v,handleClick:B,open1:f,USErrorMessage:N,USlistStudentsDetails:P,formattedText:Y,USGetAllMarksGradeConfiguration:ee,USGetAllMarksGradeConfiguration1:le})=>{var Q,We,ht;const[r,t]=i.useState([]),[n,I]=i.useState([]),[p,L]=i.useState([]),[a,R]=i.useState([]),[A,E]=i.useState([]),[K,te]=i.useState([]),[ie,J]=i.useState([]),[Re,xe]=i.useState([]),[he,Ne]=i.useState([]),[d,T]=i.useState([]),[c,y]=i.useState([]),[U,Ae]=i.useState([]),[me,dt]=i.useState([]),[Jt,qt]=i.useState([]),[Qt,Pe]=i.useState([]),[ue,ct]=i.useState([]),[Xe,Rt]=i.useState([]),[pe,Pt]=i.useState([]),[je,Gt]=i.useState([]),[xt,Se]=i.useState(!1),[Ft,z]=i.useState(!1);i.useEffect(()=>{Object.keys(C).length>0&&Lt()},[C]);const Lt=()=>{var st;let m={IsTotalConsiderForProgressReport:j};const x={data:C};x.data.listSubjectsDetails;let vt=x.data.listSubjectsDetails.some(o=>o.Total_Consideration==="N");Se(vt);let Ge=x.data.listStudentsDetails.map(o=>({Id:o.YearWise_Student_Id,Student_Name:o.Student_Name,Roll_No:o.Roll_No,Standard_Name:o.Standard_Name,Division_Name:o.Division_Name,Academic_Year:o.Academic_Year,School_Name:o.School_Name,School_Orgn_Name:o.School_Orgn_Name,Standard_Id:o.Standard_Id,Standard_Division_Id:o.Standard_Division_Id,IsFailCriteriaNotApplicable:o.IsFailCriteriaNotApplicable})),Te=x.data.listSubjectsDetails;const Mt=o=>{var D,S,G,k;let F="";return o.Is_Absent==="N"?((k=(G=(S=(D=x.data)==null?void 0:D.listStudentsDetails)==null?void 0:S[0])==null?void 0:G.ShowOnlyGrades)==null?void 0:k.trim())==="true"?F=o.Grade:F=parseFloat(o.Marks_Scored):x.data.ListDisplayNameDetails.map(se=>{se.ShortName===o.Is_Absent&&(F=se.DisplayName)}),F},ke=o=>{let F="";return o.Is_Absent==="N"?F=o.Grade:x.data.ListDisplayNameDetails.map(D=>{D.ShortName===o.Is_Absent&&(F=D.DisplayName)}),F},Ke=(o,F,D)=>{let S=null;return x.data.listSubjectIdDetails.map(G=>{G.Original_SchoolWise_Test_Id===o&&G.Subject_Id===F&&G.TestType_Id===D&&(S=G)}),S},pt=(o,F,D)=>{let S="",G=0;return F.Parent_Subject_Id!=="0"&&(G=o.filter(k=>k.Parent_Subject_Id===F.Parent_Subject_Id).length,x.data.listTestidDetails.filter(k=>k.Test_Id===D&&k.Parent_Subject_Id===F.Parent_Subject_Id).map(k=>{S=k.Parent_Subject_Name})),{parent:S,colsPan:G}};function Fe(o){return x.data.ListSubjectidDetails.filter(F=>F.Subject_Id===o).length}let X=[],Ue=[],ge=[];function $t(o,F,D,S){let G=o.filter(k=>k.Parent_Subject_Id===F&&k.TestType_Id===D&&k.Test_Id===S);return G.length>=1?parseFloat(G[0].TestType_Total_Marks):"-"}function Wt(o,F,D,S){let G=o.filter(k=>k.Parent_Subject_Id===F&&k.TestType_Id===D&&k.Test_Id===S);return G.length>=1?parseFloat(G[0].TestType_Total_Marks_Scored):"-"}(st=x.data.listTestDetails.filter(o=>o.Test_Id!=="-1"))==null||st.map((o,F)=>{var oe,re;let D=[],S=x.data.listSubjectsDetails;x.data.listSubjectsDetails.map((g,H)=>{var Ye,jt,Ot,Tt;let q=0,M=x.data.ListSubjectidDetails.filter(we=>we.Subject_Id===g.Subject_Id);function ae(){return Fe(g.Subject_Id)===1&&m.IsTotalConsiderForProgressReport.toLowerCase()==="true"?!1:Fe(g.Subject_Id)===1&&m.IsTotalConsiderForProgressReport.toLowerCase()==="false"||Fe(g.Subject_Id)>1&&m.IsTotalConsiderForProgressReport.toLowerCase()==="true"?!0:Fe(g.Subject_Id)>1&&m.IsTotalConsiderForProgressReport.toLowerCase()==="false"}let fe=M.length,_e="",Le=null;if(M.map((we,ve)=>{var Ie,Me,$e,Ee,ft,It,rt,at,yt;q+=1;let $=Ke(o.Original_SchoolWise_Test_Id,g.Subject_Id,we.TestType_Id);if(ae()&&(S[H].Parent_Subject_Id==="0"?D.push({MarksScored:$?`${Mt($)}`:"-",TotalMarks:$?$.Is_Absent==="N"?((Ee=($e=(Me=(Ie=x.data)==null?void 0:Ie.listStudentsDetails)==null?void 0:Me[0])==null?void 0:$e.ShowOnlyGrades)==null?void 0:Ee.trim())==="true"?$.Grade:parseFloat($.TestType_Total_Marks):"":"-",IsAbsent:$?$.Is_Absent:"N"}):S[H].Parent_Subject_Id!=="0"&&D.push({MarksScored:$?`${Mt($)}`:"-",TotalMarks:$?$.Is_Absent==="N"?((at=(rt=(It=(ft=x.data)==null?void 0:ft.listStudentsDetails)==null?void 0:It[0])==null?void 0:rt.ShowOnlyGrades)==null?void 0:at.trim())==="true"?$.Grade:parseFloat($.TestType_Total_Marks):"":"-",IsAbsent:$?$.Is_Absent:"N"})),F===0&&ge.push({TestTypeName:m.IsTotalConsiderForProgressReport.toLowerCase()==="true"&&fe===1?"Total":we.ShortenTestType_Name}),$&&_e!==g.Subject_Id+"--"+o.Test_Id){_e=g.Subject_Id+"--"+o.Test_Id;const ye=(Be,lt,ne)=>Be?lt?`${ne}`:`${parseFloat(Be.Total_Marks_Scored)}`:"-";Le=((Be,lt,ne)=>{var mt,ot,nt,wt;if(!ne)return{MarksScored:" ",TotalMarks:"-",IsAbsent:"N"};const Nt=Be.IsTotalConsiderForProgressReport.toLowerCase()==="true",At=Fe(lt.Subject_Id)===1,Ve=((wt=(nt=(ot=(mt=x.data)==null?void 0:mt.listStudentsDetails)==null?void 0:ot[0])==null?void 0:nt.ShowOnlyGrades)==null?void 0:wt.trim())==="true",Yt=Nt&&At?Ve?`${ne.TotalGrade}`:`${parseFloat(ne.Total_Marks_Scored)}`:ye(ne,Ve,ne.TotalGrade),Et=Nt&&At?Ve?`${ne.TotalGrade}`:`${parseFloat(ne.Subject_Total_Marks)}`:Ve?`${ne.TotalGrade}`:ne.Subject_Total_Marks;return{MarksScored:Yt,TotalMarks:Et,IsAbsent:ne.Is_Absent}})(m,g,$)}if(ve===fe-1&&m.IsTotalConsiderForProgressReport.toLowerCase()==="true"&&D.push(Le),S[H].Parent_Subject_Id!=="0"&&((yt=S[H+1])==null?void 0:yt.Parent_Subject_Id)==="0"&&ve===M.length-1&&(x.data.ListTestTypeIdDetails.map(ye=>{D.push({MarksScored:Wt(x.data.Listtestid2Details,S[H].Parent_Subject_Id,ye.TestType_Id,o.Test_Id),TotalMarks:$t(x.data.Listtestid2Details,S[H].Parent_Subject_Id,ye.TestType_Id,o.Test_Id),IsAbsent:"N"})}),m.IsTotalConsiderForProgressReport.toLowerCase()==="true")){let ye=!1;x.data.listTestidDetails.map(He=>{He.Test_Id===o.Test_Id&&!ye&&(D.push({MarksScored:`${parseFloat(He.Total_Marks_Scored)}`,TotalMarks:`${He.ChildSubject_Marks_Total}`,IsAbsent:"N"}),ye=!0)})}}),F===0&&(q>1&&ge.push({TestTypeName:"Total"}),Ue.push({SubjectName:g.Subject_Name,colSpan:q>1?q+1:q,ParentSubjectId:g.Parent_Subject_Id,ParentSubjectName:pt(Te,g,o.Test_Id).parent})),g.Is_CoCurricularActivity==="True"){let we=function($){var Me,$e;let Ie=($e=(Me=x==null?void 0:x.data)==null?void 0:Me.ListSubjectidDetails)==null?void 0:$e.filter(Ee=>Ee.Subject_Id===$);return!((Ie==null?void 0:Ie.length)>0)},ve=x.data.listSubjectIdDetails.filter($=>$.Original_SchoolWise_Test_Id===o.Original_SchoolWise_Test_Id&&$.Is_CoCurricularActivity.toLowerCase()==="true"&&$.Subject_Id===g.Subject_Id);(((jt=(Ye=x.data)==null?void 0:Ye.listStudentsDetails[0])==null?void 0:jt.ShowOnlyGrades.trim())==="true"||!((Tt=(Ot=x.data)==null?void 0:Ot.listStudentsDetails[0])!=null&&Tt.ShowOnlyGrades))&&we(g.Subject_Id)&&D.push({MarksScored:ve.length>0?`${ve[0].Marks}`:"-",TotalMarks:"-",IsAbsent:"N"})}});const G=(oe=x.data.Listtestid2Details.find(g=>g.Test_Id))==null?void 0:oe.Test_Id,k=x.data.listTestDetails.find(g=>Number(g.Test_Id)===Number(G)),se=(re=x.data.Listtestid2Details.find(g=>g.TestType_Id))==null?void 0:re.TestType_Id,be=x.data.ListTestTypeIdDetails.find(g=>Number(g.TestType_Id)===Number(se));k&&be&&ge.push({TestTypeName:be.ShortenTestType_Name}),m.IsTotalConsiderForProgressReport.toLowerCase()==="true"&&x.data.ListSchoolWiseTestNameDetail.map(g=>{var H,q;if(g.SchoolWise_Test_Id===o.Test_Id){const M=x.data.ListMarkssDetails.find(ae=>ae.Marks_Grades_Configuration_Detail_ID===g.Grade_id);((q=(H=x.data)==null?void 0:H.listStudentsDetails[0])==null?void 0:q.ShowOnlyGrades.trim())!=="true"&&(D.push({MarksScored:g.FailCount!==""?`${parseFloat(g.Total_Marks_Scored)}`:"",TotalMarks:g.Subjects_Total_Marks,IsAbsent:"N",IsGrades:"Y"}),D.push({MarksScored:g.FailCount!==""?`${parseFloat(g.Percentage).toFixed(2)}%`:"-",TotalMarks:"-",IsAbsent:"N",IsGrades:"Y"})),D.push({MarksScored:g.FailCount!==""?`${g.Grade_Name} [${M==null?void 0:M.Remarks}]`:"-",TotalMarks:"-",IsAbsent:"N",IsGrades:"Y"})}}),x.data.ListSchoolWiseTestNameDetail.map(g=>{var H,q,M,ae,fe,_e,Le;x.data.ListTestTypeIdDetails.length,g.SchoolWise_Test_Id==o.Test_Id&&(x.data.ListMarkssDetails.find(Ye=>Ye.Marks_Grades_Configuration_Detail_ID===g.Grade_id),u==="N"&&m.IsTotalConsiderForProgressReport.toLowerCase()==="true"&&D.push({MarksScored:((q=(H=g==null?void 0:g.Result)==null?void 0:H.toString())==null?void 0:q.trim())||"",TotalMarks:"-",IsAbsent:"N",IsGrades:"Y",Result:(ae=(M=g==null?void 0:g.Result)==null?void 0:M.toString())==null?void 0:ae.trim(),Rank:g.rank}),b!=="0"&&m.IsTotalConsiderForProgressReport.toLowerCase()==="true"&&D.push({MarksScored:(fe=g==null?void 0:g.rank)!=null&&fe.trim().includes("999")?"-":g.rank.trim(),TotalMarks:"-",IsAbsent:"N",IsGrades:"Y",Result:(Le=(_e=g==null?void 0:g.Result)==null?void 0:_e.toString())==null?void 0:Le.trim(),Rank:g.rank}))}),X.push({TestName:o.Test_Name,MarksArr:D})}),m.IsTotalConsiderForProgressReport.toLowerCase()==="true"&&(ge.push({TestTypeName:"Total"}),ge.push({TestTypeName:"Total"}),ge.push({TestTypeName:"%"}),ge.push({TestTypeName:"Grade"}));let Je=[],St=[],qe=[];x.data.listTestDetails.filter(o=>Number(o.Test_Id)!==-1).map((o,F)=>{let D=[];x.data.listSubjectsDetails.map(S=>{let G=0,k=x.data.ListSubjectidDetails.filter(H=>H.Subject_Id===S.Subject_Id),se=k.length,be="",oe=null;k.map((H,q)=>{G+=1;let M=Ke(o.Original_SchoolWise_Test_Id,S.Subject_Id,H.TestType_Id);se!==1&&D.push({MarksScored:M?`${ke(M)}`:"-",TotalMarks:M?M.Is_Absent==="N"?parseFloat(M.TotalGrade):"":"-",IsAbsent:M?M.Is_Absent:"N"}),F===0&&qe.push({TestTypeName:m.IsTotalConsiderForProgressReport.toLowerCase()==="true"&&se===1?"Total":H.ShortenTestType_Name}),M&&be!==S.Subject_Id+"--"+o.Test_Id&&(be=S.Subject_Id+"--"+o.Test_Id,oe={MarksScored:m.IsTotalConsiderForProgressReport.toLowerCase()==="true"&&se===1?`${M.Grade}`:`${M.TotalGrade}`,TotalMarks:m.IsTotalConsiderForProgressReport.toLowerCase()==="true"&&se===1?M.Grade:"-",IsAbsent:M?M.Is_Absent:"N"}),se===1&&D.push(oe)});let re=Ke(o.Original_SchoolWise_Test_Id,S.Subject_Id,"");function g(H){var M,ae;let q=(ae=(M=x.data)==null?void 0:M.ListSubjectidDetails)==null?void 0:ae.filter(fe=>fe.Subject_Id===H);return!((q==null?void 0:q.length)>0)}g(S.Subject_Id)&&D.push({MarksScored:re?`${ke(re)}`:"-",TotalMarks:re?re.Is_Absent==="N"?parseFloat(re.TotalGrade):"":"-",IsAbsent:re?re.Is_Absent:"N"}),F===0&&(G>1&&m.IsTotalConsiderForProgressReport.toLowerCase()==="true"&&(D.push(oe),qe.push({TestTypeName:"Total"})),St.push({SubjectName:S.Subject_Name,colSpan:G>1?G+(m.IsTotalConsiderForProgressReport.toLowerCase()==="true"?1:0):G,ParentSubjectId:S.Parent_Subject_Id,ParentSubjectName:pt(Te,S,o.Test_Id).parent,Is_CoCurricularActivity:S.Is_CoCurricularActivity}))}),m.IsTotalConsiderForProgressReport.toLowerCase()==="true"&&x.data.ListSchoolWiseTestNameDetail.map(S=>{if(S.SchoolWise_Test_Id===o.Test_Id){const G=x.data.ListMarkssDetails.find(k=>k.Marks_Grades_Configuration_Detail_ID===S.Grade_id);D.push({MarksScored:`${S.Grade_Name} [${G==null?void 0:G.Remarks}]`,TotalMarks:"-",IsAbsent:"N"})}}),x.data.ListSchoolWiseTestNameDetail.map(S=>{var G,k,se,be,oe,re,g;x.data.ListTestTypeIdDetails.length,S.SchoolWise_Test_Id==o.Test_Id&&(x.data.ListMarkssDetails.find(H=>H.Marks_Grades_Configuration_Detail_ID===S.Grade_id),u==="N"&&m.IsTotalConsiderForProgressReport.toLowerCase()==="true"&&D.push({MarksScored:((k=(G=S==null?void 0:S.Result)==null?void 0:G.toString())==null?void 0:k.trim())||"",TotalMarks:"-",IsAbsent:"N",IsGrades:"Y",Result:(be=(se=S==null?void 0:S.Result)==null?void 0:se.toString())==null?void 0:be.trim(),Rank:S.rank}),b!=="0"&&m.IsTotalConsiderForProgressReport.toLowerCase()==="true"&&D.push({MarksScored:(oe=S==null?void 0:S.rank)!=null&&oe.trim().includes("999")?"-":S.rank.trim(),TotalMarks:"-",IsAbsent:"N",IsGrades:"Y",Result:(g=(re=S==null?void 0:S.Result)==null?void 0:re.toString())==null?void 0:g.trim(),Rank:S.rank}))}),Je.push({TestName:o.Test_Name,MarksArr:D})});let ut=[];x.data.listTestDetails.filter(o=>Number(o.Test_Id)!==-1).map(o=>{let F=[];if(x.data.listSubjectsDetails.map(D=>{let S=x.data.listSubjectIdDetails.filter(G=>G.Subject_Id===D.Subject_Id&&G.Original_SchoolWise_Test_Id===o.Original_SchoolWise_Test_Id);F.push({SchoolWise_Test_Name:S.length>0?S[0].SchoolWise_Test_Name:"-",Grade:S.length>0?S[0].Grade:"-"})}),m.IsTotalConsiderForProgressReport.toLowerCase()==="true"){let D=x.data.ListSchoolWiseTestNameDetail.filter(S=>S.SchoolWise_Test_Id===o.Test_Id);F.push({SchoolWise_Test_Name:"-",Grade:D.length>0?D[0].Grade_Name:"-"})}ut.push({Test_Id:o.Test_Id,Test_Name:o.Test_Name,subjectIdArr:F})});let Qe=[],w=x.data.listSubjectIdDetails.map(o=>({Marks_Scored:o.Marks_Scored,Grade:o.Grade})),Ze=x.data.ListSubjectidDetails,gt=x.data.ListSchoolWiseTestNameDetail.map(o=>({Total:`${parseFloat(o.Total_Marks_Scored)} / ${o.Subjects_Total_Marks}`,Percentage:o.Percentage,Grade_Name:o.Grade_Name,SchoolWise_Test_Id:o.SchoolWise_Test_Id,Grade_id:o.Grade_id})),Oe=x.data.listTestidDetails.map(o=>({Id:o.OutOfMarks,Text1:o.Parent_Subject_Name})),et=x.data.ListSubjectidDetails.map(o=>({Subject_Id:o.Subject_Id,ShortenTestType_Name:o.ShortenTestType_Name}));m.IsTotalConsiderForProgressReport.toLowerCase()==="true"&&et.push({Subject_Id:"-1",ShortenTestType_Name:"Grade"});let _t=x.data.ListTestTypeIdDetails.map(o=>({Id:o.TestType_Name,Text1:o.TestTypeSort_Order,Text2:o.ShortenTestType_Name})),bt=x.data.ListMarkssDetails.map(o=>({Text1:"",Text2:o.Grade_Name,Remarks:o.Remarks,IsForCoCurricularSubjects:o.IsForCoCurricularSubjects,Marks_Grades_Configuration_Detail_ID:o.Marks_Grades_Configuration_Detail_ID})),tt=x.data.ListDisplayNameDetails.map(o=>({Id:o.DisplayValue,Text1:o.DisplayName})),kt=[];t(Ue),I(ge),L(X),R(St),E(qe),te(Je),J(ut),xe(Qe),Ne(Ge),T(Te),y(kt),Ae(w),dt(gt),qt(Oe),Pe(et),ct(_t),Rt(bt),Pt(tt),Gt(Ze),z(!0)};return e.jsx(e.Fragment,{children:Ft&&((ht=(We=(Q=C==null?void 0:C.listStudentsDetails)==null?void 0:Q[0])==null?void 0:We.ShowOnlyGrades)==null?void 0:ht.trim())==="true"?e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsxs(V,{sx:{mt:1,background:"white"},children:[e.jsx("hr",{}),he.map((m,x)=>e.jsxs("div",{children:[e.jsx(h,{variant:"h4",textAlign:"center",color:"primary",mb:1,children:m.School_Orgn_Name}),e.jsx("hr",{}),e.jsx(h,{variant:"h3",textAlign:"center",color:"black",mb:1,children:m.School_Name}),e.jsx("hr",{}),e.jsx(h,{variant:"h4",textAlign:"center",color:"black",mb:1,children:"Progress Report"})]},x)),e.jsx(de,{children:e.jsx(ce,{children:he.map((m,x)=>e.jsxs(O,{sx:{bgcolor:"#38548A"},children:[e.jsxs(l,{sx:{textAlign:"center",color:"white"},children:[e.jsx("b",{children:"Roll No : "}),m.Roll_No," "]}),e.jsxs(l,{sx:{textAlign:"center",color:"white"},children:[e.jsx("b",{children:"Name : "})," ",m.Student_Name,"	"]}),e.jsxs(l,{sx:{textAlign:"center",color:"white"},children:[e.jsx("b",{children:"Class : "})," ",m.Standard_Name," - ",m.Division_Name,"	"]}),e.jsxs(l,{sx:{textAlign:"center",color:"white"},children:[e.jsx("b",{children:"Year : "})," ",m.Academic_Year,"	"]})]},x))})})]}),xt&&e.jsx(h,{sx:{bgcolor:"white",p:2},dangerouslySetInnerHTML:{__html:Y}}),e.jsx(V,{sx:{overflowX:"auto"},children:e.jsx(Ts,{progressReportMessage:N,USlistStudentsDetails:P,isFailCriteria:u,totalCount:b,EntireDataList:C,IsTotalConsiderForProgressReport:j,HeaderArray1:a,SubHeaderArray1:A,MarkDetailsList1:j.toLowerCase()==="true"?p:K})})]}):e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsxs(V,{sx:{mt:1,background:"white"},children:[e.jsx("hr",{}),he.map((m,x)=>e.jsxs("div",{children:[e.jsx(h,{variant:"h4",textAlign:"center",color:"primary",mb:1,children:m.School_Orgn_Name}),e.jsx("hr",{}),e.jsx(h,{variant:"h3",textAlign:"center",color:"black",mb:1,children:m.School_Name}),e.jsx("hr",{}),e.jsx(h,{variant:"h4",textAlign:"center",color:"black",mb:1,children:"Progress Report"})]},x)),e.jsx(de,{children:e.jsx(ce,{children:he.map(m=>e.jsxs(O,{sx:{bgcolor:"#38548A"},children:[e.jsxs(l,{sx:{textAlign:"center",color:"white"},children:[e.jsx("b",{children:"Roll No : "}),m.Roll_No," "]}),e.jsxs(l,{sx:{textAlign:"center",color:"white"},children:[e.jsx("b",{children:"Name : "})," ",m.Student_Name,"	"]}),e.jsxs(l,{sx:{textAlign:"center",color:"white"},children:[e.jsx("b",{children:"Class : "})," ",m.Standard_Name," - ",m.Division_Name,"	"]}),e.jsxs(l,{sx:{textAlign:"center",color:"white"},children:[e.jsx("b",{children:"Year : "})," ",m.Academic_Year,"	"]})]}))})})]}),xt&&e.jsx(h,{sx:{bgcolor:"white",p:2},dangerouslySetInnerHTML:{__html:Y}}),e.jsx(V,{sx:{overflowX:"auto"},children:e.jsx(fs,{USlistStudentsDetails:P,progressReportMessage:N,isFailCriteria:u,totalCount:b,HeaderArray:r,SubHeaderArray:n,MarkDetailsList:p,ListDisplayNameDetails:pe,IsTotalConsiderForProgressReport:j,USListSchoolWiseTestNameDetail:me,USListMarkssDetails:Xe,ListTestTypeIdDetails:ue,ThirdHeaderRow:je,EntireDataList:C})})]})})},Ar=(u,b)=>{const j=u.find(C=>C.Subject_Id[0]===b);return j?j.Is_CoCurricularActivity:null};function mr(u,b){var C,v,B,f,N,P,Y,ee,le,r;return{ListDisplayNameDetails:b??[],ListMarkssDetails:(C=u.grades??[])==null?void 0:C.map(t=>{var n;return{Marks_Grades_Configuration_Detail_ID:(n=t==null?void 0:t.Marks_Grades_Configuration_Detail_ID)==null?void 0:n.toString(),Grade_Name:t==null?void 0:t.Grade_Name,Remarks:t==null?void 0:t.Remarks,IsForCoCurricularSubjects:(t==null?void 0:t.IsForCoCurricularSubjects)===0?"False":"True"}}),ListSchoolWiseTestNameDetail:(v=u.Result??[])==null?void 0:v.map(t=>{var n,I,p,L,a,R;return{SchoolWise_Test_Id:(n=t==null?void 0:t.SchoolWise_Test_Id)==null?void 0:n.toString(),Total_Marks_Scored:(I=t==null?void 0:t.Total_Marks_Scored)==null?void 0:I.toString(),Subjects_Total_Marks:(p=t==null?void 0:t.Subjects_Total_Marks)==null?void 0:p.toString(),Percentage:(L=t==null?void 0:t.Percentage)==null?void 0:L.toString(),Grade_Name:t==null?void 0:t.Grade_Name,Grade_id:(a=t==null?void 0:t.Grade_id)==null?void 0:a.toString(),FailCount:(t==null?void 0:t.FailCount)===void 0?"":t==null?void 0:t.FailCount.toString(),Result:t==null?void 0:t.Result,rank:(R=t==null?void 0:t.rank)==null?void 0:R.toString()}}),ListSubjectidDetails:(B=u.SubjectTestType??[])==null?void 0:B.map(t=>{var n,I,p,L;return{Subject_Id:(n=t==null?void 0:t.Subject_Id)==null?void 0:n.toString(),TestType_Id:(I=t==null?void 0:t.TestType_Id)==null?void 0:I.toString(),ShortenTestType_Name:t==null?void 0:t.ShortenTestType_Name,Total_Marks_Scored:(p=t==null?void 0:t.Total_Marks_Scored)==null?void 0:p.toString(),TestTypeSort_Order:(L=t==null?void 0:t.TestTypeSort_Order)==null?void 0:L.toString()}}),ListTestTypeIdDetails:(f=u.TestTypes??[])==null?void 0:f.map(t=>{var n,I;return{TestType_Id:(n=t==null?void 0:t.TestType_Id)==null?void 0:n.toString(),TestType_Name:t==null?void 0:t.TestType_Name,ShortenTestType_Name:t==null?void 0:t.ShortenTestType_Name,TestTypeSort_Order:(I=t==null?void 0:t.TestTypeSort_Order)==null?void 0:I.toString()}}),Listtestid2Details:(N=u.SubjectTestTypeGroupTotal??[])==null?void 0:N.map(t=>{var n,I,p,L,a,R;return{Test_Id:(n=t==null?void 0:t.Test_Id)==null?void 0:n.toString(),TestType_Id:(I=t==null?void 0:t.TestType_Id)==null?void 0:I.toString(),TestTypeSort_Order:(p=t==null?void 0:t.TestTypeSort_Order)==null?void 0:p.toString(),Parent_Subject_Id:(L=t==null?void 0:t.Parent_Subject_Id)==null?void 0:L.toString(),TestType_Total_Marks_Scored:(a=t==null?void 0:t.TestType_Total_Marks_Scored)==null?void 0:a.toString(),TestType_Total_Marks:(R=t==null?void 0:t.TestType_Total_Marks)==null?void 0:R.toString(),Grade:t==null?void 0:t.Grade}}),listStudentsDetails:(P=u.Header??[])==null?void 0:P.map(t=>{var n,I,p,L,a,R,A,E;return{YearWise_Student_Id:(n=t==null?void 0:t.YearWise_Student_Id)==null?void 0:n.toString(),Student_Name:t==null?void 0:t.Student_Name,Standard_Name:(I=t==null?void 0:t.Standard_Name)==null?void 0:I.toString(),Division_Name:t==null?void 0:t.Division_Name,Academic_Year:t==null?void 0:t.Academic_Year,Standard_Division_Id:(p=t==null?void 0:t.Standard_Division_Id)==null?void 0:p.toString(),Roll_No:(L=t==null?void 0:t.Roll_No)==null?void 0:L.toString(),Enrolment_Number:(a=t==null?void 0:t.Enrolment_Number)==null?void 0:a.toString(),Standard_Id:(R=t==null?void 0:t.Standard_Id)==null?void 0:R.toString(),School_Name:t==null?void 0:t.School_Name,School_Orgn_Name:t==null?void 0:t.School_Orgn_Name,ShowOnlyGrades:(A=t==null?void 0:t.ShowOnlyGrades)==null?void 0:A.toString(),IsFailCriteriaNotApplicable:t==null?void 0:t.IsFailCriteriaNotApplicable,IsPreprimaryStandard:(E=t==null?void 0:t.IsPreprimaryStandard)==null?void 0:E.toString()}}),listSubjectIdDetails:(Y=u.Marks??{})==null?void 0:Y.map(t=>{var n,I,p,L,a,R,A,E,K,te,ie,J,Re,xe,he,Ne;return{Subject_Id:Array.isArray(t==null?void 0:t.Subject_Id)?(n=t==null?void 0:t.Subject_Id[0])==null?void 0:n.toString():(I=t==null?void 0:t.Subject_Id)==null?void 0:I.toString(),Marks:(p=t==null?void 0:t.Marks)==null?void 0:p.toString(),SchoolWise_Test_Id:(L=t==null?void 0:t.SchoolWise_Test_Id)==null?void 0:L.toString(),Original_SchoolWise_Test_Id:(a=t==null?void 0:t.Original_SchoolWise_Test_Id)==null?void 0:a.toString(),SchoolWise_Test_Name:t==null?void 0:t.SchoolWise_Test_Name,Subject_Name:Array.isArray(t==null?void 0:t.Subject_Name)?t==null?void 0:t.Subject_Name[0]:t==null?void 0:t.Subject_Name,Total_Marks_Scored:(R=t==null?void 0:t.Total_Marks_Scored)==null?void 0:R.toString(),Subject_Total_Marks:(A=t==null?void 0:t.Subject_Total_Marks)==null?void 0:A.toString(),Passing_Total_Marks:(E=t==null?void 0:t.Passing_Total_Marks)==null?void 0:E.toString(),Subject_Total:t==null?void 0:t.Subject_Total,Grade_Or_Marks:t==null?void 0:t.Grade_Or_Marks,TestType_Id:(K=t==null?void 0:t.TestType_Id)==null?void 0:K.toString(),Marks_Scored:(te=t==null?void 0:t.Marks_Scored)==null?void 0:te.toString(),TestType_Name:t==null?void 0:t.TestType_Name,ShortenTestType_Name:t==null?void 0:t.ShortenTestType_Name,Grade:(t==null?void 0:t.Grade)??"",TotalGrade:(t==null?void 0:t.TotalGrade)??"",TestType_Total_Marks:(ie=t==null?void 0:t.TestType_Total_Marks)==null?void 0:ie.toString(),TestType_Passing_Marks:(J=t==null?void 0:t.TestType_Passing_Marks)==null?void 0:J.toString(),Is_Absent:t==null?void 0:t.Is_Absent,SchoolWise_Student_Test_Marks_Id:(Re=t==null?void 0:t.SchoolWise_Student_Test_Marks_Id)==null?void 0:Re.toString(),TestWise_Subject_Marks_Id:(xe=t==null?void 0:t.TestWise_Subject_Marks_Id)==null?void 0:xe.toString(),ConsiderExamStatus:t==null?void 0:t.ConsiderExamStatus,ConsiderInResult:t==null?void 0:t.ConsiderInResult,ShowOnlyGrades:((he=t==null?void 0:t.ShowOnlyGrades)==null?void 0:he[0])===0?"False":"True",AllowDecimal:(Ne=t==null?void 0:t.AllowDecimal)==null?void 0:Ne.toString(),Is_CoCurricularActivity:(t==null?void 0:t.Is_CoCurricularActivity)===0?"False":"True"}}),listSubjectsDetails:(ee=u.Subjects??[])==null?void 0:ee.map(t=>{var n,I,p,L;return{ID_Num:(n=t==null?void 0:t.ID_Num)==null?void 0:n.toString(),Subject_Name:t==null?void 0:t.Subject_Name,Subject_Id:(I=t==null?void 0:t.Subject_Id)==null?void 0:I.toString(),Parent_Subject_Id:(p=t==null?void 0:t.Parent_Subject_Id)==null?void 0:p.toString(),Total_Consideration:t==null?void 0:t.Total_Consideration,Is_CoCurricularActivity:Ar(u.Marks,t==null?void 0:t.Subject_Id)===1?"True":"False",Sort_Order:(L=t==null?void 0:t.Sort_Order)==null?void 0:L.toString()}}),listTestDetails:(le=u.Tests??[])==null?void 0:le.map(t=>{var n,I;return{Test_Name:t==null?void 0:t.Test_Name,Test_Id:(n=t==null?void 0:t.Test_Id)==null?void 0:n.toString(),Original_SchoolWise_Test_Id:(I=t==null?void 0:t.Original_SchoolWise_Test_Id)==null?void 0:I.toString()}}),listTestidDetails:(r=u.SubjectgroupTotal??[])==null?void 0:r.map(t=>{var n,I,p,L,a,R;return{Test_Id:(n=t==null?void 0:t.Test_Id)==null?void 0:n.toString(),Parent_Subject_Id:(I=t==null?void 0:t.Parent_Subject_Id)==null?void 0:I.toString(),Parent_Subject_Name:t==null?void 0:t.Parent_Subject_Name,Total_Marks_Scored:(p=t==null?void 0:t.Total_Marks_Scored)==null?void 0:p.toString(),ChildSubject_Marks_Total:(L=t==null?void 0:t.ChildSubject_Marks_Total)==null?void 0:L.toString(),Grade:(t==null?void 0:t.Grade)??"",AverageMarks:(a=t==null?void 0:t.AverageMarks)==null?void 0:a.toString(),OutOfMarks:(R=t==null?void 0:t.OutOfMarks)==null?void 0:R.toString()}})}}const wr=({IsView:u,ViewProgress:b,totalconsidration:j,SubjectDetailsView:C,IsTotalConsiderForProgressReport:v,showOnlyGrades:B,ToppersCount:f,hasTopRanks:N,PercentageDetails:P,TotalPerGradeView:Y,GradesDetailsView:ee,MarkDetailsView:le})=>e.jsx("div",{children:u==!0?e.jsx(V,{sx:{mt:2,background:"white",border:r=>`1px solid ${r.palette.grey[400]}`},children:e.jsxs(V,{children:[e.jsx("hr",{}),b.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(h,{variant:"h4",textAlign:"center",color:"primary",mb:1,children:b[0].Text7}),e.jsx("hr",{}),e.jsx(h,{variant:"h3",textAlign:"center",color:"black",mb:1,children:b[0].Text6}),e.jsx("hr",{}),e.jsx(h,{variant:"h4",textAlign:"center",color:"black",pb:1,children:"Final Result"})]}),e.jsx(de,{children:e.jsx(ce,{children:b.map((r,t)=>e.jsxs(O,{sx:{bgcolor:"#38548A"},children:[e.jsxs(l,{sx:{textAlign:"center",color:"white",py:1.5},children:["Roll No : ",e.jsx("b",{children:r.Text2})]}),e.jsxs(l,{sx:{textAlign:"center",color:"white",py:1.5},children:["Name : ",e.jsx("b",{children:r.Text1})]}),e.jsxs(l,{sx:{textAlign:"center",color:"white",py:1.5},children:["Class : ",e.jsxs("b",{children:[r.Text3," - ",r.Text4]})]}),e.jsxs(l,{sx:{textAlign:"center",color:"white",py:1.5},children:["Year : ",e.jsx("b",{children:r.Text5})]})]},t))})}),e.jsx(de,{children:e.jsx(ce,{children:j.length>0&&e.jsx(e.Fragment,{children:e.jsx(O,{sx:{bgcolor:"white",p:2},children:e.jsxs(l,{sx:{pl:10,py:1},children:[e.jsx("b",{children:" Legend : "})," ",e.jsx("span",{style:{color:"red"},children:"*"}),"   Subject marks not considered in total marks. "]})})})})}),e.jsx(V,{sx:{overflowX:"auto",border:r=>`1px solid ${r.palette.grey[400]}`},children:e.jsx(de,{sx:{},children:e.jsxs(ce,{children:[e.jsxs(O,{sx:{bgcolor:"#F0F0F0"},children:[e.jsx(l,{sx:{py:1,border:r=>`1px solid ${r.palette.grey[400]}`},children:e.jsx(h,{variant:"h4",textAlign:"center",color:"black",ml:2,children:"Subjects"})}),C.map((r,t)=>e.jsxs(l,{sx:{py:1,textAlign:"center",border:n=>`1px solid ${n.palette.grey[400]}`},children:[e.jsxs("b",{children:[r.Name,"  "]}),r.Total_Consideration==="N"&&e.jsx("span",{style:{color:"red"},children:"*"})]},r.Subject_Id)),v==="True"&&!B&&e.jsxs(e.Fragment,{children:[e.jsx(l,{sx:{py:1,border:r=>`1px solid ${r.palette.grey[400]}`,fontWeight:"bold",textAlign:"center"},children:"Total"}),e.jsx(l,{sx:{py:1,border:r=>`1px solid ${r.palette.grey[400]}`,fontWeight:"bold",textAlign:"center"},children:"%"})]}),v==="True"&&e.jsx(l,{sx:{py:1,border:r=>`1px solid ${r.palette.grey[400]}`,fontWeight:"bold",textAlign:"center"},children:"Grade"}),f===3&&N&&e.jsx(l,{sx:{py:1,border:r=>`1px solid ${r.palette.grey[400]}`,fontWeight:"bold",textAlign:"center"},children:"Rank"}),b.some(r=>r.IsFailCriteriaNotApplicable==="N")&&e.jsx(l,{sx:{py:1,border:r=>`1px solid ${r.palette.grey[400]}`,fontWeight:"bold",textAlign:"center"},children:"Result"})]}),e.jsxs(O,{children:[ee.map((r,t)=>e.jsxs(l,{sx:{py:1,border:n=>`1px solid ${n.palette.grey[300]}`,textAlign:"center"},children:[" ",r.IsAbsent==="1"?"-":r.Name]},t)),!B&&v==="True"&&e.jsxs(e.Fragment,{children:[e.jsx(l,{sx:{py:1,border:r=>`1px solid ${r.palette.grey[300]}`,fontWeight:"bold",textAlign:"center"},children:"-"}),e.jsx(l,{sx:{py:1,border:r=>`1px solid ${r.palette.grey[300]}`,fontWeight:"bold",textAlign:"center"},children:"-"}),e.jsx(l,{sx:{py:1,border:r=>`1px solid ${r.palette.grey[300]}`,fontWeight:"bold",textAlign:"center"},children:"-"}),b.some(r=>r.IsFailCriteriaNotApplicable==="N")&&Y.map((r,t)=>t===0?e.jsx(l,{sx:{py:1,border:n=>`1px solid ${n.palette.grey[300]}`,fontWeight:"bold",textAlign:"center"},children:"-"}):null)]}),B&&v==="True"&&e.jsxs(e.Fragment,{children:[Y.map((r,t)=>{var n;if(t===0){const I=((n=P.find(p=>p.GradeConfId===r.Grade_id))==null?void 0:n.Remarks)||"";return e.jsx(l,{sx:{py:1,border:p=>`1px solid ${p.palette.grey[300]}`,textAlign:"center"},children:e.jsxs(h,{variant:"body2",children:[e.jsx(h,{component:"span",fontWeight:"bold",children:r.GradeName}),I&&` (${I})`]})})}return null}),b.some(r=>r.IsFailCriteriaNotApplicable==="N")&&Y.map((r,t)=>t===0?e.jsx(l,{sx:{py:1,border:n=>`1px solid ${n.palette.grey[300]}`,textAlign:"center",fontWeight:"bold",color:`${r.Result.trim()=="Pass"?"green":r.Result.trim()=="Fail"?"red":"inherit"}`},children:r.Result.trim()?r.Result.trim():"-"},t):null)]})]})]})})})]})}):e.jsx(V,{sx:{mt:2,background:"white",border:r=>`1px solid ${r.palette.grey[400]}`},children:e.jsxs(V,{children:[e.jsx("hr",{}),b.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(h,{variant:"h4",textAlign:"center",color:"primary",mb:1,children:b[0].Text7}),e.jsx("hr",{}),e.jsx(h,{variant:"h3",textAlign:"center",color:"black",mb:1,children:b[0].Text6}),e.jsx("hr",{}),e.jsx(h,{variant:"h4",textAlign:"center",color:"black",pb:1,children:"Final Result"})]}),e.jsx(de,{children:e.jsx(ce,{children:b.map((r,t)=>e.jsxs(O,{sx:{bgcolor:"#38548A"},children:[e.jsxs(l,{sx:{textAlign:"center",color:"white",py:1.5},children:["Roll No : ",e.jsx("b",{children:r.Text2})]}),e.jsxs(l,{sx:{textAlign:"center",color:"white",py:1.5},children:["Name : ",e.jsx("b",{children:r.Text1})]}),e.jsxs(l,{sx:{textAlign:"center",color:"white",py:1.5},children:["Class : ",e.jsxs("b",{children:[r.Text3," - ",r.Text4]})]}),e.jsxs(l,{sx:{textAlign:"center",color:"white",py:1.5},children:["Year : ",e.jsx("b",{children:r.Text5})]})]},t))})}),e.jsx(de,{children:e.jsx(ce,{children:j.length>0&&e.jsx(e.Fragment,{children:e.jsx(O,{sx:{bgcolor:"white",p:2},children:e.jsxs(l,{sx:{pl:10,py:1},children:[e.jsx("b",{children:" Legend : "})," ",e.jsx("span",{style:{color:"red"},children:"*"}),"   Subject marks not considered in total marks. "]})})})})}),e.jsx(V,{sx:{overflowX:"auto",border:r=>`1px solid ${r.palette.grey[400]}`},children:e.jsx(de,{sx:{},children:e.jsxs(ce,{children:[e.jsxs(O,{sx:{bgcolor:"#F0F0F0"},children:[e.jsx(l,{sx:{py:1,border:r=>`1px solid ${r.palette.grey[400]}`},children:e.jsx(h,{variant:"h4",textAlign:"center",color:"black",ml:2,children:"Subjects"})}),C.map((r,t)=>e.jsxs(l,{sx:{py:1,textAlign:"center",border:n=>`1px solid ${n.palette.grey[400]}`},children:[e.jsxs("b",{children:[r.Name,"  "]}),r.Total_Consideration==="N"&&e.jsx("span",{style:{color:"red"},children:"*"})]},r.Subject_Id)),v==="True"&&!B&&e.jsxs(e.Fragment,{children:[e.jsx(l,{sx:{py:1,border:r=>`1px solid ${r.palette.grey[400]}`,fontWeight:"bold",textAlign:"center"},children:"Total"}),e.jsx(l,{sx:{py:1,border:r=>`1px solid ${r.palette.grey[400]}`,fontWeight:"bold",textAlign:"center"},children:"%"})]}),v==="True"&&e.jsx(l,{sx:{py:1,border:r=>`1px solid ${r.palette.grey[400]}`,fontWeight:"bold",textAlign:"center"},children:"Grade"}),f===3&&N&&e.jsx(l,{sx:{py:1,border:r=>`1px solid ${r.palette.grey[400]}`,fontWeight:"bold",textAlign:"center"},children:"Rank"}),b.some(r=>r.IsFailCriteriaNotApplicable==="N")&&e.jsx(l,{sx:{py:1,border:r=>`1px solid ${r.palette.grey[400]}`,fontWeight:"bold",textAlign:"center"},children:"Result"})]}),e.jsx(O,{children:e.jsxs(e.Fragment,{children:[e.jsxs(e.Fragment,{children:[le.map((r,t)=>e.jsx(l,{sx:{py:1,border:n=>`1px solid ${n.palette.grey[300]}`,textAlign:"center"},children:r!=null&&r.Name?r.IsAbsent==="1"?"-":r.Name:"-"},t)),B&&e.jsx(l,{sx:{py:1,border:r=>`1px solid ${r.palette.grey[300]}`,textAlign:"center"},children:"-"})]}),!B&&v==="True"&&Y.map((r,t)=>{var n;if(t===0){const I=((n=P==null?void 0:P.find(p=>p.GradeConfId===r.Grade_id))==null?void 0:n.Remarks)||"";return e.jsxs(e.Fragment,{children:[e.jsx(l,{sx:{py:1,border:p=>`1px solid ${p.palette.grey[300]}`,textAlign:"center",fontWeight:"bold"},children:r.TotalMarks}),e.jsxs(l,{sx:{py:1,border:p=>`1px solid ${p.palette.grey[300]}`,textAlign:"center",fontWeight:"bold"},children:[r.Percentage,"%"]}),e.jsx(l,{sx:{py:1,border:p=>`1px solid ${p.palette.grey[300]}`,textAlign:"center"},children:e.jsxs(h,{variant:"body2",children:[e.jsx(h,{component:"span",fontWeight:"bold",children:r.GradeName}),I&&` (${I})`]})})]})}return null}),b.some(r=>r.IsFailCriteriaNotApplicable==="N")&&Y.map((r,t)=>t===0?e.jsx(l,{sx:{py:1,border:n=>`1px solid ${n.palette.grey[300]}`,textAlign:"center",fontWeight:"bold",color:`${r.Result.trim()=="Pass"?"green":r.Result.trim()=="Fail"?"red":"inherit"}`},children:r.Result.trim()?r.Result.trim():"-"},t):null)]})}),e.jsxs(O,{children:[ee.map((r,t)=>e.jsxs(l,{sx:{py:1,border:n=>`1px solid ${n.palette.grey[300]}`,textAlign:"center"},children:[" ",r.IsAbsent==="1"?"-":r.Name]},t)),!B&&v==="True"&&e.jsxs(e.Fragment,{children:[e.jsx(l,{sx:{py:1,border:r=>`1px solid ${r.palette.grey[300]}`,fontWeight:"bold",textAlign:"center"},children:"-"}),e.jsx(l,{sx:{py:1,border:r=>`1px solid ${r.palette.grey[300]}`,fontWeight:"bold",textAlign:"center"},children:"-"}),e.jsx(l,{sx:{py:1,border:r=>`1px solid ${r.palette.grey[300]}`,fontWeight:"bold",textAlign:"center"},children:"-"}),b.some(r=>r.IsFailCriteriaNotApplicable==="N")&&Y.map((r,t)=>t===0?e.jsx(l,{sx:{py:1,border:n=>`1px solid ${n.palette.grey[300]}`,fontWeight:"bold",textAlign:"center"},children:"-"}):null)]}),B&&v==="True"&&e.jsxs(e.Fragment,{children:[Y.map((r,t)=>{var n;if(t===0){const I=((n=P.find(p=>p.GradeConfId===r.Grade_id))==null?void 0:n.Remarks)||"";return e.jsx(l,{sx:{py:1,border:p=>`1px solid ${p.palette.grey[300]}`,textAlign:"center"},children:e.jsxs(h,{variant:"body2",children:[e.jsx(h,{component:"span",fontWeight:"bold",children:r.GradeName}),I&&` (${I})`]})})}return null}),b.some(r=>r.IsFailCriteriaNotApplicable==="N")&&Y.map((r,t)=>t===0?e.jsx(l,{sx:{py:1,border:n=>`1px solid ${n.palette.grey[300]}`,textAlign:"center",fontWeight:"bold",color:`${r.Result.trim()=="Pass"?"green":r.Result.trim()=="Fail"?"red":"inherit"}`},children:r.Result.trim()?r.Result.trim():"-"},t):null)]})]})]})})})]})})});function _s({configurationList:u,HeaderArray:b}){return e.jsx(e.Fragment,{children:e.jsx(js,{component:V,sx:{border:j=>`1px solid ${j.palette.grey[300]}`},children:e.jsxs(de,{"aria-label":"simple table",children:[e.jsx(Ut,{children:e.jsx(O,{sx:{background:j=>j.palette.secondary.main,color:j=>j.palette.common.white},children:b.map((j,C)=>e.jsx(l,{sx:{textTransform:"capitalize",color:v=>v.palette.common.white,py:1},onClick:()=>{clickHeader(j.Id)},children:e.jsx("div",{style:{display:"flex",alignItems:"center",gap:1,justifyContent:j!=null&&j.align?"center":"flex-start"},children:e.jsx("b",{children:j.Header})})},C))})}),e.jsx(ce,{children:u.map((j,C)=>e.jsxs(O,{children:[e.jsx(l,{sx:{textTransform:"capitalize",py:1},children:j.Text1}),e.jsx(l,{sx:{textTransform:"capitalize",textAlign:"center",py:1},children:j.Text2}),e.jsx(l,{sx:{textTransform:"capitalize",py:1},children:j.Text3})]},C))})]})})})}const Kt=({handleClick:u,open1:b,handleClose:j,USGetAllMarksGradeConfiguration:C,USGetAllMarksGradeConfiguration1:v,headerArray:B})=>e.jsxs(V,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:[e.jsx(yr,{href:"#",underline:"none",onClick:u,sx:{display:"flex",alignItems:"center"},children:e.jsx(h,{variant:"h4",children:"Grade Configuration Details"})}),e.jsxs(Ps,{open:b,onClose:j,maxWidth:"md",scroll:"body",sx:{minHeight:"400px"},PaperProps:{sx:{borderRadius:"15px"}},children:[e.jsx(Gs,{sx:{bgcolor:"#223354"},children:e.jsx(Ir,{onClick:j,sx:{color:"white",borderRadius:"7px",position:"absolute",top:"5px",right:"8px",cursor:"pointer","&:hover":{color:"red"}}})}),e.jsxs(Fs,{children:[e.jsx(h,{variant:"h3",my:1,children:"Grade Configuration Details"}),e.jsx(h,{variant:"h4",mt:1,children:"Subjects"}),e.jsx(_s,{configurationList:C.filter(f=>f.Standard_Id!==""),HeaderArray:B}),e.jsx(h,{variant:"h4",mt:2,children:"Co-Curricular Subjects"}),e.jsx(_s,{configurationList:v.filter(f=>f.Standard_Id!==""),HeaderArray:B})]})]})]}),bs=({USlistStudentsDetails:u})=>e.jsxs(V,{sx:{mt:1,background:"white"},children:[u.map((b,j)=>e.jsx(de,{sx:{border:C=>`1px solid ${C.palette.grey[800]}`,"& td":{border:"1px solid black"}},children:e.jsxs(ce,{children:[e.jsx(O,{sx:{textAlign:"center",color:"primary",border:C=>`1px solid ${C.palette.grey[600]}`},children:e.jsx(l,{colSpan:6,sx:{textAlign:"center",py:1},children:e.jsx(h,{variant:"h3",textAlign:"center",color:"primary",sx:{fontSize:{xs:"16px",sm:"18px",md:"20px",lg:"22px"}},children:b.School_Orgn_Name})})}),e.jsx(O,{sx:{},children:e.jsx(l,{colSpan:6,sx:{textAlign:"center",py:1},children:e.jsx(h,{variant:"h3",textAlign:"center",color:"black",sx:{fontSize:{xs:"14px",sm:"16px",md:"18px",lg:"20px"}},children:b.School_Name})})}),e.jsx(O,{sx:{},children:e.jsx(l,{colSpan:6,sx:{textAlign:"center",py:1},children:e.jsx(h,{variant:"h3",textAlign:"center",color:"black",sx:{fontSize:{xs:"12px",sm:"14px",md:"16px",lg:"18px"}},children:"Progress Report"})})})]})},j)),e.jsx(js,{component:V,sx:{},children:e.jsx(de,{children:e.jsx(ce,{children:u.map((b,j)=>e.jsxs(O,{sx:{bgcolor:"#38548A",flexWrap:"nowrap"},children:[e.jsx(l,{sx:{flex:"0 0 150px",textAlign:"center",whiteSpace:"nowrap",color:"white",fontSize:{xs:"0.8rem",sm:"0.9rem"}},children:e.jsxs("b",{children:["Roll No : ",b.Roll_No]})}),e.jsx(l,{sx:{flex:"0 0 500px",textAlign:"center",whiteSpace:"nowrap",color:"white",fontSize:{xs:"0.8rem",sm:"0.9rem"}},children:e.jsxs("b",{children:["Name : ",b.Student_Name]})}),e.jsx(l,{sx:{flex:"1 1 auto",textAlign:"center",whiteSpace:"nowrap",color:"white",fontSize:{xs:"0.8rem",sm:"0.9rem"}},children:e.jsxs("b",{children:["Class : ",b.Standard_Name," - ",b.Division_Name]})}),e.jsx(l,{sx:{flex:"1 1 auto",textAlign:"center",whiteSpace:"nowrap",color:"white",fontSize:{xs:"0.8rem",sm:"0.9rem"}},children:e.jsxs("b",{children:["Year : ",b.Academic_Year]})})]},j))})})})]}),$r=()=>{var es,ts,ss,rs,as,ls,os,ns,is,ds,cs,xs;const u=Ls(),b=vs();let{AcademicYearTopper:j,StudentidTopper:C,TeacherIdTopper:v}=Ms();j=Ht(j),C=Ht(C),v=Ht(v);const B=$s(),{state:f}=B,N=localStorage.getItem("localSchoolId"),P=sessionStorage.getItem("AcademicYearId"),Y=sessionStorage.getItem("TeacherId"),ee=Number(sessionStorage.getItem("Id"));f&&f.newstudntid!==void 0&&f.newstudntid;const le=(f==null?void 0:f.newstudntid)??C??"0",r=(f==null?void 0:f.AcademicYear)??j??P,t=(f==null?void 0:f.receivedStandardID)??"";f&&f.AcademicYear!==void 0&&f.AcademicYear,Number(sessionStorage.getItem("StandardDivisionId")),sessionStorage.getItem("Userlogin");const[n,I]=i.useState(""),[p,L]=i.useState(le),[a,R]=i.useState(r),A=f&&f.Newvalue!==void 0?f.Newvalue:!1,[E,K]=i.useState(A),[te,ie]=i.useState(!1),[J,Re]=i.useState(""),[xe,he]=i.useState(""),[Ne,d]=i.useState(""),[T,c]=i.useState(""),[y,U]=i.useState(""),[Ae,me]=i.useState(""),[dt,Jt]=i.useState(""),[qt,Qt]=i.useState("");JSON.parse(sessionStorage.getItem("ScreensAccessPermission"));let Pe=Ws(79);f&&f.TeacherID!==void 0?f.TeacherID:Pe=="N";const[ue,ct]=i.useState(Pe=="N"?Y:"0");_(s=>s.ProgressReportNew.ISlistTestDetailsArr),_(s=>s.ProgressReportNew.ISlistTestDetailsArr1);const Xe=_(s=>s.ProgressReportNew.ISGetClassTeachers),Rt=_(s=>s.ProgressReportNew.ISGetStudentNameDropdown);_(s=>s.ProgressReportNew.ISStudentProgressReport);const pe=_(s=>s.ProgressReportNew.AllStudentsProgressSheet),Pt=new ur.XMLParser,[je,Gt]=i.useState([]),xt=s=>s?Array.isArray(s)?s:[s]:[],Se=(s,W)=>{if(!s)return[];const it=Pt.parse(s);return xt(W.split(".").reduce((Z,Rs)=>Z==null?void 0:Z[Rs],it))};i.useEffect(()=>{var s;if(pe!==null&&Object.keys(pe).length>0){const W=(s=pe.listStudentsMarksDetiles)==null?void 0:s.map(Z=>({Student_id:Z.Student_id,Header:Se(Z.Header,"NewDataSet.Table"),Marks:Se(Z.Marks,"NewDataSet.Table3"),Result:Se(Z.Result,"NewDataSet.Table4"),SubjectTestType:Se(Z.SubjectTestType,"NewDataSet.Table7"),SubjectTestTypeGroupTotal:Se(Z.SubjectTestTypeGroupTotal,"NewDataSet.Table6"),SubjectgroupTotal:Se(Z.SubjectgroupTotal,"NewDataSet.Table5"),Subjects:Se(Z.Subjects,"NewDataSet.Table1"),TestTypes:Se(Z.TestTypes,"NewDataSet.Table8"),Tests:Se(Z.Tests,"NewDataSet.Table2"),grades:Se(Z.grades,"NewDataSet.Table9")}));let it=W==null?void 0:W.map(Z=>mr(Z,pe.listDisplaynameDetiles));Gt(it)}},[pe]),_(s=>s.ProgressReportNew.ISGetPassedAcademicYears);const Ft=_(s=>s.ProgressReportNew.ISThirdHeaderColumn),z=_(s=>s.ProgressReportNew.ISlistStudentsDetails),Lt=_(s=>s.ProgressReportNew.ISlistSubjectsDetails),Q=_(s=>s.ProgressReportNew.ISEntireDataList);_(s=>s.ProgressReportNew.ISlistTestDetails);const We=_(s=>s.ProgressReportNew.ISlistSubjectIdDetails),ht=_(s=>s.ProgressReportNew.ISListSchoolWiseTestNameDetail);_(s=>s.ProgressReportNew.ISListSubjectidDetails);const m=_(s=>s.ProgressReportNew.ISListTestTypeIdDetails),x=_(s=>s.ProgressReportNew.ISListMarkssDetails),vt=_(s=>s.ProgressReportNew.ISListDisplayNameDetails),Ge=_(s=>s.ProgressReportNew.ISGetAllMarksGradeConfiguration),Te=_(s=>s.ProgressReportNew.ISGetAllMarksGradeConfiguration1);Ge.filter(s=>s.Standard_Id!=""),Te.filter(s=>s.Standard_Id!=""),We.filter(s=>s.SchoolWise_Test_Name!=="Total");const ke="Legend : * Subject marks not considered in total marks".replace("*",'<span style="color: red;">*</span>'),Ke=_(s=>s.ProgressReportNew.IsGradingStandarBodyIS),pt=_(s=>s.ProgressReportNew.IsTestPublishedForStdDivBodyIS),Fe=_(s=>s.ProgressReportNew.RIsTestPublishedForStudentIS),X=_(s=>s.ProgressReportNew.IsGetSchoolSettings),Ue=Lt.some(s=>s.Total_Consideration==="N"),ge=_(s=>s.ProgressReportNew.MarkDetailsList),$t=_(s=>s.ProgressReportNew.HeaderArray),Wt=_(s=>s.ProgressReportNew.SubHeaderArray),Je=_(s=>s.ProgressReportNew.Loading),St=_(s=>s.ProgressReportNew.MarkDetailsList1),qe=_(s=>s.ProgressReportNew.HeaderArray1),ut=_(s=>s.ProgressReportNew.SubHeaderArray1);(ss=(ts=(es=Q==null?void 0:Q.listStudentsDetails)==null?void 0:es[0])==null?void 0:ts.ShowOnlyGrades)==null||ss.trim();const Qe=_(s=>s.ProgressReportNew.IsAcademicYearsOfStudent),w=_(s=>s.ProgressReportNew.ISGetOldStudentDetails),Ze=_(s=>s.ProgressReportNew.SchoolSettingValues),gt=_(s=>s.ProgressReportNew.GetTerms),Oe=_(s=>s.ProgressReportNew.IsPrePrimary),et=_(s=>s.ProgressReportNew.ISPrePrimaryExamPublishStatus);_(s=>s.ProgressReportNew.ISPrePrimaryExamPublishStatus);const _t=_(s=>s.ProgressReportNew.ISgetIsTermExamPublished),bt=_(s=>s.ProgressReportNew.ISgetIsFinalResultPublished);_(s=>s.ProgressReportNew.ISGetTeachersForPrePrimaryProgressReport);const tt=_(s=>s.ProgressReportNew.ProgressReportDownload),kt=_(s=>s.ProgressReportNew.ISLatestExamId);_(s=>s.ProgressReportNew.ISLatestExamId1);const st=_(s=>s.ProgressReportNew.IsXseedApplicable),o=_(s=>s.ProgressReportNew.ISErrorMessage);_(s=>s.FinalResultGenerateAll.getSubjectDetails);const F=_(s=>s.FinalResultGenerateAll.getViewResult),D=_(s=>s.FinalResultGenerateAll.getMarkDetailsView),S=_(s=>s.FinalResultGenerateAll.getSubjectDetailsView),G=_(s=>s.FinalResultGenerateAll.getGradesDetailsView),k=F.some(s=>s.ShowOnlyGrades.trim()==="true"),se=S.filter(s=>s.Total_Consideration==="N"),be=(rs=X==null?void 0:X.GetSchoolSettingsResult)==null?void 0:rs.ToppersCount,oe=_(s=>s.FinalResultGenerateAll.getTotalPerGradeView),re=_(s=>s.FinalResultGenerateAll.getPerDetails),g=oe==null?void 0:oe.some(s=>[1,2,3].includes(s.rank)),[H,q]=i.useState("");i.useEffect(()=>{var s;X!=null&&q((s=X==null?void 0:X.GetSchoolSettingsResult)==null?void 0:s.IsTotalConsiderForProgressReport)},[X]),i.useEffect(()=>{(f==null?void 0:f.TeacherID)!==void 0&&ct(f==null?void 0:f.TeacherID)},[f]);let M=[{Id:1,Header:"Percentage"},{Id:2,Header:"Grade Name"},{Id:3,Header:"Remarks"}];const[ae,fe]=i.useState("0");i.useEffect(()=>{var s;X!=null&&fe((s=X==null?void 0:X.GetSchoolSettingsResult)==null?void 0:s.ToppersCount.toString())},[X]);const[_e,Le]=i.useState("N");i.useEffect(()=>{var s;(z==null?void 0:z.length)>0&&Le((s=z[0])==null?void 0:s.IsFailCriteriaNotApplicable)},[z]);const[Ye,jt]=i.useState(!1);i.useEffect(()=>{var s;X!=null&&jt((s=X==null?void 0:X.GetSchoolSettingsResult)==null?void 0:s.ShowTopppers)},[X]),i.useEffect(()=>{C!=null&&K(!0)},[C]);const[Ot,Tt]=i.useState(null);i.useEffect(()=>{if((z==null?void 0:z.length)>0){const s=z.map((W,it)=>e.jsxs("b",{children:["Progress Report is not available for the student : ",W.Roll_No," - ",W.Student_Name,"."]},it));Tt(s)}},[z]);const we=()=>{let s="";return Qe.map(W=>{W.Value==a&&(s=W.Name)}),s},ve=()=>{let s=!1;return z.map(W=>{W.Standard_Division_Id==ue&&(s=W.Standard_Id)}),s},$=()=>{let s=0;return Xe.map(W=>{W.Value==ue&&(s=W.Id)}),s};i.useEffect(()=>{if(tt!=null){let W="https://schoolwebsite.regulusit.net/"+tt.FilePath.replace(/\\/g,"/");window.open(W),u(ks())}},[tt]);const Ie=()=>{let s=0;return Xe.map(W=>{W.Value==ue&&(s=W.asStandardId)}),s};We.some(s=>s.Marks_Scored===""),We.some(s=>s.Grade===""),i.useEffect(()=>{$(),Ie()},[ue]);const Me={asSchoolId:Number(N),asAcademicYearId:Number(P),asTeacherId:Number(Pe=="Y"?0:Y)};Number(N),Number(P),$();const $e={asSchoolId:Number(N),asAcademicYearId:Number(P),asStandard_Division_Id:Number($()),asStudentId:0,asTerm_Id:1,asStartIndex:0,asEndIndex:1e5,asSortExp:"Roll_No"},Ee={asSchoolId:Number(N),asAcadmicYearId:Number(P),asStdDivId:$()};i.useEffect(()=>{p==="0"&&u(Os(Ee))},[$(),P,N]);const ft={asSchoolId:Number(N),asAcadmeicYearId:Number(a),asStudentId:w.StudentId,asUserId:ee,IsTotalConsiderForProgressReport:y},It={asSchoolId:Number(N),asStudent_Id:Number(p),asIncludeCurrentYear:!1},rt={asSchoolId:Number(N)};Number(N),Number(P),Number(Ie());const at={asSchoolId:Number(N),asAcademicYearId:Number(a),asStandardId:w.StandardId},yt={asSchoolId:Number(N),asAcadmicYearId:Number(a),asStdDivId:w.StandardDivisionId},ye={asSchoolId:Number(N),asAcademicYearId:Number(a),asStandardDivId:w.StandardDivisionId,asStudentId:w.StudentId},He={aiSchoolId:N,asAcademicYearId:P,aiStudentId:p},Be={aiSchoolId:N,aiAcademicYearId:a,aiStudentId:p},lt={asSchoolId:N,asAcademicYearId:a,asKey:"BlockProgressReportIfFeesArePending,ShowProgressSheetNote,ProgressSheetNote,AllowProgressReportDownloadAtStudentLogin,ShowTotalAsPerOutOfMarks,IsTotalConsiderForProgressReport,ShowProgressReportGraphOnMobileApp"},ne={asSchoolId:N,asAcademicYearId:a,asStandardId:w.StandardId},Nt={asSchoolId:N,asAcademicYearId:a,aiYearwiseStudentId:w.StudentId},At={asSchoolId:N,asAcademicYearId:a,asStandardDivisionId:w.StandardDivisionId},Ve={asSchoolId:Number(N),asAcadmicYearId:Number(a),asStandardDivisionId:w.StandardDivisionId,asStandardId:w.StandardId},Yt={asSchoolId:N,asAcademicYearId:a,asStandardDivisionId:w.StandardDivisionId},Et={asSchoolId:N,asAcademicYearId:a,asStandardDivId:w.StandardDivisionId,asStandardId:"0"},mt={asSchoolId:N,asAcademicYearId:a,asStandardDivId:"0",asStandardId:w.StandardId};i.useEffect(()=>{u(Ys(Et))},[a,w.StandardDivisionId]),i.useEffect(()=>{u(Es(Ve))},[a,w.StandardDivisionId,w.StandardId]),i.useEffect(()=>{u(Hs(mt))},[a,w.StandardId]),i.useEffect(()=>{const s={asSchoolId:Number(N),asAcademicYearId:Number(a),asStudentsIds:w.StudentId,asWithGrace:0};u(Bs(s))},[w.StudentId,a]),i.useEffect(()=>{const s={asSchoolId:Number(N),asAcadmeicYearId:Number(a),asStudentId:Number(w.StudentId),asUserId:Number(ee)};u(Vs(s))},[y,a,w.StudentId]);const ot=s=>{const W={aiSchoolId:N,aiAcademicYearId:parseInt(`${a}`),aiStudentId:w.StudentId,aiLoginUserId:ee,aiTermId:s,aiStandardId:w.StandardId,aiStandardDivisionId:w.StandardDivisionId};u(pr(W))},nt={asSchoolId:Number(N),asAcademicYrId:Number(P),asStandardId:Number(J!==""?J:t),asIsCoCurricular:!1},wt=s=>{K(!1),ct(s==null?void 0:s.Value),Re(s==null?void 0:s.asStandardId),L("0"),R(r)},Is=s=>{K(!1),L(s)},ys=s=>{K(!1),R(s)},Ns=s=>{if(st){b("/RITeSchool/Teacher/PreprimaryProgressReport1",{state:{GetOldStudentDetails:w,AcademicYear:a,USIsXseedApplicable:st,Acadamicyearname:ms,StudentId:p,selectTeacher:ue,standardId:J,fromInternal:!0}});return}if(ue==="0"){I("Class Teacher should be selected.");return}K(!0),I("")};i.useEffect(()=>{u(zs(at))},[a,w.StandardId]),i.useEffect(()=>{u(hs(rt))},[N,a]),i.useEffect(()=>{u(Xs(ye))},[w.StandardDivisionId,w.StudentId,a]),i.useEffect(()=>{u(Ks(yt))},[w.StandardDivisionId,a]);const As={asSchoolId:Number(N),asAcademicYearId:Number(a),asSchoolWise_Standard_Division_Id:w.StandardDivisionId};i.useEffect(()=>{u(Us(As))},[w.StandardDivisionId,a]),i.useEffect(()=>{ve()},[]),i.useEffect(()=>{u(Js(Me))},[]),i.useEffect(()=>{u(qs($e))},[ue,$()]),i.useEffect(()=>{p!=="0"&&u(Qs(ft,at,ae,_e))},[y,a,w.StudentId,ae,_e]),i.useEffect(()=>{u(Zs(It))},[p]),i.useEffect(()=>{(t!==""||J!=="")&&u(er(nt))},[w.StandardId,a,J,t]),i.useEffect(()=>{(t!==""||J!=="")&&u(tr(nt))},[w.StandardId,a,J,t]),i.useEffect(()=>{u(sr(He))},[p]),i.useEffect(()=>{u(rr(Be))},[p,a]),i.useEffect(()=>{u(ar(lt))},[a]),i.useEffect(()=>{u(lr(ne))},[a,w.StandardId]),i.useEffect(()=>{u(or(Nt))},[a,w.StudentId]),i.useEffect(()=>{u(nr(At))},[a,w.StandardDivisionId]),i.useEffect(()=>{u(ir(Yt))},[a,w.StandardDivisionId]);const Zt=()=>{let s="";return Qe.map(W=>{W.Value==a&&(s=W.Name)}),s},ms=Zt();i.useEffect(()=>{Ze.length>0&&Ze.map(s=>{s.Key=="BlockProgressReportIfFeesArePending"?me(s.Value):s.Key=="ShowProgressSheetNote"?Jt(s.Value):s.Key=="ProgressSheetNote"?Qt(s.Value):s.Key=="AllowProgressReportDownloadAtStudentLogin"?he(s.Value):s.Key=="ShowProgressReportGraphOnMobileApp"?d(s.Value):s.Key=="ShowTotalAsPerOutOfMarks"?c(s.Value):s.Key=="IsTotalConsiderForProgressReport"&&U(s.Value)})},[Ze]),i.useEffect(()=>{u(hs(rt))},[]);const Dt=s=>{s.preventDefault(),ie(!0)},Ct=()=>{ie(!1)},ws=i.useRef(null),Ds=s=>{b("/RITeSchool/Teacher/Toppers/"+Ce(ue)+"/"+Ce(w.StandardDivisionId)+"/"+Ce(w.StandardId)+"/"+Ce(a)+"/"+Ce(kt)+"/"+Ce(!0)+"/"+Ce(p)+"/"+Ce(!0),{state:{fromInternal:!0}})},Cs=!Oe&&a!==P&&!Ke&&Ye;return Oe&&et.IsTerm1AssessmentPublished==!0,Oe&&et.IsTerm2AssessmentPublished==!0,e.jsxs(V,{sx:{px:2},children:[Je&&e.jsx(ps,{}),(pe==null?void 0:pe.length)===0&&e.jsx(ps,{}),e.jsx(fr,{navLinks:[{title:"Progress Report",path:"/RITeSchool/Teacher/ProgressReportNew"}],rightActions:e.jsx(e.Fragment,{children:e.jsxs(dr,{direction:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:"left",gap:1,sx:{mt:{xs:0,sm:0},flexWrap:{xs:"nowrap",sm:"nowrap"}},children:[e.jsx(De,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:e.jsx(cr,{label:"Class Teacher",sx:{pl:0,width:{xs:"70vw",sm:"20vw"},backgroundColor:Pe=="N"?"#F0F0F0":""},ItemList:Xe,mandatory:!0,onChange:wt,disabled:Pe=="N",defaultValue:ue,size:"small"})}),e.jsx(De,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:e.jsx(Ss,{ItemList:Rt,sx:{width:{xs:"70vw",sm:"20vw"}},onChange:Is,defaultValue:p,label:"Student Name",size:"small"})}),e.jsx(De,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:p=="0"?e.jsx("span",{}):e.jsx(Ss,{ItemList:Qe,sx:{width:{xs:"70vw",sm:"18vw"}},onChange:ys,defaultValue:a,label:"Academic Years ",size:"small"})}),e.jsxs(De,{item:!0,xs:12,gap:1,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:[e.jsx(Bt,{title:"Displays  progress report of published exam of selected / all student.",children:e.jsx(Vt,{sx:{color:"white",backgroundColor:us[500],"&:hover":{backgroundColor:us[600]}},children:e.jsx(xr,{})})}),e.jsx(Bt,{title:"Show",children:e.jsx(Vt,{sx:{color:"white",backgroundColor:ze[500],"&:hover":{backgroundColor:ze[600]}},onClick:Je?()=>{}:Ns,children:e.jsx(Sr,{})})}),Cs&&E&&zt()&&e.jsx(Bt,{title:"Toppers",children:e.jsx("span",{children:e.jsx(Vt,{onClick:Ds,sx:{color:"white",backgroundColor:ze[500],"&:hover":{backgroundColor:ze[600]}},children:e.jsx(hr,{})})})})," "]})]})})}),z.length>0&&e.jsxs(De,{container:!0,sx:{mt:2},children:[e.jsx(De,{xs:12,sm:8,children:E&&e.jsxs(e.Fragment,{children:[a===P?e.jsx("span",{}):((Q==null?void 0:Q.listStudentsDetails)||[]).length!==0&&p!=="0"&&_t&&a>="50"?e.jsx(Xt,{Error:"On publish, you will see download buttons to download Term 1/2 progress report."}):e.jsx("span",{}),a!==P&&p!=="0"&&e.jsx(Xt,{Error:`You are viewing data of old academic year ${Zt()}.`})]})}),!zt()&&a!==P&&e.jsx(De,{xs:12,sm:4,children:E&&!Oe&&e.jsxs(V,{display:"flex",sx:{justifyContent:"flex-end",gap:1},children:[_t&&a>="50"&&e.jsx(gs,{text1:N=="11"?"DOWNLOAD PDF":(as=gt[0])==null?void 0:as.TermName,text2:"",clickIcon:()=>{ot(1)}}),e.jsx(V,{children:bt&&a>="50"&&e.jsx(gs,{text1:(ls=gt[1])==null?void 0:ls.TermName,text2:"",clickIcon:()=>{ot(2)}})})]})})]}),e.jsx(Xt,{Error:n}),E&&e.jsx("span",{children:p!=="0"?pt===!0||Fe===!0||a!==P?e.jsx(V,{ref:ws,children:p!=="0"?((is=(ns=(os=Q==null?void 0:Q.listStudentsDetails)==null?void 0:os[0])==null?void 0:ns.ShowOnlyGrades)==null?void 0:is.trim())==="true"?e.jsxs(e.Fragment,{children:[z.length>0&&e.jsx(Kt,{handleClick:Dt,open1:te,handleClose:Ct,USGetAllMarksGradeConfiguration:Ge,USGetAllMarksGradeConfiguration1:Te,headerArray:M}),e.jsx(bs,{USlistStudentsDetails:z}),Ue&&e.jsx("div",{style:{backgroundColor:"white",padding:"8px"},dangerouslySetInnerHTML:{__html:ke}}),e.jsx(V,{sx:{overflowX:"auto"},children:e.jsx(Ts,{USlistStudentsDetails:z,progressReportMessage:o,totalCount:ae,isFailCriteria:_e,EntireDataList:Q,IsTotalConsiderForProgressReport:y,HeaderArray1:qe,SubHeaderArray1:ut,MarkDetailsList1:y.toLowerCase()==="true"?ge:St})})]}):e.jsxs(e.Fragment,{children:[" ",z.length>0&&e.jsx(Kt,{handleClick:Dt,open1:te,handleClose:Ct,USGetAllMarksGradeConfiguration:Ge,USGetAllMarksGradeConfiguration1:Te,headerArray:M}),e.jsx(bs,{USlistStudentsDetails:z}),Ue&&e.jsx("div",{style:{backgroundColor:"white",padding:"8px"},dangerouslySetInnerHTML:{__html:ke}}),e.jsx(V,{sx:{overflowX:"auto"},children:e.jsx(fs,{USlistStudentsDetails:z,progressReportMessage:o,isFailCriteria:_e,totalCount:ae,HeaderArray:$t,SubHeaderArray:Wt,MarkDetailsList:ge,ListDisplayNameDetails:vt,IsTotalConsiderForProgressReport:y,USListSchoolWiseTestNameDetail:ht,USListMarkssDetails:x,ListTestTypeIdDetails:m,ThirdHeaderRow:Ft,EntireDataList:Q})})]}):null}):e.jsx("div",{children:p!="0"&&e.jsxs(e.Fragment,{children:[" (",e.jsx(h,{variant:"body1",sx:{textAlign:"center",marginTop:4,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white"},children:e.jsxs("b",{children:[" No exam of this class has been published for the  year ( ",we()," )  "]})}),") "]})}):null}),E&&e.jsxs(e.Fragment,{children:[p=="0"&&(je==null?void 0:je.length)>0&&e.jsx(Kt,{handleClick:Dt,open1:te,handleClose:Ct,USGetAllMarksGradeConfiguration:Ge,USGetAllMarksGradeConfiguration1:Te,headerArray:M}),e.jsx("div",{children:p=="0"&&(je==null?void 0:je.length)>0&&pe!==null&&Object.keys(pe).length>0&&je.map((s,W)=>e.jsx(Nr,{isFailCriteria:_e,totalCount:ae,data1:y,IStudentList:s,handleClose:Ct,handleClick:Dt,open1:te,formattedText:ke,USGetAllMarksGradeConfiguration:Ge,USGetAllMarksGradeConfiguration1:Te,USlistStudentsDetails:z,USErrorMessage:o},W))})]}),zt()&&bt&&e.jsx(De,{xs:6,children:E&&e.jsx(e.Fragment,{children:p!=="0"&&a!==P&&e.jsx(wr,{ViewProgress:F,totalconsidration:se,SubjectDetailsView:S,IsTotalConsiderForProgressReport:H,showOnlyGrades:k,ToppersCount:be,hasTopRanks:g,PercentageDetails:re,TotalPerGradeView:oe,GradesDetailsView:G,MarkDetailsView:D,IsView:((xs=(cs=(ds=Q==null?void 0:Q.listStudentsDetails)==null?void 0:ds[0])==null?void 0:cs.ShowOnlyGrades)==null?void 0:xs.trim())==="true"})})})]})};export{$r as default};
