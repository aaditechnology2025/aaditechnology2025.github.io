import{c6 as Fi,c7 as Bi,gh as ra,s as Rt,cm as ke,aP as dt,nQ as sa,r as o,c9 as Ri,aO as Ei,cv as ki,j as e,ca as Wi,cb as Ui,nR as _i,nS as Ti,nT as Gi,V as Le,W as Ye,ag as ze,u as et,c as O,B as z,T as Q,G as s,q as h,bR as fe,E as Et,hl as Li,hm as Zt,t as ce,ho as Yi,hq as zi,ai as Dn,aj as Pn,ak as On,al as Dt,am as te,H,bQ as he,an as Mn,I as X,a2 as Pt,a3 as Ot,a5 as Mt,a7 as wt,a8 as Fe,L as Xe,hr as Vi,hs as Hi,nU as wn,az as Ji,as as lt,at as Qe,w as kt,x as Fn,nV as qi,nW as Ki,nX as Xi,nY as Qi,nZ as $i,aB as na,R as Bn,ce as Ne,aJ as V,n_ as St,ab as It,n$ as Zi,o0 as eo,o1 as to,o2 as ao,ae as $e,v as ro,cc as so,o3 as no,bL as gn,o4 as io,o5 as oo,bb as lo,o6 as co,o7 as uo,o8 as mo,A as ho,o9 as fo,oa as po,ob as go,oc as xo,od as bo,oe as So,of as Io,og as jo,oh as ea,oi as vo,F as No,J as nt,bv as it,bl as xn,iU as yo,iC as Co,oj as Ao,ok as Do,ol as Po,om as Oo,on as Mo,oo as wo,op as Fo,oq as Bo,or as Ro,os as Eo,ot as ko,ou as Wo,ov as Uo,ow as _o,ox as bn,oy as To,oz as Go,oA as Lo}from"./index-d5YOjbb6.js";import{d as Yo}from"./GroupAdd-CeGlO5QJ.js";import{d as zo}from"./Save-Ckr0NoeK.js";import{h as we}from"./moment-CaEEsv53.js";import{D as Ze}from"./Datepicker1-DKB9hUZi.js";import{S as Rn}from"./SingleFile-BT4Sw5XK.js";import{d as Vo}from"./Attachment-DgcWq5kr.js";import{U as Ho}from"./UploadDocList-BICUPjQ0.js";import{Q as ta}from"./QuestionMark-C2Y4lgD8.js";import{C as En}from"./Clear-DpEYrJI-.js";import{V as kn}from"./Visibility-C0VMNowd.js";import{d as Jo}from"./Info-A-drYdpS.js";import{S as jt}from"./SingleFile2-CaYgcNtR.js";import{F as qo}from"./FormGroup-XtcIGgvX.js";import{T as Ko,a as ot}from"./Tabs-CHSWWBun.js";import{C as Xo}from"./Card-BrM9kpJu.js";import"./CloudUpload-DJN1zp2n.js";import"./Errormessage-RPRSgLGN.js";import"./KeyboardArrowRight-BUZa0tnJ.js";function Qo(a){return Fi("MuiLinearProgress",a)}Bi("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const $o=["className","color","value","valueBuffer","variant"];let ct=a=>a,Sn,In,jn,vn,Nn,yn;const aa=4,Zo=ra(Sn||(Sn=ct`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),el=ra(In||(In=ct`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),tl=ra(jn||(jn=ct`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),al=a=>{const{classes:n,variant:l,color:S}=a,f={root:["root",`color${ke(S)}`,l],dashed:["dashed",`dashedColor${ke(S)}`],bar1:["bar",`barColor${ke(S)}`,(l==="indeterminate"||l==="query")&&"bar1Indeterminate",l==="determinate"&&"bar1Determinate",l==="buffer"&&"bar1Buffer"],bar2:["bar",l!=="buffer"&&`barColor${ke(S)}`,l==="buffer"&&`color${ke(S)}`,(l==="indeterminate"||l==="query")&&"bar2Indeterminate",l==="buffer"&&"bar2Buffer"]};return Ui(f,Qo,n)},ia=(a,n)=>n==="inherit"?"currentColor":a.vars?a.vars.palette.LinearProgress[`${n}Bg`]:a.palette.mode==="light"?_i(a.palette[n].main,.62):Ti(a.palette[n].main,.5),rl=Rt("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(a,n)=>{const{ownerState:l}=a;return[n.root,n[`color${ke(l.color)}`],n[l.variant]]}})(({ownerState:a,theme:n})=>dt({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:ia(n,a.color)},a.color==="inherit"&&a.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},a.variant==="buffer"&&{backgroundColor:"transparent"},a.variant==="query"&&{transform:"rotate(180deg)"})),sl=Rt("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(a,n)=>{const{ownerState:l}=a;return[n.dashed,n[`dashedColor${ke(l.color)}`]]}})(({ownerState:a,theme:n})=>{const l=ia(n,a.color);return dt({position:"absolute",marginTop:0,height:"100%",width:"100%"},a.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${l} 0%, ${l} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},sa(vn||(vn=ct`
    animation: ${0} 3s infinite linear;
  `),tl)),nl=Rt("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(a,n)=>{const{ownerState:l}=a;return[n.bar,n[`barColor${ke(l.color)}`],(l.variant==="indeterminate"||l.variant==="query")&&n.bar1Indeterminate,l.variant==="determinate"&&n.bar1Determinate,l.variant==="buffer"&&n.bar1Buffer]}})(({ownerState:a,theme:n})=>dt({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:a.color==="inherit"?"currentColor":(n.vars||n).palette[a.color].main},a.variant==="determinate"&&{transition:`transform .${aa}s linear`},a.variant==="buffer"&&{zIndex:1,transition:`transform .${aa}s linear`}),({ownerState:a})=>(a.variant==="indeterminate"||a.variant==="query")&&sa(Nn||(Nn=ct`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),Zo)),il=Rt("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(a,n)=>{const{ownerState:l}=a;return[n.bar,n[`barColor${ke(l.color)}`],(l.variant==="indeterminate"||l.variant==="query")&&n.bar2Indeterminate,l.variant==="buffer"&&n.bar2Buffer]}})(({ownerState:a,theme:n})=>dt({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},a.variant!=="buffer"&&{backgroundColor:a.color==="inherit"?"currentColor":(n.vars||n).palette[a.color].main},a.color==="inherit"&&{opacity:.3},a.variant==="buffer"&&{backgroundColor:ia(n,a.color),transition:`transform .${aa}s linear`}),({ownerState:a})=>(a.variant==="indeterminate"||a.variant==="query")&&sa(yn||(yn=ct`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),el)),ol=o.forwardRef(function(n,l){const S=Ri({props:n,name:"MuiLinearProgress"}),{className:f,color:y="primary",value:C,valueBuffer:p,variant:w="indeterminate"}=S,L=Ei(S,$o),A=dt({},S,{color:y,variant:w}),B=al(A),m=ki(),v={},c={bar1:{},bar2:{}};if((w==="determinate"||w==="buffer")&&C!==void 0){v["aria-valuenow"]=Math.round(C),v["aria-valuemin"]=0,v["aria-valuemax"]=100;let u=C-100;m&&(u=-u),c.bar1.transform=`translateX(${u}%)`}if(w==="buffer"&&p!==void 0){let u=(p||0)-100;m&&(u=-u),c.bar2.transform=`translateX(${u}%)`}return e.jsxs(rl,dt({className:Wi(B.root,f),ownerState:A,role:"progressbar"},v,{ref:l},L,{children:[w==="buffer"?e.jsx(sl,{className:B.dashed,ownerState:A}):null,e.jsx(nl,{className:B.bar1,ownerState:A,style:c.bar1}),w==="determinate"?null:e.jsx(il,{className:B.bar2,ownerState:A,style:c.bar2})]}))}),ll=ol;/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=Gi("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var oa={},cl=Ye;Object.defineProperty(oa,"__esModule",{value:!0});var Wn=oa.default=void 0,ul=cl(Le()),ml=e,hl=(0,ul.default)((0,ml.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"}),"AccountCircle");Wn=oa.default=hl;var la={},fl=Ye;Object.defineProperty(la,"__esModule",{value:!0});var Un=la.default=void 0,pl=fl(Le()),gl=e,xl=(0,pl.default)((0,gl.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"}),"Description");Un=la.default=xl;var da={},bl=Ye;Object.defineProperty(da,"__esModule",{value:!0});var _n=da.default=void 0,Sl=bl(Le()),Il=e,jl=(0,Sl.default)((0,Il.jsx)("path",{d:"M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63C19.68 7.55 18.92 7 18.06 7h-.12c-.86 0-1.63.55-1.9 1.37l-.86 2.58c1.08.6 1.82 1.73 1.82 3.05v8h3zm-7.5-10.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5S11 9.17 11 10s.67 1.5 1.5 1.5zM5.5 6c1.11 0 2-.89 2-2s-.89-2-2-2-2 .89-2 2 .89 2 2 2zm2 16v-7H9V9c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v6h1.5v7h4zm6.5 0v-4h1v-4c0-.82-.68-1.5-1.5-1.5h-2c-.82 0-1.5.68-1.5 1.5v4h1v4h3z"}),"FamilyRestroom");_n=da.default=jl;var ca={},vl=Ye;Object.defineProperty(ca,"__esModule",{value:!0});var Tn=ca.default=void 0,Nl=vl(Le()),yl=e,Cl=(0,Nl.default)((0,yl.jsx)("path",{d:"M12 11.55C9.64 9.35 6.48 8 3 8v11c3.48 0 6.64 1.35 9 3.55 2.36-2.19 5.52-3.55 9-3.55V8c-3.48 0-6.64 1.35-9 3.55zM12 8c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3z"}),"LocalLibrary");Tn=ca.default=Cl;var ua={},Al=Ye;Object.defineProperty(ua,"__esModule",{value:!0});var Gn=ua.default=void 0,Dl=Al(Le()),Pl=e,Ol=(0,Dl.default)((0,Pl.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 14h-3v3h-2v-3H8v-2h3v-3h2v3h3v2zm-3-7V3.5L18.5 9H13z"}),"NoteAdd");Gn=ua.default=Ol;var ma={},Ml=Ye;Object.defineProperty(ma,"__esModule",{value:!0});var Ln=ma.default=void 0,wl=Ml(Le()),Fl=e,Bl=(0,wl.default)((0,Fl.jsx)("path",{d:"M16.5 13c-1.2 0-3.07.34-4.5 1-1.43-.67-3.3-1-4.5-1C5.33 13 1 14.08 1 16.25V19h22v-2.75c0-2.17-4.33-3.25-6.5-3.25zm-4 4.5h-10v-1.25c0-.54 2.56-1.75 5-1.75s5 1.21 5 1.75v1.25zm9 0H14v-1.25c0-.46-.2-.86-.52-1.22.88-.3 1.96-.53 3.02-.53 2.44 0 5 1.21 5 1.75v1.25zM7.5 12c1.93 0 3.5-1.57 3.5-3.5S9.43 5 7.5 5 4 6.57 4 8.5 5.57 12 7.5 12zm0-5.5c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm9 5.5c1.93 0 3.5-1.57 3.5-3.5S18.43 5 16.5 5 13 6.57 13 8.5s1.57 3.5 3.5 3.5zm0-5.5c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z"}),"PeopleOutline");Ln=ma.default=Bl;var ha={},Rl=Ye;Object.defineProperty(ha,"__esModule",{value:!0});var Yn=ha.default=void 0,El=Rl(Le()),kl=e,Wl=(0,El.default)((0,kl.jsx)("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3 1 9l11 6 9-4.91V17h2V9L12 3z"}),"School");Yn=ha.default=Wl;const Ul=({additional:a,onChange:n})=>{var w;ze().state,et(),o.useState({lastSchoolName:"",lastSchoolAddress:"",standard:"",schoolUDISENo:"",schoolBoardName:"",isRecognised:"",houseNumber:"",mainArea:"",subareaName:"",landmark:"",taluka:"",district:"",admissionStandard:"",admissionAcademicYear:"",previousMarksObtained:"",previousMarksOutOf:"",subjectNames:"",previousYearOfPassing:"",currentAcademicYear:"",currentStandard:""}),o.useEffect(()=>{},[a]);const S=O(L=>L.ProgressReportNew.IsGetSchoolSettings),f=((w=S==null?void 0:S.GetSchoolSettingsResult)==null?void 0:w.IsAdditionalFieldsApplicable)||!1,y=[{id:1,Name:"ICSE",Value:1},{id:2,Name:"SSC",Value:2},{id:3,Name:"CBSE",Value:3},{id:4,Name:"OTHERS",Value:4}],C=[{id:1,Name:"Yes",Value:"Yes"},{id:2,Name:"No",Value:"No"}],p=L=>{const{name:A,value:B,type:m,checked:v,files:c}=L.target;let u;m==="checkbox"?u=v:m==="file"?u=c?c[0]:null:u=B,n(A,u)};return e.jsxs(z,{sx:{backgroundColor:"white",p:2},children:[e.jsx(Q,{variant:"h4",color:"initial",pt:2,pb:1,children:"Last School Details"}),e.jsxs(s,{container:!0,spacing:2,children:[e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"lastSchoolName",label:"School Name",variant:"outlined",fullWidth:!0,value:a.lastSchoolName,onChange:p})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"lastSchoolAddress",label:"School Address",variant:"outlined",fullWidth:!0,value:a.lastSchoolAddress,onChange:p})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"standard",label:"Standard",variant:"outlined",fullWidth:!0,value:a.standard,onChange:p})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"schoolUDISENo",label:"School UDISE No",variant:"outlined",fullWidth:!0,value:a.schoolUDISENo,onChange:p})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(fe,{sx:{minWidth:"300px"},defaultValue:a.schoolBoardName,ItemList:y,onChange:L=>n("schoolBoardName",L),label:"School Board Name",size:"medium"})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(fe,{sx:{minWidth:"300px"},defaultValue:a.isRecognised,ItemList:C,onChange:L=>n("isRecognised",L),label:"Is Recognised",size:"medium"})})]}),f&&e.jsxs(e.Fragment,{children:[e.jsx(Q,{variant:"h4",color:"initial",pt:2,pb:1,children:"Other Details"}),e.jsxs(s,{container:!0,spacing:2,children:[e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"houseNumber",label:"House No. / Plot No",variant:"outlined",fullWidth:!0,value:a.houseNumber,onChange:p})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"mainArea",label:"Main Area",variant:"outlined",fullWidth:!0,value:a.mainArea,onChange:p})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"subareaName",label:"Subarea Name",variant:"outlined",fullWidth:!0,value:a.subareaName,onChange:p})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"landmark",label:"Landmark",variant:"outlined",fullWidth:!0,value:a.landmark,onChange:p})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"taluka",label:"Taluka",variant:"outlined",fullWidth:!0,value:a.taluka,onChange:p})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"district",label:"District",variant:"outlined",fullWidth:!0,value:a.district,onChange:p})})]}),e.jsx(Q,{variant:"h4",color:"initial",pt:2,pb:1,children:"Educational Details"}),e.jsxs(s,{container:!0,spacing:2,children:[e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"admissionStandard",label:"Admission Standard",variant:"outlined",fullWidth:!0,value:a.admissionStandard,onChange:p})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"admissionAcademicYear",label:"Admission Academic Year",variant:"outlined",fullWidth:!0,value:a.admissionAcademicYear,onChange:p})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"previousMarksObtained",label:"Previous Marks Obtained",variant:"outlined",fullWidth:!0,value:a.previousMarksObtained,onChange:p,inputProps:{maxLength:3,pattern:"[0-9]*",inputMode:"numeric"},onInput:L=>{const A=L.target;A.value=A.value.replace(/\D/g,"").slice(0,3)}})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"previousMarksOutOf",label:"Previous Marks Out Off",variant:"outlined",fullWidth:!0,value:a.previousMarksOutOf,onChange:p,inputProps:{maxLength:3,pattern:"[0-9]*",inputMode:"numeric"},onInput:L=>{const A=L.target;A.value=A.value.replace(/\D/g,"").slice(0,3)}})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"subjectNames",label:"Subject Names",variant:"outlined",fullWidth:!0,value:a.subjectNames,onChange:p})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"previousYearOfPassing",label:"Previous Year of Passing",variant:"outlined",fullWidth:!0,value:a.previousYearOfPassing,onChange:p})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"currentAcademicYear",label:"Current Academic Year",variant:"outlined",fullWidth:!0,value:a.currentAcademicYear,onChange:p})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"currentStandard",label:"Current Standard",variant:"outlined",fullWidth:!0,value:a.currentStandard,onChange:p})})]})]})]})},_l=({admissionDocumentList:a,onChange:n})=>{const l=et(),S=ze(),f=localStorage.getItem("studentData"),y=JSON.parse(f),C=localStorage.getItem("SchoolId"),p=sessionStorage.getItem("FinancialYearId"),w=Number(localStorage.getItem("UserId")),L=localStorage.getItem("FolderName"),{Name:A,standardId:B,DivisionId:m,YearWise_Student_Id:v,SchoolWise_Student_Id:c,StandardDivision:u}=S.state||{},{showAlert:M,closeAlert:P}=o.useContext(Et),[g,b]=o.useState(!1),[x,E]=o.useState(null),[W,U]=o.useState(""),[Y,J]=o.useState(""),[ue,q]=o.useState(""),[ye,i]=o.useState(""),[T,Be]=o.useState(""),[je,ve]=o.useState(""),Ae=["BMP","DOC","DOCX","JPG","JPEG","PDF","XLS","XLSX"],De=5e6;o.useState(""),o.useState({});const xe=O(N=>N.StudentUI.ISGetStudentDocuments),We={asSchoolId:Number(localStorage.getItem("localSchoolId")),asStandardId:B??(y==null?void 0:y.standardId),asStudentId:c??(y==null?void 0:y.SchoolWise_Student_Id),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId"))};o.useEffect(()=>{},[a]);function _(N){let Z=a.map(ie=>({...ie,IsApplicable:ie.StandardwiseDocumentId===N?!ie.IsApplicable:ie.IsApplicable}));n(Z)}function pe(N){let Z=a.map(ie=>({...ie,IsSubmitted:ie.StandardwiseDocumentId===N?!ie.IsSubmitted:ie.IsSubmitted}));n(Z)}function me(){let N=!0;return a==null||a.map((Z,ie)=>{Z.IsApplicable||(N=!1)}),N}function be(){let N=a.map(Z=>({...Z,IsApplicable:!me()}));n(N)}function j(){let N=!0;return a==null||a.map((Z,ie)=>{Z.IsSubmitted||(N=!1)}),N}function F(){let N=a.map(Z=>({...Z,IsSubmitted:!j()}));n(N)}const Se=[{Id:1,Header:"File Name"},{Id:2,Header:"View",align:"center"},{Id:3,Header:"Delete",align:"center"}],K=O(N=>N.StudentUI.ISGetSingleStudentDetails)[0],ne=(K==null?void 0:K.User_Id)||"",$=O(N=>N.PerformanceGradeAssignment.ISUserInvestmentMethodDetails),ae=O(N=>N.PerformanceGradeAssignment.ISGetAllDocumentsList),Pe=O(N=>N.AddInvestmentDetailsDoc.ISDeleteInvestmentDocument),ge=O(N=>N.AddInvestmentDetailsDoc.ISSaveInvestmentDocument);O(N=>N.AddInvestmentDetailsDoc.ISGetAllDocumentsList);const Ve={asSchoolId:Number(C),asFinancialYearId:Number(p),asUserId:ne,asDocumentId:je,asDocumentTypeId:2},Ue={asSchoolId:Number(C),asUserId:ne,asFinancialYearId:1,asDocumentTypeId:2,asAcademicYearId:0,asDocumentId:Number(je),asReportingUserId:0,asLoginUserId:Number(sessionStorage.getItem("Id"))};o.useEffect(()=>{l(Li(Ve)),l(Zt(Ue)),q("")},[g]);const ut=()=>{let N=!1;const Z={asSchoolId:Number(C),asAcademicYearId:0,asFinancialYearId:Number(p),asDocumentId:Number(je),asFileName:W===""?null:W,asUserId:ne,asInsertedById:w,asDocumnetTypeId:2,asReportingUserId:0,asSaveFeature:"User Documents",asFolderName:L.toString(),asBase64String:Y==""?null:Y};!W||W===""?(q("Please select file to upload."),N=!0):q(""),N||l(Vi(Z))};o.useEffect(()=>{ge!=""&&(ce.success(ge),l(Yi()),l(Zt(Ue)),tt())},[ge]);const He=N=>{window.open(localStorage.getItem("SiteURL")+"RITeSchool//downloads//User Documents//"+N)},Je=N=>{const Z={asSchoolId:Number(C),asFinancialYearId:Number(p),asUpdatedById:w,asDocumentId:Number(N),asDocumnetTypeId:2};M({title:"Please Confirm",message:"Are you sure you want to delete this record?",variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onCancel:()=>{P()},onConfirm:()=>{l(Hi(Z)),P()}})};o.useEffect(()=>{Pe!==""&&(ce.success("Document deleted successfully."),l(zi()),l(Zt(Ue)))},[Pe]);const tt=()=>{U(""),J("")},Re=N=>{if(!Ae.includes(N.FileExtension.toUpperCase())){q(N.ErrorMsg?"Invalid file format.":""),U(""),J("");return}const Z=N.Value.length-(N.Value.indexOf(",")+1),ie=N.Value.endsWith("==")?2:N.Value.endsWith("=")?1:0;if(Z*3/4-ie>De){q("File size should be less than 5 MB."),U(""),J("");return}U(N.Name),J(N.Value),q(N.ErrorMsg)},Oe=N=>{E(N),i(A??y.Name),Be(xe[N].Name),ve(xe[N].StandardwiseDocumentId),b(!0)},qe=()=>{b(!1),U(""),q(""),l(wn(We))};return o.useState(!1),o.useState([]),e.jsxs(z,{sx:{backgroundColor:"white",p:2},children:[e.jsx(Dn,{component:z,sx:{border:"1px solid #ddd",marginTop:2},children:e.jsxs(Pn,{"aria-label":"document information table",children:[e.jsx(On,{sx:{backgroundColor:N=>N.palette.secondary.main},children:e.jsxs(Dt,{children:[e.jsxs(te,{align:"center",sx:{paddingTop:"1.5px",paddingBottom:"1.5px",color:"white"},children:[e.jsx(H,{title:"Select All Applicable",children:e.jsx(he,{color:"primary",checked:me(),onClick:be})}),"Is Applicable?"]}),e.jsxs(te,{align:"center",sx:{paddingTop:"1.5px",paddingBottom:"1.5px",color:"white"},children:[e.jsx(H,{title:"Select All Submitted",children:e.jsx(he,{color:"primary",checked:j(),onClick:F})}),"Is Submitted?"]}),e.jsx(te,{align:"left",sx:{paddingTop:"1.5px",paddingBottom:"1.5px",color:"white"},children:"Document Name"}),e.jsx(te,{align:"center",sx:{paddingTop:"1.5px",paddingBottom:"1.5px",color:"white"},children:"Upload Attachment"}),e.jsx(te,{align:"center",sx:{paddingTop:"1.5px",paddingBottom:"1.5px",color:"white"},children:"Attachment Count"})]})}),e.jsx(Mn,{children:a==null?void 0:a.map((N,Z)=>e.jsxs(Dt,{sx:{backgroundColor:N.IsSubmissionMandatory!=="0"?"#EFDCC9":"inherit"},children:[e.jsx(te,{align:"center",sx:{textTransform:"capitalize",width:"250px",paddingTop:"1.5px",paddingBottom:"1.5px"},children:e.jsx(he,{color:"primary",checked:N.IsApplicable,onChange:()=>_(N.StandardwiseDocumentId)})}),e.jsx(te,{align:"center",sx:{textTransform:"capitalize",width:"250px",paddingTop:"1.5px",paddingBottom:"1.5px"},children:e.jsx(he,{color:"primary",checked:N.IsSubmitted,onChange:()=>pe(N.StandardwiseDocumentId)})}),e.jsx(te,{align:"left",sx:{textTransform:"capitalize",width:"250px",paddingTop:"1.5px",paddingBottom:"1.5px"},children:N.Name}),e.jsx(te,{align:"center",sx:{textTransform:"capitalize",width:"250px",paddingTop:"1.5px",paddingBottom:"1.5px"},children:e.jsx(X,{color:"primary",onClick:()=>Oe(Z),children:e.jsx(Vo,{})})}),e.jsxs(te,{align:"center",sx:{textTransform:"capitalize",width:"250px",paddingTop:"1.5px",paddingBottom:"1.5px"},children:[e.jsx(Q,{variant:"body1",children:N.DocumentCount})," "]})]},N.StandardwiseDocumentId))})]})}),e.jsxs(Pt,{open:g,maxWidth:"md",fullWidth:!0,onClose:qe,PaperProps:{sx:{borderRadius:"15px"}},children:[e.jsxs(Ot,{sx:{bgcolor:"#223354"},children:[e.jsx(H,{title:"Upload / Delete document(s).",placement:"bottom-end",children:e.jsx(X,{sx:{color:"white",position:"absolute",top:"-1px",right:"40px"},children:e.jsx(ta,{})})}),e.jsx(En,{onClick:qe,sx:{color:"white",borderRadius:"7px",position:"absolute",top:"5px",right:"8px",cursor:"pointer","&:hover":{color:"red"}}})]}),e.jsx(Mt,{children:e.jsxs(z,{children:[e.jsx(Q,{variant:"h2",sx:{pt:2,pl:1},children:"Upload Documents"}),e.jsx(z,{sx:{background:"white",top:"1px",alignItems:"center",pl:1,pr:2,pt:2},children:e.jsxs(s,{container:!0,spacing:2,children:[e.jsx(s,{item:!0,xs:4,children:e.jsx(h,{fullWidth:!0,label:e.jsx(e.Fragment,{children:"Student Name"}),sx:{bgcolor:"#F0F0F0",width:"100%","& .MuiInputBase-input":{cursor:"default"}},value:Object.keys($).length>0?$==null?void 0:$.UserName:"",InputProps:{readOnly:!0},inputProps:{style:{color:"rgb(0, 0, 0)"}}})}),e.jsx(s,{item:!0,xs:4,children:e.jsx(h,{fullWidth:!0,label:e.jsx(e.Fragment,{children:"Document Name"}),InputLabelProps:{shrink:!0},sx:{bgcolor:"#F0F0F0",width:"100%"},value:Object.keys($).length>0?$==null?void 0:$.DocumentName:"",size:"medium",InputProps:{readOnly:!0},inputProps:{style:{color:"rgb(0, 0, 0)"}}})}),e.jsx(s,{item:!0,xs:4,children:e.jsx(z,{sx:{display:"flex",alignItems:"center",ml:.7,width:"calc(100% + 1px)",position:"relative"},children:e.jsx(Rn,{ValidFileTypes:Ae,MaxfileSize:De,FileName:W,ChangeFile:Re,FileLabel:"Upload Document ",width:"100%",height:"52px",FilePath:ae.length>0?ae.Text2:"",errorMessage:ue,isMandatory:!0})})})]})})]})}),e.jsx(z,{sx:{backgroundColor:"white",pl:3.8,pr:3.8},children:ae.length>0?e.jsx(Ho,{HeaderArray:Se,ItemList:ae,clickDelete:Je,clickView:He,isDeletePermission:""}):e.jsx(Q,{variant:"h6",align:"center",color:"blue",sx:{textAlign:"center",marginTop:1,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white"},children:"No record found."})}),e.jsxs(wt,{sx:{py:2,px:3},children:[e.jsx(Fe,{color:"error",onClick:qe,children:"Cancel"}),e.jsx(Fe,{onClick:ut,sx:{color:"green","&:hover":{color:"green",backgroundColor:Xe[100]}},disabled:!!ue,children:"Upload"})]})]})]})},Tl=({data:a,clickView:n,onEdit:l,onDelete:S})=>(o.useEffect(()=>{},[a]),e.jsx("div",{children:e.jsx(Dn,{children:e.jsxs(Pn,{"aria-label":"simple table",sx:{border:f=>`1px solid ${f.palette.grey[300]}`,overflow:"hidden"},children:[e.jsx(On,{children:e.jsxs(Dt,{sx:{background:f=>f.palette.secondary.main,color:f=>f.palette.common.white},children:[e.jsx(te,{sx:{color:"white"},children:"Class"}),e.jsx(te,{sx:{color:"white"},children:"Date"}),e.jsx(te,{sx:{color:"white"},children:"Description"}),e.jsx(te,{sx:{color:"white"},children:"Attachment"}),e.jsx(te,{sx:{color:"white"},children:"Edit"}),e.jsx(te,{sx:{color:"white"},children:"Delete"})]})}),e.jsx(Mn,{children:a.map((f,y)=>e.jsxs(Dt,{children:[e.jsx(te,{sx:{py:1},children:f.Text1}),e.jsx(te,{sx:{py:1},children:f.Text2.split(" ")[0]}),e.jsx(te,{sx:{py:1},children:f.Text3}),e.jsx(te,{sx:{pr:8,textTransform:"capitalize",paddingTop:"2.5px",paddingBottom:"2.5px"},align:"center",children:e.jsx(H,{title:"View",children:e.jsx(kn,{onClick:()=>n(f.Text4),sx:{color:"#223354","&:hover":{color:"#223354",bgcolor:"grey.300",cursor:"pointer"}}})})}),e.jsx(te,{sx:{py:1},children:e.jsx(X,{color:"primary",onClick:()=>l(f.Id),children:e.jsx(Ji,{})})}),e.jsx(te,{sx:{py:1},children:e.jsx(X,{sx:{color:"#38548A	","&:hover":{color:"red",backgroundColor:lt[100]}},onClick:()=>S(f.Id),children:e.jsx(Qe,{})})})]},y))})]})})})),Gl=({admission:a,onChange:n,invalidFields:l,unacceptableFields:S})=>{var be,j,F,Se;const f=et(),y=ze(),{standardId:C,DivisionId:p,YearWise_Student_Id:w,SchoolWise_Student_Id:L,StandardDivision:A}=y.state||{};let{AssignedDate:B}=kt();B=Fn(B);const m=localStorage.getItem("SchoolId");o.useEffect(()=>{},[a]);const v=O(I=>I.StudentUI.ISFeeAreaNames),c=O(I=>I.StudentUI.ISDisabilitiesDropdown),u=O(I=>I.StudentUI.ISResidenceTypesDropdown),M=O(I=>I.StudentUI.ISFeeRuleConcession),P=O(I=>I.StudentUI.ISSecondlang),g=O(I=>I.StudentUI.ISThirdLang),b=O(I=>I.StudentUI.ISUserRoles),x=O(I=>I.StudentUI.ISStaffName),E=O(I=>I.StudentUI.ISAnyExamPublished),W=E==null?void 0:E[0],U=W==null?void 0:W.IsExamPublishedStatus,Y=O(I=>I.ProgressReportNew.IsGetSchoolSettings),J=((be=Y==null?void 0:Y.GetSchoolSettingsResult)==null?void 0:be.IsRTEApplicable)||!1,ue=((j=Y==null?void 0:Y.GetSchoolSettingsResult)==null?void 0:j.ShowDayBoardingOptionOnStudentsScreen)||!1,q=((F=Y==null?void 0:Y.GetSchoolSettingsResult)==null?void 0:F.IsConcessionApplicable)||!1,ye=((Se=Y==null?void 0:Y.GetSchoolSettingsResult)==null?void 0:Se.IsAdditionalFieldsApplicable)||!1,i={asSchoolId:Number(localStorage.getItem("localSchoolId"))},T={asSchoolId:Number(localStorage.getItem("localSchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asYearwiseStudentId:w},Be={asSchoolId:Number(localStorage.getItem("localSchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asStandardId:C,asDivisionId:p,asIsExamPublished:0},je=I=>{try{if(I.includes("-")){const[ne,$,ae]=I.split(" ")[0].split("-");if(ne.length===2)return`${ae}-${$}-${ne}`}return new Date(I).toISOString().split("T")[0]}catch{return""}},ve={asSchoolId:Number(localStorage.getItem("localSchoolId")),dateTime:je(a.joiningDate)||"2014-06-09",asDivisionId:p,asStandardId:C};o.useEffect(()=>{f(qi(i)),f(Ki(T)),f(Xi(Be)),f(Qi(ve))},[]),o.useEffect(()=>{const I={asSchoolId:Number(localStorage.getItem("localSchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asUserRoleId:Number(a.staffUserRole)};f($i(I))},[a.staffUserRole]);const[Ae,De]=o.useState({userName:!1,formNumber:!1,registrationNumber:!1,admissionDate:!1,joiningDate:!1,studentRollNumber:!1,rteCategory:!1,rteApplicationForm:!1}),[xe,We]=o.useState("");o.useState(B==null?new Date().toISOString().split("T")[0]:na(B));const _=I=>{const{name:K,value:ne,type:$,checked:ae,files:Pe}=I.target;let ge;$==="checkbox"?ge=ae:$==="file"?ge=Pe?Pe[0]:null:ge=ne,n(K,ge),De({...Ae,[K]:!1})},pe=I=>K=>{n(I,K)},me={S_SELECT:"Select",S_ZERO:"0"};return e.jsxs(z,{sx:{backgroundColor:"white",p:2},children:[xe&&e.jsx(s,{item:!0,xs:12,children:e.jsx(Bn,{severity:xe.includes("successfully")?"success":"error",children:xe})}),e.jsxs(s,{container:!0,spacing:2,children:[e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"userName",label:e.jsx("span",{children:"User Name"}),variant:"outlined",value:a.userName,onChange:_,disabled:!0,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(Ne,{control:e.jsx(he,{name:"sendSMS",checked:a.sendSMS,onChange:_}),label:"Send SMS of User Name and Password"})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(Ne,{control:e.jsx(he,{name:"newAdmission",checked:a.newAdmission,onChange:_,disabled:!0}),label:"New Admission"})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(Ne,{control:e.jsx(he,{name:"isRTEApplicable",checked:a.isRTEApplicable,onChange:_,disabled:!(J&&a.isRTEApplicable===!0)}),label:"Is RTE Applicable?"})}),a.isRTEApplicable&&e.jsxs(s,{container:!0,spacing:2,pt:2,pl:2,children:[e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(fe,{sx:{minWidth:"300px"},ItemList:J?c:[],onChange:I=>n("rteCategory",J?I:"0"),defaultValue:a.rteCategory,label:"RTE Category",size:"medium",disabled:!J})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"rteApplicationForm",label:"RTE Application Form No.",value:a.rteApplicationForm,onChange:_,fullWidth:!0,disabled:!J})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"annualIncome",label:"Annual Income",value:a.annualIncome!==null&&J?a.annualIncome:"0",onChange:_,fullWidth:!0,disabled:!J})}),e.jsx(s,{item:!0,xs:6,mt:1.5,children:e.jsxs(Q,{variant:"h5",color:"textSecondary",children:[e.jsx("b",{children:"Note:"})," Student marked as RTE (Right To Education) will get 100% concession on the school fees."]})})]}),a.isRTEStudent&&a.rteCategoryId===2&&e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"amount",label:"Amount",value:a.amount,onChange:_,fullWidth:!0})}),e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(h,{name:"formNumber",label:e.jsxs("span",{children:["Form Number ",parseInt(m)===71&&e.jsx("span",{style:{color:"red"},children:" *"})]}),variant:"outlined",value:a.formNumber,onChange:_,fullWidth:!0,inputProps:{maxLength:15}}),e.jsx(V,{Error:parseInt(m)===71&&l.find(I=>I.field==="formNumber")?"Form Number should not be blank.":""})]}),e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(H,{title:"Valid Prefix(s): No Prefix, PP",children:e.jsx(h,{name:"registrationNumber",label:e.jsxs("span",{style:{display:"flex",alignItems:"center"},children:["Registration Number ",(parseInt(m)===18||parseInt(m)===122)&&e.jsx("span",{style:{color:"red"},children:" *"}),e.jsx(X,{size:"small",sx:{ml:.5},children:e.jsx(Jo,{fontSize:"small",color:"primary"})})]}),variant:"outlined",value:a.registrationNumber,defaultValue:a.registrationNumber,onChange:_,sx:{cursor:"pointer"},fullWidth:!0,inputProps:{maxLength:15}})}),e.jsx(V,{Error:l.find(I=>I.field==="registrationNumber")?"Registration Number should not be blank.":S.find(I=>I.field==="registrationNumber")?"Registration number should not be zero.":""})]}),e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(Ze,{DateValue:a.admissionDate,onDateChange:pe("admissionDate"),size:"medium",label:"Admission Date",error:"",helperText:"",maxDate:we().format("YYYY-MM-DD")}),e.jsx(V,{Error:l.find(I=>I.field==="admissionDate")?"Addmission date should not be blank.":""})]}),e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(Ze,{DateValue:a.joiningDate,onDateChange:pe("joiningDate"),size:"medium",label:"Joining Date",error:"",helperText:"",maxDate:new Date}),e.jsx(V,{Error:l.find(I=>I.field==="joiningDate")?"Joining date should not be blank.":""})]}),e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(h,{name:"studentRollNumber",label:e.jsxs("span",{children:["Student Roll Number ",e.jsx("span",{style:{color:"red"},children:" *"})]}),variant:"outlined",value:a.studentRollNumber,onChange:_,fullWidth:!0,inputProps:{maxLength:3}}),e.jsx(V,{Error:l.find(I=>I.field==="studentRollNumber")?"Student Roll Number should not be blank.":""})]}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"UDISENumber",label:"Student UDISE number",variant:"outlined",value:a.UDISENumber,onChange:_,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"boardRegistrationNumber",label:"Board Registration Number",variant:"outlined",value:a.boardRegistrationNumber,onChange:_,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"saralNo",label:"Saral No",variant:"outlined",value:a.saralNo,onChange:_,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"studentNationalCode",label:"Student National Code",variant:"outlined",value:"",fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"PENNumber",label:"PEN Number",variant:"outlined",value:a.PENNumber,onChange:_,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(fe,{sx:{minWidth:"300px"},ItemList:P.length>0?P:[{Text:me.S_SELECT,Value:me.S_ZERO}],onChange:I=>n("secondlanguage",I),label:"Second Language",defaultValue:a.secondlanguage,size:"medium",disabled:U})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(fe,{sx:{minWidth:"300px"},ItemList:g.length>0?g:[{Text:me.S_SELECT,Value:me.S_ZERO}],onChange:I=>n("thirdlanguage",I),label:"Third Language",defaultValue:a.thirdlanguage,size:"medium",disabled:U})}),q&&e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(fe,{sx:{minWidth:"300px"},ItemList:q==!0?M:[],onChange:I=>n("applicableRules",I),label:"Applicable Rule",defaultValue:q==!0?a.applicableRules:"0",size:"medium"})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(fe,{sx:{minWidth:"300px"},ItemList:b,onChange:I=>n("staffUserRole",I),defaultValue:a.staffUserRole,label:"Staff User Role",size:"medium"})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(fe,{sx:{minWidth:"300px"},ItemList:x,onChange:I=>n("staffName",I),label:"Staff Name",defaultValue:a.staffName,size:"medium"})}),ye&&e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(fe,{sx:{minWidth:"300px"},ItemList:u,onChange:I=>n("residenceTypes",I),defaultValue:a.residenceTypes,label:" Residence Type",size:"medium"})}),m&&parseInt(m)===122&&e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(fe,{sx:{minWidth:"15vw"},ItemList:v,onChange:I=>{m&&parseInt(m)===122?n("feeAreaNames",I):n("feeAreaNames","0")},label:"Fee Area Name",defaultValue:m&&parseInt(m)===122?a.feeAreaNames:"0",size:"medium"})}),ye&&e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"RFID",label:"RFID",variant:"outlined",value:a.RFID,onChange:_,fullWidth:!0,inputProps:{maxLength:50}})}),q&&e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(Ne,{control:e.jsx(he,{name:"isStaffKid",checked:a.isStaffKid,onChange:_}),label:"Is Staff Kid?"})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(Ne,{control:e.jsx(he,{name:"isOnlyChild",checked:a.isOnlyChild,onChange:_}),label:"Is Only Child?"})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(Ne,{control:e.jsx(he,{name:"isRiseAndShine",checked:a.isRiseAndShine,onChange:_}),label:"Is Rise & Shine?"})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(Ne,{control:e.jsx(he,{name:"isMinority",checked:a.isMinority,onChange:_}),label:"Is Minority?"})}),ue&&e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(Ne,{control:e.jsx(he,{name:"isForDayBoarding",checked:a.isForDayBoarding,onChange:_}),label:"Is For Day Boarding?"})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(Ne,{control:e.jsx(he,{name:"isDayBoardingFeePaid",checked:a.isDayBoardingFeePaid,onChange:_}),label:"Is Day Boarding Fee Paid?"})}),ye&&e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(Ne,{control:e.jsx(he,{name:"isHandicapped",checked:a.isHandicapped,onChange:_}),label:"Is Handicapped?"})})]})]})},Ll=({family:a,onChange:n,invalidFields:l,unacceptableFields:S})=>{var be;const f=ze(),{Name:y,standardId:C,DivisionId:p,YearWise_Student_Id:w,SchoolWise_Student_Id:L,StandardDivision_Id:A}=f.state||{},B=et(),m=localStorage.getItem("SchoolId");let{AssignedDate:v}=kt();v=Fn(v),o.useState({fatherQualification:"",fatherEmail:"",fatherOfficeName:"",fatherOfficeAddress:"",fatherDesignation:"",fatherDOB:"",fatherPhoto:"",fatherWeight:0,fatherHeight:0,fatherBloodGroup:"",fatherAadharCard:"",fatherAnnualIncome:0,motherOccupation:"",motherQualification:"",motherEmail:"",motherOfficeName:"",motherOfficeAddress:"",motherDesignation:"",motherDOB:"",motherPhoto:"",motherWeight:0,motherHeight:0,motherAadharCard:"",motherBloodGroup:"",motherAnnualIncome:0,marriageAnniversaryDate:"",localGuardianPhoto:"",familyMonthlyIncome:0,cwsn:"",relativeFullName:"",residencePhoneNumber:"",neighbourPhoneNumber:"",officePhoneNumber:"",familyPhoto:"",name1:"",name2:"",age1:0,age2:0,institution1:"",institution2:"",standard1:"",standard2:""}),o.useEffect(()=>{},[a]),o.useState(v==null?new Date().toISOString().split("T")[0]:na(v));const c=O(j=>j.ProgressReportNew.IsGetSchoolSettings),u=((be=c==null?void 0:c.GetSchoolSettingsResult)==null?void 0:be.IsAdditionalFieldsApplicable)||!1;O(j=>j.StudentUI.ISGetStudentAdditionalDetails),O(j=>j.StudentUI.ISGetSingleStudentDetails);const M=O(j=>j.StudentUI.ISDeleteFamilyPhotoMsg),P=O(j=>j.StudentUI.ISDeleteFatherPhotoMsg),g=O(j=>j.StudentUI.ISDeleteMotherPhotoMsg),b=O(j=>j.StudentUI.ISDeleteGuardianPhotoMsg),x=j=>{const{name:F,value:Se,type:I,checked:K,files:ne}=j.target;let $;I==="checkbox"?$=K:I==="file"?$=ne?ne[0]:null:$=Se,n(F,$),me({...pe,[F]:!1})},E=j=>F=>{n(j,F)};function W(j){const F=j.target.value.replace(/\D/g,"");!isNaN(Number(F))&&F.length<=10&&n(j.target.name,F)}const{showAlert:U,closeAlert:Y}=o.useContext(Et),J=["JPG","PNG","BMP","JPEG"],ue=3e6,[q,ye]=o.useState({fatherPhoto:"",motherPhoto:"",localGuardianPhoto:"",familyPhoto:""});o.useState("");const[i,T]=o.useState(""),[Be,je]=o.useState(""),ve=(j,F,Se)=>{const I={...q};if(!J.includes(F.FileExtension.toUpperCase())){I[j]=F.ErrorMsg?"Invalid file format.":"",ye(I),n(j,F.Name),T("");return}const K=F.Value.length-(F.Value.indexOf(",")+1),ne=F.Value.endsWith("==")?2:F.Value.endsWith("=")?1:0;if(K*3/4-ne>ue){I[j]="File size should be less than 3 MB.",ye(I),n(j,F.Name),T("");return}I[j]="",n(j,F.Name),T(F.Value),n(Se,F.Value),je(F.FileExtension),ye(I)},Ae=()=>{a.fatherPhoto!==""&&window.open(localStorage.getItem("SiteURL")+"RITeSchool/DOWNLOADS/Parent Photos/"+a.fatherPhoto)},De=()=>{window.open(localStorage.getItem("SiteURL")+"RITeSchool/DOWNLOADS/Parent Photos/"+a.motherPhoto)},xe=()=>{window.open(localStorage.getItem("SiteURL")+"RITeSchool/DOWNLOADS/Parent Photos/"+a.localGuardianPhoto)},We=()=>{a.familyPhoto!==""&&window.open(localStorage.getItem("SiteURL")+"RITeSchool/DOWNLOADS/Family Photos/"+a.familyPhoto)},_=(j,F,Se)=>{const I=a[j],K={asSchoolId:Number(localStorage.getItem("localSchoolId")),asStudentId:L,asUpdatedById:Number(localStorage.getItem("UserId"))};I&&U({title:"Please Confirm",message:Se,variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onCancel:()=>Y(),onConfirm:()=>{B(F(K)),Y()}})};o.useEffect(()=>{M!==""&&(ce.success(M),n("familyPhoto",""),B(St())),P!==""&&(ce.success(P),n("fatherPhoto",""),B(St())),g!==""&&(ce.success(g),n("motherPhoto",""),B(St())),b!==""&&(ce.success(b),n("localGuardianPhoto",""),B(St()))},[M,P,g,b]);const[pe,me]=o.useState({fatherQualification:!1,fatherEmail:!1,fatherOfficeName:!1,fatherOfficeAddress:!1,fatherDesignation:!1,fatherDOB:!1,fatherPhoto:!1,fatherWeight:!1,fatherHeight:!1,fatherBloodGroup:!1,fatherAadharCard:!1,fatherAnnualIncome:!1,motherOccupation:!1,motherQualification:!1,motherEmail:!1,motherOfficeName:!1,motherOfficeAddress:!1,motherDesignation:!1,motherDOB:!1,motherPhoto:!1,motherWeight:!1,motherHeight:!1,motherAadharCard:!1,motherBloodGroup:!1,motherAnnualIncome:!1,marriageAnniversaryDate:!1,localGuardianPhoto:!1,familyMonthlyIncome:!1,cwsn:!1,relativeFullName:!1,residencePhoneNumber:!1,familyPhoto:!1});return e.jsxs(z,{sx:{backgroundColor:"white",p:2},children:[u&&e.jsxs(e.Fragment,{children:[e.jsx(Q,{variant:"h4",color:"initial",py:1,pb:1,children:"Father's Details"}),e.jsxs(s,{container:!0,spacing:2,children:[e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"fatherOccupation",label:"Father Occupation ",variant:"outlined",value:a.fatherOccupation,onChange:x,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"fatherQualification",label:"Father Qualification ",variant:"outlined",value:a.fatherQualification,onChange:x,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"fatherEmail",label:"Father E-mail",variant:"outlined",value:a.fatherEmail,onChange:x,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"fatherOfficeName",label:"Father Office Name",variant:"outlined",value:a.fatherOfficeName,onChange:x,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"fatherOfficeAddress",label:"Father Office Address",variant:"outlined",value:a.fatherOfficeAddress,onChange:x,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"fatherDesignation",label:"Father Designation",variant:"outlined",value:a.fatherDesignation,onChange:x,fullWidth:!0})}),e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(Ze,{DateValue:a.fatherDOB,onDateChange:E("fatherDOB"),size:"medium",label:"Father's DOB",mandatory:parseInt(m)===18,error:"",helperText:"",maxDate:we().format("YYYY-MM-DD")}),e.jsx(V,{Error:parseInt(m,10)===18&&l.find(j=>j.field==="fatherDOB")?"Father's Date of Birth should not be blank.":S.find(j=>j.field==="fatherDOB")?"Father DOB should be less than student's DOB.":""})]}),e.jsx(s,{item:!0,xs:8,sm:4,md:2.5,lg:2,children:e.jsx(jt,{ValidFileTypes:J,MaxfileSize:ue,FileName:a.fatherPhoto,ChangeFile:j=>ve("fatherPhoto",j,"fatherBinaryPhoto"),FileLabel:"Father Photo",width:"100%",height:"52px",isMandatory:!1,errorMessage:q.fatherPhoto})}),e.jsx(s,{item:!0,xs:4,sm:1.7,md:1.5,lg:1,children:e.jsxs(e.Fragment,{children:[e.jsx(H,{title:"View",children:e.jsx(X,{onClick:Ae,sx:{color:"#223354",mt:.7,"&:hover":{color:"#223354",cursor:"pointer"}},children:e.jsx(It,{})})}),e.jsx(H,{title:"Delete",children:e.jsx(X,{onClick:()=>_("fatherPhoto",Zi,"Are you sure you want to delete father photo?"),sx:{color:"#223354",mt:.7,"&:hover":{color:"red",backgroundColor:lt[100]}},children:e.jsx(Qe,{})})})]})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"fatherWeight",label:"Father Weight (Kg)",variant:"outlined",type:"number",value:a.fatherWeight,onChange:x,fullWidth:!0,inputProps:{min:0,step:"0.1"}})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"fatherHeight",label:"Father Height (Cm)",variant:"outlined",type:"number",value:a.fatherHeight,onChange:x,fullWidth:!0,inputProps:{min:0,step:"0.1"}})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"fatherBloodGroup",label:"Father Blood Group",variant:"outlined",value:a.fatherBloodGroup,onChange:x,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"fatherAadharCard",label:"Father Aadhar Card Number",variant:"outlined",value:a.fatherAadharCard,onChange:x,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"fatherAnnualIncome",label:"Father Annual Income",variant:"outlined",value:a.fatherAnnualIncome,onChange:x,inputProps:{maxLength:10,pattern:"[0-9]*",inputMode:"numeric"},onInput:j=>{const F=j.target;F.value=F.value.replace(/\D/g,"").slice(0,10)},fullWidth:!0})})]})]}),u&&e.jsxs(e.Fragment,{children:[e.jsx(Q,{variant:"h4",color:"initial",pt:2,pb:1,children:"Mother's Details"}),e.jsxs(s,{container:!0,spacing:2,children:[e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"motherOccupation",label:"Mother Occupation",variant:"outlined",value:a.motherOccupation,onChange:x,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"motherQualification",label:"Mother Qualification",variant:"outlined",value:a.motherQualification,onChange:x,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"motherEmail",label:"Mother E-mail",variant:"outlined",value:a.motherEmail,onChange:x,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"motherOfficeName",label:"Mother Office Name",variant:"outlined",value:a.motherOfficeName,onChange:x,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"motherOfficeAddress",label:"Mother Office Address",variant:"outlined",value:a.motherOfficeAddress,onChange:x,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"motherDesignation",label:"Mother Designation",variant:"outlined",value:a.motherDesignation,onChange:x,fullWidth:!0})}),e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(Ze,{DateValue:a.motherDOB,onDateChange:E("motherDOB"),size:"medium",label:"Mother's DOB",mandatory:parseInt(m)===18,maxDate:new Date,error:"",helperText:""}),e.jsx(V,{Error:parseInt(m,10)===18&&l.find(j=>j.field==="motherDOB")?"Mother's Date of Birth should not be blank.":S.find(j=>j.field==="motherDOB")?"Mother's DOB should be less than student's DOB.":""})]}),e.jsx(s,{item:!0,xs:8,sm:4,md:2.5,lg:2,children:e.jsx(jt,{ValidFileTypes:J,MaxfileSize:ue,FileName:a.motherPhoto,ChangeFile:j=>ve("motherPhoto",j,"motherBinaryPhoto"),FileLabel:"Mother Photo",width:"100%",height:"52px",isMandatory:!1,errorMessage:q.motherPhoto})}),e.jsx(s,{item:!0,xs:4,sm:1.7,md:1.5,lg:1,children:e.jsxs(e.Fragment,{children:[e.jsx(H,{title:"View",children:e.jsx(X,{onClick:De,sx:{color:"#223354",mt:.7,"&:hover":{color:"#223354",cursor:"pointer"}},children:e.jsx(It,{})})}),e.jsx(H,{title:"Delete",children:e.jsx(X,{onClick:()=>_("motherPhoto",eo,"Are you sure you want to delete mother photo?"),sx:{color:"#223354",mt:.7,"&:hover":{color:"red",backgroundColor:lt[100]}},children:e.jsx(Qe,{})})})]})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"motherWeight",label:"Mother Weight (Kg)",variant:"outlined",type:"number",value:a.motherWeight,onChange:x,fullWidth:!0,inputProps:{min:0,step:"0.1"}})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"motherHeight",label:"Mother Height (Cm)",variant:"outlined",type:"number",value:a.motherHeight,onChange:x,fullWidth:!0,inputProps:{min:0,step:"0.1"}})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"motherBloodGroup",label:"Mother Blood Group",variant:"outlined",value:a.motherBloodGroup,onChange:x,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"motherAadharCard",label:"Mother Aadhar Card Number",variant:"outlined",value:a.motherAadharCard,onChange:x,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"motherAnnualIncome",label:"Mother Annual Income",variant:"outlined",value:a.motherAnnualIncome,onChange:x,fullWidth:!0,inputProps:{maxLength:10,pattern:"[0-9]*",inputMode:"numeric"},onInput:j=>{const F=j.target;F.value=F.value.replace(/\D/g,"").slice(0,10)}})})]})]}),e.jsxs(s,{container:!0,spacing:2,pt:2,pb:1,children:[u&&e.jsxs(e.Fragment,{children:[e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(Ze,{DateValue:a.marriageAnniversaryDate,onDateChange:E("marriageAnniversaryDate"),size:"medium",label:"Marriage Anniversary Date",mandatory:parseInt(m)===18,error:"",helperText:"",maxDate:new Date}),e.jsx(V,{Error:parseInt(m,10)===18&&l.find(j=>j.field==="marriageAnniversaryDate")?"Marriage Anniversary Date should not be blank.":(()=>{const j=S.find(F=>F.field==="marriageAnniversaryDate");if(j)switch(j.code){case"F":return"Marriage Anniversary Date should be greater than Father's DOB.";case"M":return"Marriage Anniversary Date should be greater than Mother's DOB.";case"S":return"Marriage Anniversary Date should be less than Student's DOB.";default:return""}return""})()})]}),e.jsx(s,{item:!0,xs:8,sm:4,md:2.5,lg:2,children:e.jsx(jt,{ValidFileTypes:J,MaxfileSize:ue,FileName:a.localGuardianPhoto,ChangeFile:j=>ve("localGuardianPhoto",j,"localGuardianBinaryPhoto"),FileLabel:"Local Guadian Photo",width:"100%",height:"52px",isMandatory:!1,errorMessage:q.localGuardianPhoto})}),e.jsx(s,{item:!0,xs:4,sm:1.7,md:1.5,lg:1,children:e.jsxs(e.Fragment,{children:[e.jsx(H,{title:"View",children:e.jsx(X,{onClick:xe,sx:{color:"#223354",mt:.7,"&:hover":{color:"#223354",cursor:"pointer"}},children:e.jsx(It,{})})}),e.jsx(H,{title:"Delete",children:e.jsx(X,{onClick:()=>_("localGuardianPhoto",to,"Are you sure you want to delete guardian Photo?"),sx:{color:"#223354",mt:.7,"&:hover":{color:"red",backgroundColor:lt[100]}},children:e.jsx(Qe,{})})})]})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"familyMonthlyIncome",label:"Family Monthly Income",variant:"outlined",value:a.familyMonthlyIncome,onChange:x,inputProps:{pattern:"[0-9]*",inputMode:"numeric"},onInput:j=>{const F=j.target;F.value=F.value.replace(/\D/g,"")},fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"cwsn",label:"CWSN",variant:"outlined",value:a.cwsn,onChange:x,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"relativeFullName",label:"Relative Full Name",variant:"outlined",value:a.relativeFullName,onChange:x,fullWidth:!0})})]}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"residencePhoneNumber",label:"Residence Phone Number",variant:"outlined",value:a.residencePhoneNumber,onChange:W,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"neighbourPhoneNumber",label:"Neighbour's Phone Number",variant:"outlined",value:a.neighbourPhoneNumber,onChange:W,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"officePhoneNumber",label:"Office Phone Number",variant:"outlined",value:a.officePhoneNumber,onChange:W,fullWidth:!0})}),e.jsx(s,{item:!0,xs:8,sm:4,md:2.5,lg:2,children:e.jsx(jt,{ValidFileTypes:J,MaxfileSize:ue,FileName:a.familyPhoto,ChangeFile:j=>ve("familyPhoto",j,"familyBinaryPhoto"),FileLabel:"Family Photo",width:"100%",height:"52px",isMandatory:!1,errorMessage:q.familyPhoto})}),e.jsx(s,{item:!0,xs:4,sm:1.7,md:1.5,lg:1,children:e.jsxs(e.Fragment,{children:[e.jsx(H,{title:"View",children:e.jsx(X,{onClick:We,sx:{color:"#223354",mt:.7,"&:hover":{color:"#223354",cursor:"pointer"}},children:e.jsx(It,{})})}),e.jsx(H,{title:"Delete",children:e.jsx(X,{onClick:()=>_("familyPhoto",ao,"Are you sure you want to delete family photo?"),sx:{color:"#223354",mt:.7,"&:hover":{color:"red",backgroundColor:lt[100]}},children:e.jsx(Qe,{})})})]})})]}),u&&e.jsxs(e.Fragment,{children:[e.jsx(Q,{variant:"h4",color:"initial",pt:2,pb:1,children:"Details of Brothers and Sisters of the Student"}),e.jsxs(s,{container:!0,spacing:2,sx:{pb:2},children:[e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"name1",label:"Name",variant:"outlined",value:a.name1,onChange:x,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"age1",label:"Age",variant:"outlined",value:a.age1,onChange:x,fullWidth:!0,inputProps:{min:0,maxLength:2,pattern:"[0-9]*",inputMode:"numeric"},onInput:j=>{const F=j.target;F.value=F.value.replace(/\D/g,"").slice(0,2)}})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"institution1",label:"Institution",variant:"outlined",value:a.institution1,onChange:x,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"standard1",label:"Standard",variant:"outlined",value:a.standard1,onChange:x,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"name2",label:"Name",variant:"outlined",value:a.name2,onChange:x,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"age2",label:"Age",variant:"outlined",value:a.age2,onChange:x,inputProps:{min:0,maxLength:2,pattern:"[0-9]*",inputMode:"numeric"},onInput:j=>{const F=j.target;F.value=F.value.replace(/\D/g,"").slice(0,2)},fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"institution2",label:"Institution",variant:"outlined",value:a.institution2,onChange:x,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"standard2",label:"Standard",variant:"outlined",value:a.standard2,onChange:x,fullWidth:!0})})]})]})]})};var fa={},Yl=Ye;Object.defineProperty(fa,"__esModule",{value:!0});var zn=fa.default=void 0,zl=Yl(Le()),Vl=e,Hl=(0,zl.default)((0,Vl.jsx)("path",{d:"M3 4V1h2v3h3v2H5v3H3V6H0V4h3zm3 6V7h3V4h7l1.83 2H21c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V10h3zm7 9c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-3.2-5c0 1.77 1.43 3.2 3.2 3.2s3.2-1.43 3.2-3.2-1.43-3.2-3.2-3.2-3.2 1.43-3.2 3.2z"}),"AddAPhoto");zn=fa.default=Hl;var Vn={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Cn=$e.createContext&&$e.createContext(Vn),Jl=["attr","size","title"];function ql(a,n){if(a==null)return{};var l=Kl(a,n),S,f;if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(a);for(f=0;f<y.length;f++)S=y[f],!(n.indexOf(S)>=0)&&Object.prototype.propertyIsEnumerable.call(a,S)&&(l[S]=a[S])}return l}function Kl(a,n){if(a==null)return{};var l={};for(var S in a)if(Object.prototype.hasOwnProperty.call(a,S)){if(n.indexOf(S)>=0)continue;l[S]=a[S]}return l}function Ft(){return Ft=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var S in l)Object.prototype.hasOwnProperty.call(l,S)&&(a[S]=l[S])}return a},Ft.apply(this,arguments)}function An(a,n){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(a);n&&(S=S.filter(function(f){return Object.getOwnPropertyDescriptor(a,f).enumerable})),l.push.apply(l,S)}return l}function Bt(a){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?arguments[n]:{};n%2?An(Object(l),!0).forEach(function(S){Xl(a,S,l[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):An(Object(l)).forEach(function(S){Object.defineProperty(a,S,Object.getOwnPropertyDescriptor(l,S))})}return a}function Xl(a,n,l){return n=Ql(n),n in a?Object.defineProperty(a,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[n]=l,a}function Ql(a){var n=$l(a,"string");return typeof n=="symbol"?n:n+""}function $l(a,n){if(typeof a!="object"||!a)return a;var l=a[Symbol.toPrimitive];if(l!==void 0){var S=l.call(a,n||"default");if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function Hn(a){return a&&a.map((n,l)=>$e.createElement(n.tag,Bt({key:l},n.attr),Hn(n.child)))}function pa(a){return n=>$e.createElement(Zl,Ft({attr:Bt({},a.attr)},n),Hn(a.child))}function Zl(a){var n=l=>{var{attr:S,size:f,title:y}=a,C=ql(a,Jl),p=f||l.size||"1em",w;return l.className&&(w=l.className),a.className&&(w=(w?w+" ":"")+a.className),$e.createElement("svg",Ft({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},l.attr,S,C,{className:w,style:Bt(Bt({color:a.color||l.color},l.style),a.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),y&&$e.createElement("title",null,y),a.children)};return Cn!==void 0?$e.createElement(Cn.Consumer,null,l=>n(l)):n(Vn)}function ed(a){return pa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(a)}function td(a){return pa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"},child:[]}]})(a)}function ad(a){return pa({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(a)}var Jn={exports:{}};(function(a,n){(function(S,f){a.exports=f(o)})(ro,function(l){return function(S){var f={};function y(C){if(f[C])return f[C].exports;var p=f[C]={i:C,l:!1,exports:{}};return S[C].call(p.exports,p,p.exports,y),p.l=!0,p.exports}return y.m=S,y.c=f,y.d=function(C,p,w){y.o(C,p)||Object.defineProperty(C,p,{enumerable:!0,get:w})},y.r=function(C){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})},y.t=function(C,p){if(p&1&&(C=y(C)),p&8||p&4&&typeof C=="object"&&C&&C.__esModule)return C;var w=Object.create(null);if(y.r(w),Object.defineProperty(w,"default",{enumerable:!0,value:C}),p&2&&typeof C!="string")for(var L in C)y.d(w,L,(function(A){return C[A]}).bind(null,L));return w},y.n=function(C){var p=C&&C.__esModule?function(){return C.default}:function(){return C};return y.d(p,"a",p),p},y.o=function(C,p){return Object.prototype.hasOwnProperty.call(C,p)},y.p="",y(y.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(S,f,y){y.r(f);var C=y("react"),p=function(){var m=function(v,c){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,M){u.__proto__=M}||function(u,M){for(var P in M)M.hasOwnProperty(P)&&(u[P]=M[P])},m(v,c)};return function(v,c){m(v,c);function u(){this.constructor=v}v.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)}}(),w=function(){return w=Object.assign||function(m){for(var v,c=1,u=arguments.length;c<u;c++){v=arguments[c];for(var M in v)Object.prototype.hasOwnProperty.call(v,M)&&(m[M]=v[M])}return m},w.apply(this,arguments)},L=function(m,v){var c={};for(var u in m)Object.prototype.hasOwnProperty.call(m,u)&&v.indexOf(u)<0&&(c[u]=m[u]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var M=0,u=Object.getOwnPropertySymbols(m);M<u.length;M++)v.indexOf(u[M])<0&&Object.prototype.propertyIsEnumerable.call(m,u[M])&&(c[u[M]]=m[u[M]]);return c};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(v){var c=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return c?new Promise(function(u,M){c.call(navigator,v,u,M)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function A(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var B=function(m){p(v,m);function v(c){var u=m.call(this,c)||this;return u.canvas=null,u.ctx=null,u.requestUserMediaId=0,u.unmounted=!1,u.state={hasUserMedia:!1},u}return v.prototype.componentDidMount=function(){var c=this,u=c.state,M=c.props;if(this.unmounted=!1,!A()){M.onUserMediaError("getUserMedia not supported");return}u.hasUserMedia||this.requestUserMedia(),M.children&&typeof M.children!="function"&&console.warn("children must be a function")},v.prototype.componentDidUpdate=function(c){var u=this.props;if(!A()){u.onUserMediaError("getUserMedia not supported");return}var M=JSON.stringify(c.audioConstraints)!==JSON.stringify(u.audioConstraints),P=JSON.stringify(c.videoConstraints)!==JSON.stringify(u.videoConstraints),g=c.minScreenshotWidth!==u.minScreenshotWidth,b=c.minScreenshotHeight!==u.minScreenshotHeight;(P||g||b)&&(this.canvas=null,this.ctx=null),(M||P)&&(this.stopAndCleanup(),this.requestUserMedia())},v.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},v.stopMediaStream=function(c){c&&(c.getVideoTracks&&c.getAudioTracks?(c.getVideoTracks().map(function(u){c.removeTrack(u),u.stop()}),c.getAudioTracks().map(function(u){c.removeTrack(u),u.stop()})):c.stop())},v.prototype.stopAndCleanup=function(){var c=this.state;c.hasUserMedia&&(v.stopMediaStream(this.stream),c.src&&window.URL.revokeObjectURL(c.src))},v.prototype.getScreenshot=function(c){var u=this,M=u.state,P=u.props;if(!M.hasUserMedia)return null;var g=this.getCanvas(c);return g&&g.toDataURL(P.screenshotFormat,P.screenshotQuality)},v.prototype.getCanvas=function(c){var u=this,M=u.state,P=u.props;if(!this.video||!M.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var g=this.video.videoWidth,b=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var x=g/b;g=P.minScreenshotWidth||this.video.clientWidth,b=g/x,P.minScreenshotHeight&&b<P.minScreenshotHeight&&(b=P.minScreenshotHeight,g=b*x)}this.canvas=document.createElement("canvas"),this.canvas.width=(c==null?void 0:c.width)||g,this.canvas.height=(c==null?void 0:c.height)||b,this.ctx=this.canvas.getContext("2d")}var E=this,W=E.ctx,U=E.canvas;return W&&U&&(U.width=(c==null?void 0:c.width)||U.width,U.height=(c==null?void 0:c.height)||U.height,P.mirrored&&(W.translate(U.width,0),W.scale(-1,1)),W.imageSmoothingEnabled=P.imageSmoothing,W.drawImage(this.video,0,0,(c==null?void 0:c.width)||U.width,(c==null?void 0:c.height)||U.height),P.mirrored&&(W.scale(-1,1),W.translate(-U.width,0))),U},v.prototype.requestUserMedia=function(){var c=this,u=this.props,M=function(b,x){var E={video:typeof x<"u"?x:!0};u.audio&&(E.audio=typeof b<"u"?b:!0),c.requestUserMediaId++;var W=c.requestUserMediaId;navigator.mediaDevices.getUserMedia(E).then(function(U){c.unmounted||W!==c.requestUserMediaId?v.stopMediaStream(U):c.handleUserMedia(null,U)}).catch(function(U){c.handleUserMedia(U)})};if("mediaDevices"in navigator)M(u.audioConstraints,u.videoConstraints);else{var P=function(b){return{optional:[{sourceId:b}]}},g=function(b){var x=b.deviceId;return typeof x=="string"?x:Array.isArray(x)&&x.length>0?x[0]:typeof x=="object"&&x.ideal?x.ideal:null};MediaStreamTrack.getSources(function(b){var x=null,E=null;b.forEach(function(Y){Y.kind==="audio"?x=Y.id:Y.kind==="video"&&(E=Y.id)});var W=g(u.audioConstraints);W&&(x=W);var U=g(u.videoConstraints);U&&(E=U),M(P(x),P(E))})}},v.prototype.handleUserMedia=function(c,u){var M=this.props;if(c||!u){this.setState({hasUserMedia:!1}),M.onUserMediaError(c);return}this.stream=u;try{this.video&&(this.video.srcObject=u),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(u)})}M.onUserMedia(u)},v.prototype.render=function(){var c=this,u=this,M=u.state,P=u.props,g=P.audio;P.forceScreenshotSourceSize;var b=P.disablePictureInPicture;P.onUserMedia,P.onUserMediaError,P.screenshotFormat,P.screenshotQuality,P.minScreenshotWidth,P.minScreenshotHeight,P.audioConstraints,P.videoConstraints,P.imageSmoothing;var x=P.mirrored,E=P.style,W=E===void 0?{}:E,U=P.children,Y=L(P,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),J=x?w(w({},W),{transform:(W.transform||"")+" scaleX(-1)"}):W,ue={getScreenshot:this.getScreenshot.bind(this)};return C.createElement(C.Fragment,null,C.createElement("video",w({autoPlay:!0,disablePictureInPicture:b,src:M.src,muted:!g,playsInline:!0,ref:function(q){c.video=q},style:J},Y)),U&&U(ue))},v.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},v}(C.Component);f.default=B},react:function(S,f){S.exports=l}}).default})})(Jn);var rd=Jn.exports;const sd=so(rd),nd=({personal:a,onChange:n,invalidFields:l,unacceptableFields:S})=>{var vt;o.useState(!1);const f=o.useRef(null),y=localStorage.getItem("SchoolId"),C=ze(),{Name:p,standardId:w,DivisionId:L,YearWise_Student_Id:A,SchoolWise_Student_Id:B,StandardDivision_Id:m}=C.state||{},v=localStorage.getItem("studentData"),c=JSON.parse(v),u=et();o.useState(!1);const{AssignedDate:M}=kt();o.useState({firstName:"",middleName:"",lastName:"",motherName:"",motherNumber:"",parentName:"",fatherNumber:"",email:"",parentOccupation:"",address:"",city:"",state:"",pin:"",placeOfBirth:"",birthTaluka:"",birthDistrict:"",birthState:"",religion:"",casteAndSubCaste:"",category:"",dateOfBirth:"",nationality:"",motherTongue:"",gender:"",bloodGroup:"",aadharCardNumber:"",nameOnAadharCard:"",aadharCardScanCopy:"",photoFilePath:null,photoFilePathImage:null});const{showAlert:P,closeAlert:g}=o.useContext(Et);o.useEffect(()=>{console.log("🎈🎈invalidFields",l)},[a]),o.useState({firstName:!1,motherName:!1,motherNumber:!1,parentName:!1,email:!1,address:!1,city:!1,state:!1,pin:!1,placeOfBirth:!1,casteAndSubCaste:!1,dateOfBirth:!1,nationality:!1,motherTongue:!1});const b=o.useRef(null),[x,E]=o.useState("");o.useState(M==null?new Date().toISOString().split("T")[0]:na(M));const W=O(d=>d.StudentUI.ISOcupationDropdown),U=O(d=>d.StudentUI.ISCategoryDropdown),Y=O(d=>d.StudentUI.ISDeleteStudentPhotoMsg),J=O(d=>d.StudentUI.ISDeleteAadharCardDetailsMsg),ue=O(d=>d.ProgressReportNew.IsGetSchoolSettings),q=((vt=ue==null?void 0:ue.GetSchoolSettingsResult)==null?void 0:vt.CompareAgeTillDate)||"",ye=(d,G)=>{if(!d||!G)return"";const[oe,ee,_e]=d.split("-"),Te=`${_e}-${ee}-${oe}`,Me=new Date(Te),le=new Date(G);let at=le.getFullYear()-Me.getFullYear(),ft=le.getMonth()-Me.getMonth();return ft<0&&(at-=1,ft+=12),`${at} Year(s) ${ft} Month(s)`},i=a.dateOfBirth?ye(a.dateOfBirth,q):"",T=d=>{const{name:G,value:oe,type:ee,checked:_e,files:Te}=d.target;let Me;ee==="checkbox"?Me=_e:ee==="file"?Me=Te?Te[0]:null:Me=oe,n(G,Me)},Be=d=>G=>{n(d,G)};function je(d){const G=d.target.value.replace(/\D/g,""),{name:oe}=d.target;!isNaN(Number(G))&&G.length<=10&&n(oe,G)}const ve=["JPG","JPEG"],Ae=1e6,[De,xe]=o.useState(!1),[We,_]=o.useState(!0),[pe,me]=o.useState(null),[be,j]=o.useState(null),[F,Se]=o.useState(""),[I,K]=o.useState("");o.useEffect(()=>{if(a!=null&&a.photoFilePath&&(a!=null&&a.photoFilePathImage)){const d=a.photoFilePathImage,G=a.photoFilePath.split("/").pop(),ee=`data:image/${a.photoFilePath.split(".").pop()};base64,${a.photoFilePathImage}`;j({src:ee,name:G,base64:d})}},[a.photoFilePath,a.photoFilePathImage]);const ne=d=>{const G=new Date().toISOString();return`${a.firstName}_${d}_${G}.jpg`},$=(d,G)=>{const oe=d.split(",")[1],ee=ne(G);Se(ee),j({src:d,name:ee,base64:oe}),n("photoFilePath",ee),n("photoFilePathImage",oe)},ae=d=>{const G=d.target.files[0];if(G){K("");const oe=G.name.split(".").pop().toUpperCase();if(!ve.includes(oe)){K("Invalid file format."),n("photoFilePath","");return}if(G.size>Ae){K("File size should be less than 1 MB."),n("photoFilePath",""),b.current.value="";return}const ee=new FileReader;ee.onloadend=()=>{me(ee.result),$(ee.result,"Selected")},ee.readAsDataURL(G)}},Pe=async()=>{try{(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(G=>G.stop()),xe(!0),_(!0),K("")}catch{K("Please allow camera access to use this feature")}},ge=async()=>{await Pe()},Ve=()=>{const d=f.current.getScreenshot();me(d),_(!0)},Ue=()=>{j(null),me(null),n("photoFilePath",""),b.current&&(b.current.value="")},ut=()=>{K(""),pe&&($(pe,"WebCam"),xe(!1))},He=()=>{_(!0),me(null),K("")},Je=()=>{xe(!1),_(!1),K("")},tt=()=>{const d={asSchoolId:Number(localStorage.getItem("localSchoolId")),asStudentId:B};a.photoFilePath&&P({title:"Please Confirm",message:"Are you sure you want to delete Student Photo?",variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onCancel:()=>{g()},onConfirm:()=>{u(io(d)),g()}})};o.useEffect(()=>{Y!==""&&(ce.success(Y),Ue(),u(St()))},[Y]);const Re=["PDF","JPG","PNG","BMP","JPEG"],Oe=3e6,[qe,N]=o.useState("");o.useState("");const[Z,ie]=o.useState(""),[mt,ht]=o.useState(""),Wt=d=>{const G=d.Value.length-(d.Value.indexOf(",")+1),oe=d.Value.endsWith("==")?2:d.Value.endsWith("=")?1:0,ee=G*3/4-oe;if(!Re.includes(d.FileExtension.toUpperCase())){N(d.ErrorMsg?"Invalid file format.":""),n("aadharCardScanCopy",""),ie("");return}if(ee>Oe){N("File size should be less than 3 MB."),n("aadharCardScanCopy",d.Name),ie("");return}N(d.ErrorMsg),n("aadharCardScanCopy",d.Name),ie(d.Value),n("aadharCardBase64URL",d.Value),ht(d.FileExtension)};let Ut=localStorage.getItem("SiteURL")+"RITeSchool/DOWNLOADS/Aadhar Cards/";const Ke=()=>{if(a.aadharCardScanCopy){const d=`${Ut}${a.aadharCardScanCopy}`;window.open(d,"_blank")}},_t=()=>{const d={asSchoolId:Number(y),asUserId:B??c.SchoolWise_Student_Id,asUpdatedById:Number(localStorage.getItem("UserId"))};a.aadharCardScanCopy&&P({title:"Please Confirm",message:"Are you sure you want to delete aadhar card photo?",variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onCancel:()=>{g()},onConfirm:()=>{u(oo(d)),g()}})};o.useEffect(()=>{J!==""&&(ce.success(J),n("aadharCardScanCopy",""),u(no()))},[J]);const Tt=[{Id:1,Name:"O+",Value:"O+"},{Id:2,Name:"A+",Value:"A+"},{Id:3,Name:"B+",Value:"B+"},{Id:4,Name:"AB+",Value:"AB+"},{Id:5,Name:"O-",Value:"O-"},{Id:6,Name:"A-",Value:"A-"},{Id:7,Name:"B-",Value:"B-"},{Id:8,Name:"AB-",Value:"AB-"}];return e.jsxs(z,{sx:{backgroundColor:"white",p:2},children:[x&&e.jsx(s,{item:!0,xs:12,children:e.jsx(Bn,{severity:x.includes("successfully")?"success":"error",children:x})}),e.jsxs(s,{container:!0,spacing:2,children:[e.jsx(s,{item:!0,xs:12,sm:9,children:e.jsxs(s,{container:!0,spacing:2,children:[e.jsxs(s,{item:!0,xs:12,sm:6,md:4,children:[e.jsx(h,{name:"firstName",label:e.jsxs("span",{children:["First Name ",e.jsx("span",{style:{color:"red"},children:" *"})]}),variant:"outlined",value:a.firstName,onChange:T,fullWidth:!0,inputProps:{maxLength:50}}),e.jsx(V,{Error:l.find(d=>d.field==="firstName")?"First Name should not be blank.":""})]}),a.middleName!==void 0&&e.jsx(s,{item:!0,xs:12,sm:6,md:4,children:e.jsx(h,{name:"middleName",label:"Middle Name",variant:"outlined",value:a.middleName,onChange:T,fullWidth:!0})}),a.lastName!==void 0&&e.jsx(s,{item:!0,xs:12,sm:6,md:4,children:e.jsx(h,{name:"lastName",label:"Last Name",variant:"outlined",value:a.lastName,onChange:T,fullWidth:!0})}),a.motherName!==void 0&&e.jsxs(s,{item:!0,xs:12,sm:6,md:4,children:[e.jsx(h,{name:"motherName",label:e.jsxs("span",{children:["Mother Name ",parseInt(y)===71&&e.jsx("span",{style:{color:"red"},children:" *"})]}),variant:"outlined",value:a.motherName,onChange:T,fullWidth:!0}),e.jsx(V,{Error:parseInt(y)===71&&l.find(d=>d.field==="motherName")?"Mother Name should not be blank.":""})]}),a.mobileNumber1!==void 0&&e.jsxs(s,{item:!0,xs:12,sm:6,md:4,children:[e.jsx(h,{name:"mobileNumber1",label:e.jsxs("span",{children:["Mobile No. 1 ",(parseInt(y)===18||parseInt(y)===122)&&e.jsx("span",{style:{color:"red"},children:" *"})]}),variant:"outlined",value:a.mobileNumber1,onChange:je,fullWidth:!0,inputProps:{maxLength:10}}),e.jsx(V,{Error:(parseInt(y)===18||parseInt(y)===122)&&l.find(d=>d.field==="mobileNumber1")?"Mobile Number should not be blank.":S.find(d=>d.field==="mobileNumber1")?"Mobile number must be 10 digits":""})]}),a.email!==void 0&&e.jsxs(s,{item:!0,xs:12,sm:6,md:4,children:[e.jsx(h,{name:"email",label:"E-mail",variant:"outlined",value:a.email,onChange:T,fullWidth:!0}),e.jsx(V,{Error:S.find(d=>d.field==="email")?"Please select a valid email address.":""})]}),a.parentName!==void 0&&e.jsxs(s,{item:!0,xs:12,sm:6,md:4,children:[e.jsx(h,{name:"parentName",label:e.jsxs("span",{children:["Parent Name ",e.jsx("span",{style:{color:"red"},children:" *"})]}),variant:"outlined",value:a.parentName,onChange:T,fullWidth:!0,inputProps:{maxLength:50}}),e.jsx(V,{Error:l.find(d=>d.field==="parentName")?"Parent Name should not be blank.":""})]}),a.mobileNumber2!==void 0&&e.jsxs(s,{item:!0,xs:12,sm:6,md:4,children:[e.jsx(h,{name:"mobileNumber2",label:e.jsxs("span",{children:["Mobile No. 2 ",parseInt(y)===71&&e.jsx("span",{style:{color:"red"},children:" *"})]}),variant:"outlined",value:a.mobileNumber2,onChange:je,fullWidth:!0}),e.jsx(V,{Error:l.find(d=>d.field==="mobileNumber2")?"Mobile Number should not be blank.":S.find(d=>d.field==="mobileNumber2")?"Mobile number must be 10 digits":""})]}),e.jsxs(s,{item:!0,xs:12,sm:6,md:4,children:[e.jsx(fe,{sx:{minWidth:{xs:"100%",sm:"22.9vw"}},ItemList:W,onChange:d=>n("parentOccupation",d),label:"Parent Occupation",mandatory:!0,defaultValue:a.parentOccupation,size:"medium"}),e.jsx(V,{Error:l.find(d=>d.field==="parentOccupation")?"Parent Occupation should not be blank.":""})]})]})}),e.jsxs(s,{item:!0,xs:12,sm:3,sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(H,{title:e.jsxs(e.Fragment,{children:["Upload or Capture an image file for student's photo ",e.jsx("br",{}),"(Max Height: 151px and Max Width: 112px) ",e.jsx("br",{}),"(Image size should not exceed 1 MB. Supported file formats are JPG, JPEG)"]}),placement:"top",children:e.jsx(z,{sx:{width:{xs:"80%",sm:"60%",md:"40%"},height:"160px",border:"2px dashed #ccc",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",flexDirection:"row"},children:be?e.jsx("img",{src:be.src,alt:be.name||"Uploaded Image",style:{objectFit:"cover",width:"100%",height:"100%"}}):e.jsx(dl,{style:{objectFit:"cover",fontSize:"4rem",color:"#ccc"}})})}),e.jsxs(s,{container:!0,spacing:2,sx:{justifyContent:"space-between",pl:{xs:2,sm:2,md:1}},children:[e.jsx(s,{item:!0,xs:12,sm:8,md:8,lg:8,sx:{display:"flex",justifyContent:"center"},children:e.jsx("input",{type:"file",ref:b,onChange:ae,style:{margin:"12px",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"}})}),e.jsx(s,{item:!0,xs:3,sm:2,sx:{display:"flex",justifyContent:"center"},children:e.jsx(X,{onClick:ge,children:e.jsx(H,{title:"Use Webcam",children:e.jsx(zn,{})})})}),e.jsx(s,{item:!0,xs:3,sm:2,sx:{display:"flex",justifyContent:"center"},children:e.jsx(H,{title:"Remove Photo",children:e.jsx("span",{children:e.jsx(X,{onClick:()=>tt(),disabled:(c==null?void 0:c.IsStudntDtailsScrn)===!0,sx:{color:"#223354",mt:.5,"&:hover":{color:"red",backgroundColor:"rgb(254, 226, 226)"}},children:e.jsx(Qe,{})})})})})]}),I&&e.jsx("p",{style:{color:"red",marginTop:"8px"},children:I})]}),e.jsx(s,{item:!0,xs:12,children:e.jsxs(s,{container:!0,spacing:2,children:[a.parentOccupation=="5"&&e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(h,{name:"otherOccupation",label:e.jsxs("span",{children:["Other Occupation ",a.parentOccupation==="5"&&e.jsx("span",{style:{color:"red"},children:"*"})]}),variant:"outlined",value:a.parentOccupation=="5"?a.otherOccupation:"",onChange:T,fullWidth:!0}),e.jsx(V,{Error:a.parentOccupation==="5"&&l.find(d=>d.field==="otherOccupation")?"Other Occupation should not be blank when Parent Occupation is Other.":""})]}),a.address!==void 0&&e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(h,{name:"address",label:e.jsxs("span",{children:["Address ",e.jsx("span",{style:{color:"red"},children:" *"})]}),variant:"outlined",value:a.address,onChange:T,fullWidth:!0,multiline:!0}),e.jsx(V,{Error:l.find(d=>d.field==="address")?"Address should not be blank.":""})]}),a.city!==void 0&&e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(h,{name:"city",label:e.jsxs("span",{children:["City ",e.jsx("span",{style:{color:"red"},children:" *"})]}),variant:"outlined",value:a.city,onChange:T,fullWidth:!0,inputProps:{maxLength:50}}),e.jsx(V,{Error:l.find(d=>d.field==="city")?"City name should not be blank.":""})]}),a.state!==void 0&&e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(h,{name:"state",label:e.jsxs("span",{children:["State ",e.jsx("span",{style:{color:"red"},children:" *"})]}),variant:"outlined",value:a.state,onChange:T,fullWidth:!0,inputProps:{maxLength:50}}),e.jsx(V,{Error:l.find(d=>d.field==="state")?"State Name should not be blank.":""})]}),a.pin!==void 0&&e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(h,{name:"pin",label:e.jsxs("span",{children:["PIN Code ",e.jsx("span",{style:{color:"red"},children:" *"})]}),variant:"outlined",value:a.pin,onChange:T,fullWidth:!0,inputProps:{maxLength:6,pattern:"[0-9]*",inputMode:"numeric"},onInput:d=>{const G=d.target;G.value=G.value.replace(/\D/g,"").slice(0,6)}}),e.jsx(V,{Error:l.find(d=>d.field==="pin")?"PIN Code should not be blank.":""})]}),a.dateOfBirth!==void 0&&e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(Ze,{DateValue:a.dateOfBirth,onDateChange:Be("dateOfBirth"),size:"medium",label:"Date of Birth",error:"",helperText:"",maxDate:new Date}),e.jsx(V,{Error:l.find(d=>d.field==="dateOfBirth")?"Date of Birth should not be blank.":""}),q&&e.jsxs(Q,{variant:"body2",sx:{marginTop:"8px",color:"gray"},children:[i??"--"," till ",new Date(q).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"2-digit"})]})]}),a.placeOfBirth!==void 0&&e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(h,{name:"placeOfBirth",label:e.jsxs("span",{children:["Place of Birth ",parseInt(y)!==122&&e.jsx("span",{style:{color:"red"},children:" *"})]}),variant:"outlined",value:a.placeOfBirth,onChange:T,fullWidth:!0,inputProps:{maxLength:50}}),e.jsx(V,{Error:l.find(d=>d.field==="placeOfBirth")?"Place of Birth should not be blank.":""})]}),a.birthTaluka!==void 0&&e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"birthTaluka",label:"Birth Taluka",variant:"outlined",value:a.birthTaluka,onChange:T,fullWidth:!0})}),a.birthDistrict!==void 0&&e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"birthDistrict",label:"Birth District",variant:"outlined",value:a.birthDistrict,onChange:T,fullWidth:!0})}),a.birthState!==void 0&&e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"birthState",label:"Birth State",variant:"outlined",value:a.birthState,onChange:T,fullWidth:!0})}),a.nationality!==void 0&&e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(h,{name:"nationality",label:e.jsxs("span",{children:["Nationality ",parseInt(y)===71&&e.jsx("span",{style:{color:"red"},children:" *"})]}),variant:"outlined",value:a.nationality,onChange:T,fullWidth:!0}),e.jsx(V,{Error:parseInt(y)===71&&l.find(d=>d.field==="nationality")?"Nationality field should not be blank.":""})]}),a.religion!==void 0&&e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"religion",label:"Religion",variant:"outlined",value:a.religion,onChange:T,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(fe,{sx:{minWidth:{xs:"100%",sm:"15vw"}},ItemList:U,onChange:d=>n("category",d),label:"Category",defaultValue:a.category,size:"medium"})}),e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(h,{name:"casteAndSubCaste",label:e.jsxs("span",{children:["Caste & Sub-Caste ",parseInt(y)!==122&&e.jsx("span",{style:{color:"red"},children:" *"})]}),variant:"outlined",value:a.casteAndSubCaste,onChange:T,fullWidth:!0,inputProps:{maxLength:50}}),e.jsx(V,{Error:l.find(d=>d.field==="casteAndSubCaste")?"Caste and Sub-Caste should not be blank.":""})]}),e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(h,{name:"motherTongue",label:e.jsxs("span",{children:["Mother Tongue ",parseInt(y)===71&&e.jsx("span",{style:{color:"red"},children:" *"})]}),variant:"outlined",value:a.motherTongue,onChange:T,fullWidth:!0,inputProps:{maxLength:50}}),e.jsx(V,{Error:parseInt(y)===71&&l.find(d=>d.field==="motherTongue")?"Mother Tongue should not be blank.":""})]}),a.gender!==void 0&&e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsxs(h,{name:"gender",label:"Gender",variant:"outlined",value:a.gender,onChange:T,fullWidth:!0,select:!0,children:[e.jsx(gn,{value:"M",children:"Male"}),e.jsx(gn,{value:"F",children:"Female"})]})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(fe,{sx:{minWidth:{xs:"100%",sm:"15vw"}},ItemList:Tt,onChange:d=>n("bloodGroup",d),label:"Blood Group",defaultValue:a.bloodGroup,size:"medium"})}),e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(h,{name:"aadharCardNumber",label:"Aadhar Card Number",variant:"outlined",value:a.aadharCardNumber,onChange:T,fullWidth:!0,inputProps:{maxLength:12,pattern:"[0-9]*",inputMode:"numeric"},onInput:d=>{const G=d.target;G.value=G.value.replace(/\D/g,"").slice(0,12)}}),e.jsx(V,{Error:S.find(d=>d.field==="aadharCardNumber")?"Aadhar Card Number should have 12 digits.":""})]}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(h,{name:"nameOnAadharCard",label:"Name on Aadhar Card",variant:"outlined",value:a.nameOnAadharCard,onChange:T,fullWidth:!0,inputProps:{maxLength:50}})}),e.jsx(s,{item:!0,xs:8,sm:2.3,md:2.5,lg:2,children:e.jsx(jt,{ValidFileTypes:Re,MaxfileSize:Oe,ChangeFile:Wt,FileName:a.aadharCardScanCopy,FileLabel:"Select Aadhar Card",width:"100%",height:"52px",isMandatory:!1,errorMessage:qe})}),e.jsx(s,{item:!0,xs:4,sm:1.7,md:1.5,lg:1,children:e.jsxs(e.Fragment,{children:[e.jsx(H,{title:"View",children:e.jsx(X,{onClick:Ke,sx:{color:"#223354",mt:.7,"&:hover":{color:"#223354",cursor:"pointer"}},children:e.jsx(It,{})})}),e.jsx(H,{title:"Delete",children:e.jsx(X,{onClick:_t,sx:{color:"#223354",mt:.7,"&:hover":{color:"red",backgroundColor:lt[100]}},children:e.jsx(Qe,{})})})]})})]})})]}),e.jsxs(Pt,{open:De,maxWidth:"md",fullWidth:!0,onClose:Je,PaperProps:{sx:{borderRadius:"15px"}},children:[e.jsx(Ot,{sx:{bgcolor:"#223354"},children:e.jsx(En,{onClick:Je,sx:{color:"white",borderRadius:"7px",position:"absolute",top:"5px",right:"8px",cursor:"pointer","&:hover":{color:"red"}}})}),e.jsx(Mt,{children:e.jsxs(z,{children:[e.jsx(Q,{variant:"h2",sx:{pt:2,pl:1},children:"Upload Photo"}),e.jsx(z,{sx:{background:"white",top:"1px",alignItems:"center",pl:1,pr:2,pt:2},children:e.jsxs(s,{container:!0,spacing:2,children:[e.jsx(s,{item:!0,xs:6,sx:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",p:2,border:2,borderColor:"gray.300",maxWidth:"100%",maxHeight:"100%",overflow:"hidden"},children:We?e.jsxs(e.Fragment,{children:[e.jsx(sd,{audio:!1,ref:f,screenshotFormat:"image/png",height:310,width:1280,onUserMediaError:d=>{console.error("Webcam error:",d),K("Unable to access webcam. Please check browser permissions."),_(!1)},style:{position:"relative",objectFit:"contain",borderRadius:"4%"}}),e.jsx(X,{onClick:Ve,sx:{position:"absolute",bottom:20,left:20,p:2,backgroundColor:"rgba(128, 128, 128, 0.5)",borderRadius:"50%",cursor:"pointer",zIndex:10},children:e.jsx(H,{title:"Capture Photo",children:e.jsx(ed,{})})}),e.jsx(X,{onClick:()=>_(!1),sx:{position:"absolute",bottom:20,right:20,p:2,backgroundColor:"rgba(128, 128, 128, 0.5)",borderRadius:"50%",cursor:"pointer",zIndex:10},children:e.jsx(H,{title:"Stop",children:e.jsx(ad,{})})})]}):e.jsx(X,{onClick:He,sx:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",p:2,backgroundColor:"rgba(128, 128, 128, 0.5)",borderRadius:"50%",cursor:"pointer"},children:e.jsx(H,{title:"Reload Camera",children:e.jsx(td,{})})})}),e.jsx(s,{item:!0,xs:6,sx:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",p:2,border:2,maxWidth:"100%",maxHeight:"100%",overflow:"auto"},children:pe&&e.jsx("img",{src:pe,alt:"Captured",style:{minWidth:"100%",minHeight:"100%",borderRadius:"4%",objectFit:"contain"}})})]})})]})}),e.jsxs(wt,{sx:{py:2,px:3},children:[e.jsx(Fe,{color:"error",onClick:Je,children:"Cancel"}),e.jsx(Fe,{onClick:ut,sx:{color:"green","&:hover":{color:"green",backgroundColor:Xe[100]}},disabled:!1,children:"Upload"})]})]})]})},id=({itemList:a,onItemsChange:n,resetTrigger:l})=>{const[S,f]=o.useState([]),[y,C]=o.useState(!0);o.useEffect(()=>{const A=a.map(B=>({...B,checked:B.checked||!0}));f(A),C(A),p(A)},[a]),o.useEffect(()=>{const A=a.map(B=>({...B,checked:!1}));f(A),C(!1),p(A)},[l]);const p=A=>{n&&n(A)},w=A=>{const B=S.map(v=>v.CommonFieldId===A?{...v,checked:!v.checked}:v);f(B),p(B);const m=B.every(v=>v.checked);C(m)},L=()=>{const A=!y;C(A);const B=S.map(m=>({...m,checked:A}));f(B),p(B)};return e.jsxs(z,{sx:{width:"100%"},children:[e.jsx(z,{sx:{width:"100%",py:.5,pl:1,background:A=>A.palette.secondary.main,color:A=>A.palette.common.white},children:e.jsx(Ne,{control:e.jsx(he,{checked:y,onChange:L,sx:{color:A=>A.palette.common.white}}),label:" Update Details to Sibling",sx:{"& .MuiFormControlLabel-label":{color:"white"}}})}),e.jsx(qo,{children:e.jsx(s,{container:!0,spacing:0,sx:{my:0,ml:0,border:A=>`1px solid ${A.palette.grey[300]}`},children:S.map(A=>e.jsx(s,{item:!0,xs:6,sx:{pl:1},children:e.jsx(Ne,{control:e.jsx(he,{checked:A.checked,onChange:()=>w(A.CommonFieldId),color:"primary"}),label:A.CommonFieldName})},A.commonFieldId))})})]})},od=()=>{var x;ze();const a=localStorage.getItem("studentData"),n=JSON.parse(a),[l,S]=o.useState(null),f=O(E=>E.Students.NavigationValues),y=n.Name??(f==null?void 0:f.Name);f==null||f.YearWise_Student_Id;const C=n.SchoolWise_Student_Id??(f==null?void 0:f.SchoolWise_Student_Id);f==null||f.DivisionId,f==null||f.standardId;const p=n.Enrolment_Number??(f==null?void 0:f.Enrolment_Number),w=n.StandardDivision_Id??(f==null?void 0:f.StandardDivision_Id),L=O(E=>E.StudentUI.ISGetSingleStudentDetails),A=O(E=>E.ProgressReportNew.IsGetSchoolSettings),B=L[0]||{},{Photo_File_Path:m,Photo_file_Path_Image:v,ConfirmedByText:c,UpdatedByText:u,AdmissionStandard:M,ResidenceName:P}=B,g=((x=A==null?void 0:A.GetSchoolSettingsResult)==null?void 0:x.ShowConfirmedByName)===!0;o.useEffect(()=>{if(m&&v){const W=`data:image/${m.split(".").pop()||"jpeg"};base64,${v}`;S({src:W,name:m.split("/").pop(),base64:v})}},[m,v]),o.useEffect(()=>{},[l]);const b=E=>{if(!E)return null;const W=E.split(" "),U=W.slice(0,2).join(" "),Y=W.slice(2).join(" ");return e.jsxs(Q,{variant:"body1",sx:{textAlign:"left"},children:[e.jsx("b",{children:U})," ",Y]})};return e.jsxs(s,{container:!0,spacing:2,sx:{padding:"1px"},children:[e.jsxs(s,{item:!0,xs:12,md:7,container:!0,alignItems:"center",sx:{flexDirection:{xs:"column",sm:"row"},textAlign:{xs:"center",sm:"left"}},children:[e.jsx(lo,{src:(l==null?void 0:l.src)||"/path/to/default-image.jpg",alt:(l==null?void 0:l.name)||"Student photo",sx:{width:{xs:100,sm:80},height:{xs:100,sm:80},marginRight:{xs:0,sm:"16px"},marginBottom:{xs:"16px",sm:0}}}),e.jsxs("div",{children:[e.jsx(Q,{variant:"h5",sx:{fontWeight:"bold"},children:y}),e.jsxs(Q,{variant:"subtitle1",children:["Class: ",w]}),e.jsxs(Q,{variant:"subtitle1",children:["Roll Number: ",C]}),e.jsxs(Q,{variant:"subtitle1",children:["Registration Number: ",p]})]})]}),e.jsx(s,{item:!0,xs:12,md:5,container:!0,direction:"column",justifyContent:"flex-start",alignItems:{xs:"center",sm:"flex-start"},sx:{mt:{xs:2,md:0}},children:g?e.jsxs(e.Fragment,{children:[c&&b(c),u&&b(u),M&&e.jsxs(Q,{variant:"body1",sx:{textAlign:{xs:"center",sm:"left"},fontSize:{xs:"0.9rem",sm:"1rem"},width:"100%"},children:[e.jsx("b",{children:"Admitted In:"})," ",M]}),P&&e.jsxs(Q,{variant:"body1",sx:{textAlign:{xs:"center",sm:"left"},fontSize:{xs:"0.9rem",sm:"1rem"},width:"100%"},children:[e.jsx("b",{children:"Residence Type:"})," ",P]})]}):u&&b(u)})]})},ld=({streamwiseSubject:a,onChange:n})=>{const l=et();ze().state;const f=localStorage.getItem("SchoolId"),y=sessionStorage.getItem("AcademicYearId");localStorage.getItem("UserId");const[C,p]=o.useState(!1),[w,L]=o.useState(!1);o.useState(""),o.useState({}),o.useEffect(()=>{console.log("5️⃣streamwiseSubject data from Parent",a)},[a]);const A=O(b=>b.StudentUI.ISStudentStreamDetails);console.log("4️⃣1️⃣IsShowStreamSection",A);const B=O(b=>b.StudentUI.ISGetAllStreams),m=O(b=>b.StudentUI.ISGetAllGroupsOfStream),v=O(b=>b.StudentUI.ISFillOptionalSubjects),c=O(b=>b.StudentUI.ISFillOptionalSubjectArts),u=O(b=>b.StudentUI.ISFillCompitativeExams);o.useEffect(()=>{var b,x;parseInt(f)===122&&(b=A[0])!=null&&b.IsSecondary&&!((x=A[0])!=null&&x.IsMidYear)&&L(!0)},[A]);const M={asSchoolId:Number(f)};o.useEffect(()=>{l(co(M))},[]),o.useEffect(()=>{if(w&&a.streamId){const b={asSchoolId:Number(f),asStreamId:Number(a.streamId)};l(uo(b)),a.streamId!=="3"&&n("optionalSubject2","")}},[a.streamId]);const P={asSchoolId:Number(f),asStreamGroupId:Number(a.groupId),asAcademicYearId:Number(y)};o.useEffect(()=>{l(mo(P))},[a.streamId,a.groupId]),o.useEffect(()=>{p(a.streamId==="3")},[a.streamId,a.optionalSubject2]),o.useEffect(()=>{if(m&&m.length===1){const b=m[0];n("groupId",b.Id)}},[m]);const g=b=>{const x=a.competitiveExams.includes(b)?a.competitiveExams.filter(E=>E!==b):[...a.competitiveExams,b];x.join(","),n("competitiveExams",x)};return e.jsx(z,{sx:{backgroundColor:"white",p:2},children:e.jsxs(s,{container:!0,spacing:2,children:[e.jsx(s,{item:!0,xs:3,children:e.jsx(fe,{sx:{minWidth:"300px"},defaultValue:a.streamId,ItemList:B,onChange:b=>n("streamId",b),label:"Stream",size:"medium"})}),e.jsx(s,{item:!0,xs:3,children:e.jsx(fe,{sx:{minWidth:"300px"},defaultValue:w?a.groupId:"",ItemList:m,onChange:b=>n("groupId",b),label:"Group",size:"medium"})}),e.jsx(s,{item:!0,xs:3,children:e.jsx(h,{name:"compulsorySubjects",label:"Compulsory Subjects",variant:"outlined",value:w?a.compulsorySubjects:"",InputProps:{readOnly:!0},fullWidth:!0})}),e.jsx(s,{item:!0,xs:3,children:e.jsx(fe,{sx:{minWidth:"300px"},defaultValue:w?a.optionalSubject1:"",ItemList:v,onChange:b=>n("optionalSubject1",b),label:"Optional Subject",size:"medium"})}),C&&e.jsx(s,{item:!0,xs:3,children:e.jsx(fe,{sx:{minWidth:"300px"},defaultValue:w?a.optionalSubject2:"",ItemList:c,onChange:b=>n("optionalSubject2",b),label:"Optional Subject Arts",size:"medium"})}),e.jsx(s,{item:!0,xs:3,sx:{ml:2},children:e.jsxs(z,{children:[e.jsx("div",{children:"Competitive Exams"}),u.map(b=>e.jsx(Ne,{control:e.jsx(he,{checked:w?a.competitiveExams.includes(b.Id):!1,onChange:()=>g(b.Id)}),label:b.Name},b.Id))]})})]})})},Md=()=>{var Fa,Ba,Ra,Ea,ka,Wa,Ua,_a,Ta,Ga,La,Ya,za,Va,Ha,Ja,qa,Ka,Xa,Qa,$a,Za,er,tr,ar,rr,sr,nr,ir,or,lr,dr,cr,ur,mr,hr,fr,pr,gr,xr,br,Sr,Ir,jr,vr,Nr,yr,Cr,Ar,Dr,Pr,Or,Mr,wr,Fr,Br,Rr,Er,kr,Wr,Ur,_r,Tr,Gr,Lr,Yr,zr,Vr,Hr,Jr,qr,Kr,Xr,Qr,$r,Zr,es,ts,as,rs,ss,ns,is,os,ls,ds,cs,us,ms,hs,fs,ps,gs,xs,bs,Ss,Is,js,vs,Ns,ys,Cs,As,Ds,Ps,Os,Ms,ws,Fs,Bs,Rs,Es,ks,Ws,Us,_s,Ts,Gs,Ls,Ys,zs,Vs,Hs,Js,qs,Ks,Xs,Qs,$s,Zs,en,tn,an,rn,sn,nn,on,ln,dn,cn,un,mn,hn,fn;const a=["JPG","JPEG","PNG","BMP","PDF"],n=et(),l=ze(),{Name:S,standardId:f,DivisionId:y,YearWise_Student_Id:C,SchoolWise_Student_Id:p,StandardDivision_Id:w,Enrolment_Number:L,Joining_Date:A,User_Id:B}=l.state||{},m=localStorage.getItem("SchoolId"),v=Number(sessionStorage.getItem("AcademicYearId")),c=sessionStorage.getItem("Id"),u=localStorage.getItem("UserId");+(localStorage.getItem("SchoolId")=="122");const M=localStorage.getItem("RoleName"),P=localStorage.getItem("studentData"),g=JSON.parse(P),b=g.User_Id??B,[x,E]=o.useState(0);o.useState(!1);const[W,U]=o.useState(!1),[Y,J]=o.useState(!1);o.useState(!1),o.useState(""),o.useState("");const{AssignedDate:ue,PageID:q}=kt(),ye=ho(),[i,T]=o.useState({admission:{userName:"",sendSMS:!1,newAdmission:!1,isRTEApplicable:!1,rteCategory:"",rteApplicationForm:"",annualIncome:"",formNumber:"",registrationNumber:"",admissionDate:"",joiningDate:"",studentRollNumber:"",UDISENumber:"",boardRegistrationNumber:"",saralNo:"",PENNumber:"",secondlanguage:"",thirdlanguage:"",applicableRules:"",staffUserRole:"",staffName:"",residenceTypes:"",feeAreaNames:"",RFID:"",isStaffKid:!1,isOnlyChild:!1,isRiseAndShine:!1,isMinority:!1,isForDayBoarding:!1,isDayBoardingFeePaid:!1,isHandicapped:!1,hidOldFeeAreaId:""},personal:{firstName:"",middleName:"",lastName:"",motherName:"",mobileNumber1:"",parentName:"",mobileNumber2:"",email:"",parentOccupation:"",otherOccupation:"",address:"",city:"",state:"",pin:"",placeOfBirth:"",birthTaluka:"",birthDistrict:"",birthState:"",religion:"",casteAndSubCaste:"",category:"",dateOfBirth:"",nationality:"",motherTongue:"",gender:"",bloodGroup:"",aadharCardNumber:"",nameOnAadharCard:"",aadharCardScanCopy:"",aadharCardBase64URL:"",photoFilePath:null,photoFilePathImage:null},family:{fatherOccupation:"",fatherQualification:"",fatherEmail:"",fatherOfficeName:"",fatherOfficeAddress:"",fatherDesignation:"",fatherDOB:"",fatherPhoto:"",fatherWeight:0,fatherHeight:0,fatherBloodGroup:"",fatherAadharCard:"",fatherAnnualIncome:0,motherOccupation:"",motherQualification:"",motherEmail:"",motherOfficeName:"",motherOfficeAddress:"",motherDesignation:"",motherDOB:"",motherPhoto:"",motherWeight:0,motherHeight:0,motherAadharCard:"",motherBloodGroup:"",motherAnnualIncome:0,marriageAnniversaryDate:"",localGuardianPhoto:"",familyMonthlyIncome:0,cwsn:"",relativeFullName:"",residencePhoneNumber:"",neighbourPhoneNumber:"",officePhoneNumber:"",familyPhoto:"",name1:"",name2:"",age1:0,age2:0,institution1:"",institution2:"",standard1:"",standard2:"",fatherBinaryPhoto:null,motherBinaryPhoto:null,localGuardianBinaryPhoto:null,familyBinaryPhoto:""},additional:{lastSchoolName:"",lastSchoolAddress:"",standard:"",schoolUDISENo:"",schoolBoardName:"",isRecognised:"",houseNumber:"",mainArea:"",subareaName:"",landmark:"",taluka:"",district:"",admissionStandard:"",admissionAcademicYear:"",previousMarksObtained:"",previousMarksOutOf:"",subjectNames:"",previousYearOfPassing:"",currentAcademicYear:"",currentStandard:""},streamwiseSubject:{streamId:"",groupId:"",compulsorySubjects:"",optionalSubject:"",optionalSubject1:"",optionalSubject2:"",competitiveExams:""}}),[Be,je]=o.useState(""),[ve,Ae]=o.useState(""),[De,xe]=o.useState(!1),[We,_]=o.useState(""),[pe,me]=o.useState([]),[be,j]=o.useState(1),[F,Se]=o.useState(""),[I,K]=o.useState(!1),[ne,$]=o.useState(!1),ae=O(t=>t.ProgressReportNew.IsGetSchoolSettings),Pe=((Fa=ae==null?void 0:ae.GetSchoolSettingsResult)==null?void 0:Fa.IsAdditionalFieldsApplicable)||!1,ge=((Ba=ae==null?void 0:ae.GetSchoolSettingsResult)==null?void 0:Ba.ShowDayBoardingOptionOnStudentsScreen)||!1,Ve=((Ra=ae==null?void 0:ae.GetSchoolSettingsResult)==null?void 0:Ra.IsRTEApplicable)||!1,[Ue,ut]=o.useState(0),[He,Je]=o.useState([]),[tt,Re]=o.useState(!1),[Oe,qe]=o.useState([]),N=t=>t?t.includes(" ")?new Date(t.split(" ")[0].split("-").reverse().join("-")):new Date(t.split("-").reverse().join("-")):null,Z={18:{admission:["registrationNumber","admissionDate","joiningDate","studentRollNumber"],personal:["firstName","mobileNumber1","parentName","parentOccupation","address","city","pin","state","dateOfBirth","placeOfBirth","casteAndSubCaste"],family:["fatherDOB","motherDOB","marriageAnniversaryDate"]},71:{admission:["formNumber","admissionDate","joiningDate","studentRollNumber"],personal:["firstName","motherName","parentName","mobileNumber2","parentOccupation","address","city","pin","state","dateOfBirth","placeOfBirth","nationality","casteAndSubCaste","motherTongue"]},122:{admission:["registrationNumber","admissionDate","joiningDate","studentRollNumber"],personal:["firstName","mobileNumber1","parentName","parentOccupation","address","city","pin","state","dateOfBirth"]}},ie=(t,r)=>{const D=Z[t],R=[];return Object.keys(D).forEach(k=>{D[k].forEach(re=>{var se;k==="family"&&Number(t)===18&&!Pe||(R.push({tab:k,field:re}),re==="parentOccupation"&&((se=r==null?void 0:r.personal)==null?void 0:se.parentOccupation)==="5"&&R.push({tab:"personal",field:"otherOccupation"}))})}),R},mt=(t,r)=>{const D=ie(t,r);let R=0;const k=[];return D.forEach(({tab:se,field:Ie})=>{var Ee;const Ce=(Ee=r[se])==null?void 0:Ee[Ie];["admissionDate","joiningDate","dateOfBirth","fatherDOB","motherDOB","marriageAnniversaryDate"].includes(Ie)?Ce&&we(Ce,"DD-MM-YYYY").isValid()?R++:k.push({tab:se,field:Ie}):Ce&&Ce!==""?R++:k.push({tab:se,field:Ie})}),{progress:(R/D.length*100).toFixed(0),invalidFields:k}};o.useEffect(()=>{const{progress:t,invalidFields:r}=mt(m,i),D=ht(i);ut(Number(t)),tt&&(Je(r),qe(D))},[m,i,tt]);const ht=t=>{const r=[],D=/^(?!.*\.\.)[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;if(t.admission&&(t.admission.registrationNumber&&/^0+$/.test(t.admission.registrationNumber)&&r.push({tab:"admission",field:"registrationNumber"}),t.admission.admissionDate&&t.personal.dateOfBirth)){const R=N(t.admission.admissionDate),k=N(t.personal.dateOfBirth);R&&k&&R<=k&&r.push({tab:"admission",field:"admissionDate",code:"DOB"})}if(t.personal&&(t.personal.mobileNumber1&&t.personal.mobileNumber1.length!==10&&r.push({tab:"personal",field:"mobileNumber1"}),t.personal.email&&!D.test(t.personal.email)&&r.push({tab:"personal",field:"email"}),t.personal.mobileNumber2&&t.personal.mobileNumber2.length!==10&&r.push({tab:"personal",field:"mobileNumber2"}),t.personal.aadharCardNumber&&t.personal.aadharCardNumber.length!==12&&r.push({tab:"personal",field:"aadharCardNumber"})),t.family&&t.personal){const R=N(t.personal.dateOfBirth),k=N(t.family.fatherDOB),re=N(t.family.motherDOB),se=N(t.family.marriageAnniversaryDate);R&&k&&R<=k&&r.push({tab:"family",field:"fatherDOB"}),re&&R&&R<=re&&r.push({tab:"family",field:"motherDOB"}),se&&(k&&se<=k&&r.push({tab:"family",field:"marriageAnniversaryDate",code:"F"}),re&&se<=re&&r.push({tab:"family",field:"marriageAnniversaryDate",code:"M"}),se&&se>=R&&r.push({tab:"family",field:"marriageAnniversaryDate",code:"S"}))}return r},Wt=mt(m,i);console.log("Invalid Fields:",Wt.invalidFields);const Ut=ht(i);console.log("Specific Invalid Fields:",Ut);const Ke=parseInt(m)===122&&ne?6:5,_t=(t,r)=>{E(Math.min(r,Ke-1))},Tt=()=>{E(t=>Math.min(t+1,Ke-1))},vt=()=>{E(t=>Math.max(t-1,0))};o.useEffect(()=>{x>=Ke&&E(Ke-1)},[m]),o.useEffect(()=>{l.state&&n(fo({Name:S,standardId:f,DivisionId:y,YearWise_Student_Id:C,SchoolWise_Student_Id:p,StandardDivision_Id:w,Enrolment_Number:L,Joining_Date:A}))},[S,f,y,C,p,w,L,A]);const d=O(t=>t.StudentUI.ISGetSingleStudentDetails);console.log("1️⃣USGetSingleStudentDetails",d);const G=O(t=>t.StudentUI.ISGetStudentAdditionalDetails);console.log("2️⃣GetStudentAdditionalDetails",G);const oe=O(t=>t.GetStandardwiseMinMaxDOB.IGetFormNumber),ee=O(t=>t.StudentUI.ISGetStudentDocuments),_e=O(t=>t.StudentUI.ISGetStudentStreamwiseSubjectDetails),Te=O(t=>t.StudentUI.ISStudentStreamDetails),Me=O(t=>t.StudentUI.ISReferenceMessages);O(t=>t.ExamResult.GetSMSTemplate);const le=d[0],at=(le==null?void 0:le.SiblingStudentName)||"",ft=(le==null?void 0:le.Rule_Id)??"0",pt=le!=null&&le.Joining_Date?we(le==null?void 0:le.Joining_Date,"DD-MM-YYYY HH:mm:ss").format("DD-MM-YYYY"):"",Nt=(Ea=i.admission)!=null&&Ea.joiningDate?we((ka=i.admission)==null?void 0:ka.joiningDate,"DD-MM-YYYY").format("DD-MM-YYYY"):"",qn=pt?we(pt,"DD-MM-YYYY").format("MMM"):"LOL",Kn=Nt?we(Nt,"DD-MM-YYYY").format("MMM"):"LOL";o.useEffect(()=>{ge&&_(le==null?void 0:le.IsForDayBoarding)},[ae,ge]),o.useEffect(()=>{if(d&&d.length>0||G&&Object.keys(G).length>0||oe&&oe.length>0){const t=d[0],r=G,D=oe[0];T(R=>({...R,admission:{...R.admission,userName:(t==null?void 0:t.User_Login)||"",newAdmission:(t==null?void 0:t.Is_New_Student)!=="False",isRTEApplicable:(t==null?void 0:t.Is_RTE_Student)!=="False",rteCategory:(t==null?void 0:t.RTECategoryId)||"",rteApplicationForm:(t==null?void 0:t.RTEApplicationFormNo)||"",annualIncome:(t==null?void 0:t.AnnualIncome)||"",formNumber:(D==null?void 0:D.FormNumber)||"",registrationNumber:(t==null?void 0:t.Enrolment_Number)||"0",admissionDate:(t==null?void 0:t.Admission_date)||"",joiningDate:(t==null?void 0:t.Joining_Date)||"",studentRollNumber:(t==null?void 0:t.Roll_No)||"",UDISENumber:(t==null?void 0:t.UDISENumber)||"",boardRegistrationNumber:(t==null?void 0:t.BoardRegistrationNo)||"",saralNo:(t==null?void 0:t.SaralNo)||"",PENNumber:(t==null?void 0:t.PENNumber)||"",secondlanguage:(t==null?void 0:t.SecondLanguageSubjectId)||"",thirdlanguage:(t==null?void 0:t.ThirdLanguageSubjectId)||"",applicableRules:(t==null?void 0:t.Rule_Id)||"0",staffUserRole:(t==null?void 0:t.ParentUserRoleId)||"",staffName:(t==null?void 0:t.ParentUserId)||"",residenceTypes:(t==null?void 0:t.ResidenceTypeId)||"",feeAreaNames:parseInt(m)===122?r==null?void 0:r.FeeAreaName:0,RFID:(r==null?void 0:r.RFID)||"",isStaffKid:(t==null?void 0:t.IsStaffKid)!=="False",isOnlyChild:(t==null?void 0:t.IsOnlyChild)!=="False",isRiseAndShine:(t==null?void 0:t.IsRiseAndShine)!=="False",isMinority:(t==null?void 0:t.Minority)!=="False",isForDayBoarding:(t==null?void 0:t.IsForDayBoarding)!=="False",isDayBoardingFeePaid:(t==null?void 0:t.IsDayBoardingFeePaid)!=="False",isHandicapped:(r==null?void 0:r.IsHandicapped)||!1,hidOldFeeAreaId:parseInt(m)===122?r==null?void 0:r.FeeAreaName:"0"},personal:{...R.personal,firstName:(t==null?void 0:t.First_Name)||"",middleName:(t==null?void 0:t.Middle_Name)||"",lastName:(t==null?void 0:t.Last_Name)||"",motherName:(t==null?void 0:t.Mother_Name)||"",mobileNumber1:(t==null?void 0:t.Mobile_Number)||"",parentName:(t==null?void 0:t.Parent_Name)||"",mobileNumber2:(t==null?void 0:t.Mobile_Number2)||"",email:(t==null?void 0:t.Email_Address)||"",parentOccupation:(t==null?void 0:t.Parent_Occupation)||"",otherOccupation:(t==null?void 0:t.Other_Occupation)||"",address:(t==null?void 0:t.Address)||"",city:(t==null?void 0:t.City)||"",state:(t==null?void 0:t.State)||"",pin:(t==null?void 0:t.Pincode)||"",placeOfBirth:(t==null?void 0:t.Birth_Place)||"",birthTaluka:r.BirthTaluka||"",birthDistrict:r.BirthDistrict||"",birthState:r.BirthState||"",religion:(t==null?void 0:t.Religion)||"",casteAndSubCaste:(t==null?void 0:t.CasteAndSubCaste)||"",category:(t==null?void 0:t.Category_Id)||"",dateOfBirth:(t==null?void 0:t.DOB)||"",nationality:(t==null?void 0:t.Nationality)||"",motherTongue:(t==null?void 0:t.Mother_Tongue)||"",gender:(t==null?void 0:t.Sex)||"",bloodGroup:(t==null?void 0:t.Blood_Group)||"",aadharCardNumber:(t==null?void 0:t.AadharCardNo)||"",nameOnAadharCard:(t==null?void 0:t.NameOnAadharCard)||"",aadharCardScanCopy:(t==null?void 0:t.AadharCard_Photo_Copy_Path)||"",photoFilePath:(t==null?void 0:t.Photo_File_Path)||null,photoFilePathImage:(t==null?void 0:t.Photo_file_Path_Image)||null},family:{...R.family,fatherOccupation:(r==null?void 0:r.FatherOccupation)||"",fatherQualification:(r==null?void 0:r.FatherQualification)||"",fatherEmail:(r==null?void 0:r.FatherEmail)||"",fatherOfficeName:(r==null?void 0:r.FatherOfficeName)||"",fatherOfficeAddress:(r==null?void 0:r.FatherOfficeAddress)||"",fatherDesignation:(r==null?void 0:r.FatherDesignation)||"",fatherDOB:(r==null?void 0:r.FatherDOB)||"",fatherPhoto:(r==null?void 0:r.FatherPhoto)||"",fatherWeight:(r==null?void 0:r.FatherWeight)||"",fatherHeight:(r==null?void 0:r.FatherHeight)||"",fatherBloodGroup:(r==null?void 0:r.FatherBloodGroup)||"",fatherAadharCard:(r==null?void 0:r.FatherAadharcardNo)||"",fatherAnnualIncome:(r==null?void 0:r.FatherAnnualIncome)||"",motherOccupation:(r==null?void 0:r.MotherOccupation)||"",motherQualification:(r==null?void 0:r.MotherQualification)||"",motherEmail:(r==null?void 0:r.MotherEmail)||"",motherOfficeName:(r==null?void 0:r.MotherOfficeName)||"",motherOfficeAddress:(r==null?void 0:r.MotherOfficeAddress)||"",motherDesignation:(r==null?void 0:r.MotherDesignation)||"",motherDOB:(r==null?void 0:r.MotherDOB)||"",motherPhoto:(r==null?void 0:r.MotherPhoto)||"",motherWeight:(r==null?void 0:r.MotherWeight)||"",motherHeight:(r==null?void 0:r.MotherHeight)||"",motherAadharCard:(r==null?void 0:r.MotherAadharcardNo)||"",motherBloodGroup:(r==null?void 0:r.MotherBloodGroup)||"",motherAnnualIncome:(r==null?void 0:r.MotherAnnualIncome)||"",marriageAnniversaryDate:(r==null?void 0:r.AnniversaryDate)||"",localGuardianPhoto:(r==null?void 0:r.GuardianPhoto)||"",familyMonthlyIncome:(r==null?void 0:r.FamilyMonthlyIncome)||"",cwsn:(r==null?void 0:r.CWSN)||"",relativeFullName:(r==null?void 0:r.RelativeName)||"",residencePhoneNumber:(t==null?void 0:t.Residence_Phone_Number)||"",neighbourPhoneNumber:(t==null?void 0:t.Neighbour_Number)||"",officePhoneNumber:(t==null?void 0:t.Office_Number)||"",familyPhoto:(t==null?void 0:t.Family_Photo_Copy_Path)||"",name1:(r==null?void 0:r.Name1)||"",name2:(r==null?void 0:r.Name2)||"",age1:(r==null?void 0:r.Age1)||"",age2:(r==null?void 0:r.Age2)||"",institution1:(r==null?void 0:r.Institution1)||"",institution2:(r==null?void 0:r.Institution2)||"",standard1:(r==null?void 0:r.StandardName1)||"",standard2:(r==null?void 0:r.StandardName2)||""},additional:{...R.additional,lastSchoolName:(t==null?void 0:t.LastSchoolName)||"",lastSchoolAddress:(t==null?void 0:t.LastSchoolAddress)||"",standard:(t==null?void 0:t.LastCompletedStd)||"",schoolUDISENo:(t==null?void 0:t.LastSchoolUDISENo)||"",schoolBoardName:(t==null?void 0:t.LastCompletedBoard)||"",isRecognised:(t==null?void 0:t.IsRecognisedBoard)==="True"?"Yes":"No",houseNumber:r.HouseNoPlotNo||"",mainArea:r.MainArea||"",subareaName:r.SubareaName||"",landmark:r.Landmark||"",taluka:r.Taluka||"",district:r.District||"",admissionStandard:r.AddmissionStandard||"",admissionAcademicYear:r.AddmissionAcademicYear||"",previousMarksObtained:r.PreviousMarksObtained||"",previousMarksOutOf:r.PreviousMarksOutOff||"",subjectNames:r.SubjectNames||"",previousYearOfPassing:r.PreviousYearOfPassing||"",currentAcademicYear:r.CurrentAcademicYear||"",currentStandard:r.CurrentStandard||""}}))}},[d,G,oe]),o.useEffect(()=>{if(_e&&_e.length>0){const t=_e[0];T(r=>{var D,R;return{...r,streamwiseSubject:{streamId:t.StreamId||"",groupId:t.GroupId||"",compulsorySubjects:t.CompulsorySubjects||"",optionalSubject:"",optionalSubject1:((D=t.OptionalSubjects)==null?void 0:D.split(",")[0])||"",optionalSubject2:((R=t.OptionalSubjects)==null?void 0:R.split(",")[1])||"",competitiveExams:t.CompitativeExam?t.CompitativeExam.split(","):[]}}})}},[_e]),o.useEffect(()=>{ee&&ee.length>0&&me(ee)},[ee]),o.useEffect(()=>{console.log("Nested Form🆕",i)},[i,pe]),o.useEffect(()=>{(async()=>{try{const r={asSchoolId:Number(m)},D={asSchoolId:Number(localStorage.getItem("localSchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asStandardId:f??(g==null?void 0:g.standardId),asDivisionId:y??(g==null?void 0:g.DivisionId)},R={asSchoolId:Number(localStorage.getItem("localSchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asStudentId:p??g.SchoolWise_Student_Id},k={asSchoolId:Number(localStorage.getItem("localSchoolId")),asStudentId:p??g.SchoolWise_Student_Id},re={asSchoolId:Number(localStorage.getItem("localSchoolId")),asStudentId:p??g.SchoolWise_Student_Id},se={asSchoolId:Number(localStorage.getItem("localSchoolId")),asStandardId:f??g.standardId,asStudentId:p??g.SchoolWise_Student_Id,asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId"))};await Promise.all([n(Co(r)),n(Ao(D)),n(Do(R)),n(Po(k)),n(Oo(re)),n(wn(se))])}catch(r){console.error("Failed to fetch data:",r)}})()},[]),o.useEffect(()=>{if(m&&parseInt(m)===122){const t={asSchoolId:Number(localStorage.getItem("localSchoolId"))};n(po(t))}},[m]),o.useEffect(()=>{if(m&&parseInt(m)===122){const t={asSchoolId:Number(localStorage.getItem("localSchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asStudentId:g.SchoolWise_Student_Id};n(go(t))}},[m]),o.useEffect(()=>{var t,r;parseInt(m)===122&&(t=Te[0])!=null&&t.IsSecondary&&!((r=Te[0])!=null&&r.IsMidYear)&&$(!0)},[Te]);const Ge=t=>{try{if(t.includes("-")){const[D,R,k]=t.split(" ")[0].split("-");if(D.length===2)return`${k}-${R}-${D}`}return new Date(t).toISOString().split("T")[0]}catch{return""}};function Xn(){const t=new Date,r=t.getFullYear(),D=String(t.getMonth()+1).padStart(2,"0"),R=String(t.getDate()).padStart(2,"0");return`${r}-${D}-${R}`}const Qn=["January","February","March","April","May","June","July","August","September","October","November","December"],Gt=t=>{const r=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],D=["Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],R=["","Ten","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];if(t<10)return r[t];if(t<20)return D[t-11];if(t<100)return R[Math.floor(t/10)]+(t%10?" "+r[t%10]:"");const k=Math.floor(t/100),re=t%100;return r[k]+" Hundred"+(re?" "+Gt(re):"")},$n=t=>{const r=t.split(" ")[0],[D,R,k]=r.split("-").map(Number),re=Gt(D),se=Qn[R-1],Ie=k%100,Ce=`Two Thousand ${Gt(Ie)}`;return`${re} ${se} ${Ce}`},de=O(t=>t.StudentUI.ISUpdateStudent),Lt=(de==null?void 0:de.aiTrackingId)||0,ga={asSchoolId:Number(localStorage.getItem("localSchoolId")),asStudentId:p??g.SchoolWise_Student_Id,asInsertedById:Number(c),asID:0,asAcademicYearId:v,asFormNumber:Number((Wa=i.admission)==null?void 0:Wa.formNumber)||0,asPhoto_file_Path:((Ua=i.personal)==null?void 0:Ua.photoFilePath)||"",asFirst_Name:((_a=i.personal)==null?void 0:_a.firstName)||"",asMiddle_Name:((Ta=i.personal)==null?void 0:Ta.middleName)||"",asLast_Name:((Ga=i.personal)==null?void 0:Ga.lastName)||"",asMother_Name:((La=i.personal)==null?void 0:La.motherName)||"",asBlood_Group:((Ya=i.personal)==null?void 0:Ya.bloodGroup)||"",asEnrolment_Number:((za=i.admission)==null?void 0:za.registrationNumber)||"",asParent_Name:((Va=i.personal)==null?void 0:Va.parentName)||"",asParent_Occupation:((Ha=i.personal)==null?void 0:Ha.parentOccupation)||"",asOther_Occupation:((Ja=i.personal)==null?void 0:Ja.otherOccupation)||"",asAddress:((qa=i.personal)==null?void 0:qa.address)||"",asCity:((Ka=i.personal)==null?void 0:Ka.city)||"",asState:((Xa=i.personal)==null?void 0:Xa.state)||"",asPincode:((Qa=i.personal)==null?void 0:Qa.pin)||"",asResidence_Phone_Number:(($a=i.family)==null?void 0:$a.residencePhoneNumber)||"9224286937",asMobile_Number:((Za=i.personal)==null?void 0:Za.mobileNumber1)||"",asMobile_Number2:((er=i.personal)==null?void 0:er.mobileNumber2)||"",asOffice_Number:((tr=i.family)==null?void 0:tr.officePhoneNumber)||"9270362059",asNeighbour_Number:((ar=i.family)==null?void 0:ar.neighbourPhoneNumber)||"",asUpdated_By_Id:c,asUpdate_Date:Xn()||"2024-12-10",asDOB:Ge((rr=i.personal)==null?void 0:rr.dateOfBirth)||"2011-03-29",asBirth_Place:((sr=i.personal)==null?void 0:sr.placeOfBirth)||"",asNationality:((nr=i.personal)==null?void 0:nr.nationality)||"",asSex:((ir=i.personal)==null?void 0:ir.gender)||"",asSalutation_Id:((or=i.personal)==null?void 0:or.gender)==="F"?"6":"5",asCategory_Id:((lr=i.personal)==null?void 0:lr.category)||"",asCasteAndSubCaste:((dr=i.personal)==null?void 0:dr.casteAndSubCaste)||"",asAdmission_Date:Ge((cr=i.admission)==null?void 0:cr.admissionDate)||"",asJoining_Date:Ge((ur=i.admission)==null?void 0:ur.joiningDate)||"",asDateOfBirthInText:$n((mr=i.personal)==null?void 0:mr.dateOfBirth)||"Twenty Lol One March Two Thousand Eleven",asOptional_Subject_Id:"0",asMother_Tongue:((hr=i.personal)==null?void 0:hr.motherTongue)||"",asLastSchoolName:((fr=i.additional)==null?void 0:fr.lastSchoolName)||"",asLastSchoolAddress:((pr=i.additional)==null?void 0:pr.lastSchoolAddress)||"",asLastCompletedStd:((gr=i.additional)==null?void 0:gr.standard)||"",asLastSchoolUDISENo:((xr=i.additional)==null?void 0:xr.schoolUDISENo)||"",asLastCompletedBoard:((br=i.additional)==null?void 0:br.schoolBoardName)||"",asIsRecognisedBoard:((Sr=i.additional)==null?void 0:Sr.isRecognised)==="Yes"?"True":"False",asAadharCardNo:((Ir=i.personal)==null?void 0:Ir.aadharCardNumber)||"",asNameOnAadharCard:((jr=i.personal)==null?void 0:jr.nameOnAadharCard)||"",asAadharCard_Photo_Copy_Path:((vr=i.personal)==null?void 0:vr.aadharCardScanCopy)||"",asAadharCardBase64:((Nr=i.personal)==null?void 0:Nr.aadharCardBase64URL)||"",asFamily_Photo_Copy_Path:((yr=i.family)==null?void 0:yr.familyPhoto)||"",asFamilyPhotoBase64:((Cr=i.family)==null?void 0:Cr.familyBinaryPhoto)||"",asUDISENumber:((Ar=i.admission)==null?void 0:Ar.UDISENumber)||"",asBoardRegistrationNo:((Dr=i.admission)==null?void 0:Dr.boardRegistrationNumber)||"",asIsRiseAndShine:((Pr=i.admission)==null?void 0:Pr.isRiseAndShine)===!1?"False":"True",asAdmissionSectionId:"0",asGRNumber:"",asStudentUniqueNo:"",asSaralNo:((Or=i.admission)==null?void 0:Or.saralNo)||"",asIsOnlyChild:((Mr=i.admission)==null?void 0:Mr.isOnlyChild)===!1?"False":"True",asMinority:((wr=i.admission)==null?void 0:wr.isMinority)===!1?"False":"True",asRoll_No:((Fr=i.admission)==null?void 0:Fr.studentRollNumber)||"",asRule_Id:((Br=i.admission)==null?void 0:Br.applicableRules)||"0",asIsStaffKid:((Rr=i.admission)==null?void 0:Rr.isStaffKid)!==!1,asHeight:0,asWeight:0,asUpdated_By_id:Number(c),asRTECategoryId:Ve&&((Er=i.admission)!=null&&Er.isRTEApplicable)?Number((kr=i.admission)==null?void 0:kr.rteCategory):0,asSecondLanguageSubjectId:((Wr=i.admission)==null?void 0:Wr.secondlanguage)||"",asThirdLanguageSubjectId:((Ur=i.admission)==null?void 0:Ur.thirdlanguage)||"",asIsForDayBoarding:((_r=i.admission)==null?void 0:_r.isForDayBoarding)!==!1,asFeeCategoryDetailsId:"0",asRTEApplicationFormNo:Ve&&((Tr=i.admission)!=null&&Tr.isRTEApplicable)?(Gr=i.admission)==null?void 0:Gr.rteApplicationForm:"",asAnnualIncome:Ve&&((Lr=i.admission)!=null&&Lr.isRTEApplicable)?Number((Yr=i.admission)==null?void 0:Yr.annualIncome):0,asStandard_Id:f??g.standardId,asDivision_Id:y??g.DivisionId,asReligion:((zr=i.personal)==null?void 0:zr.religion)||"",asYearWise_Student_Id:C??g.YearWise_Student_Id,asParentUserId:Number((Vr=i.admission)==null?void 0:Vr.staffName)||0,asStudentEmailAddress:((Hr=i.personal)==null?void 0:Hr.email)||"",asUserId:b,IsDeleteFee:De??!1,adtOldJoiningDate:Ge(pt),asSaveFeature:"Aadhar Cards",asFolderName:"PPSN Website"},xa={asSchoolId:Number(m),asAcademicYearId:Number(v),asSchoolWise_Student_Id:p??g.SchoolWise_Student_Id,asUpdatedById:Number(u)},ba={asSchoolId:Number(localStorage.getItem("localSchoolId")),asAdmissionAcadmicYear:((Jr=i.additional)==null?void 0:Jr.admissionAcademicYear)||"",asAdmissionStandard:((qr=i.additional)==null?void 0:qr.admissionStandard)||"",asCurrentAcademicYear:((Kr=i.additional)==null?void 0:Kr.currentAcademicYear)||"",asCurrentStandard:((Xr=i.additional)==null?void 0:Xr.currentStandard)||"",asIsHandicapped:((Qr=i.admission)==null?void 0:Qr.isHandicapped)||!1,asPreviousMarksObtained:(($r=i.additional)==null?void 0:$r.previousMarksObtained)||"",asPreviousMarksOutOff:((Zr=i.additional)==null?void 0:Zr.previousMarksOutOf)||"",asPreviousYearOfPassing:((es=i.additional)==null?void 0:es.previousYearOfPassing)||"",asSubjectNames:((ts=i.additional)==null?void 0:ts.subjectNames)||"",asSchoolwiseStudentId:p??g.SchoolWise_Student_Id,asUserid:Number(u),asReligion:((as=i.personal)==null?void 0:as.religion)||"",asBirthTaluka:((rs=i.personal)==null?void 0:rs.birthTaluka)||"",asBirthDistrict:((ss=i.personal)==null?void 0:ss.birthDistrict)||"",asHouseNoPlotNo:((ns=i.additional)==null?void 0:ns.houseNumber)||"",asMainArea:((is=i.additional)==null?void 0:is.mainArea)||"",asSubareaName:((os=i.additional)==null?void 0:os.subareaName)||"",asLandmark:((ls=i.additional)==null?void 0:ls.landmark)||"",asTaluka:((ds=i.additional)==null?void 0:ds.taluka)||"",asDistrict:((cs=i.additional)==null?void 0:cs.district)||"",asFeeAreaName:parseInt(m)===122?Number((us=i.admission)==null?void 0:us.feeAreaNames):0,asFatherOccupation:((ms=i.family)==null?void 0:ms.fatherOccupation)||"",asFatherQualification:((hs=i.family)==null?void 0:hs.fatherQualification)||"",asFatherEmail:((fs=i.family)==null?void 0:fs.fatherEmail)||"",asFatherOfficeName:((ps=i.family)==null?void 0:ps.fatherOfficeName)||"",asFatherOfficeAddress:((gs=i.family)==null?void 0:gs.fatherOfficeAddress)||"",asMotherOccupation:((xs=i.family)==null?void 0:xs.motherOccupation)||"",asMotherQualification:((bs=i.family)==null?void 0:bs.motherQualification)||"",asMotherEmail:((Ss=i.family)==null?void 0:Ss.motherEmail)||"",asMotherOfficeName:((Is=i.family)==null?void 0:Is.motherOfficeName)||"",asMotherOfficeAddress:((js=i.family)==null?void 0:js.motherOfficeAddress)||"",asFatherDOB:Ge((vs=i.family)==null?void 0:vs.fatherDOB)||"",asMotherDOB:Ge((Ns=i.family)==null?void 0:Ns.motherDOB)||"",asFatherDesignation:((ys=i.family)==null?void 0:ys.fatherDesignation)||"",asMotherDesignation:((Cs=i.family)==null?void 0:Cs.motherDesignation)||"",asFatherPhoto:((As=i.family)==null?void 0:As.fatherPhoto)||"",asMotherPhoto:((Ds=i.family)==null?void 0:Ds.motherPhoto)||"",asAnniversaryDate:Ge((Ps=i.family)==null?void 0:Ps.marriageAnniversaryDate)||"",asLocalGuardianPhoto:((Os=i.family)==null?void 0:Os.localGuardianPhoto)||"",asRelativeName:((Ms=i.family)==null?void 0:Ms.relativeFullName)||"",asFatherBinaryPhoto:((ws=i.family)==null?void 0:ws.fatherBinaryPhoto)||null,asMotherBinaryPhoto:((Fs=i.family)==null?void 0:Fs.motherBinaryPhoto)||null,asRelativeBinaryPhoto:((Bs=i.family)==null?void 0:Bs.localGuardianBinaryPhoto)||null,asFatherWeight:((Rs=i.family)==null?void 0:Rs.fatherWeight)||0,asMotherWeight:((Es=i.family)==null?void 0:Es.motherWeight)||0,asFatherHeight:((ks=i.family)==null?void 0:ks.fatherHeight)||0,asMotherHeight:((Ws=i.family)==null?void 0:Ws.motherHeight)||0,asFatherAadharcardNo:((Us=i.family)==null?void 0:Us.fatherAadharCard)||"",asMotherAadharcardNo:((_s=i.family)==null?void 0:_s.motherAadharCard)||"",asFatherBloodGroup:((Ts=i.family)==null?void 0:Ts.fatherBloodGroup)||"",asMotherBloodGroup:((Gs=i.family)==null?void 0:Gs.motherBloodGroup)||"",asFamilyMonthlyIncome:((Ls=i.family)==null?void 0:Ls.familyMonthlyIncome)||0,asCWSN:((Ys=i.family)==null?void 0:Ys.cwsn)||"",asFatherAnnualIncome:((zs=i.family)==null?void 0:zs.fatherAnnualIncome)||0,asMotherAnnualIncome:((Vs=i.family)==null?void 0:Vs.motherAnnualIncome)||0,asBirthState:((Hs=i.personal)==null?void 0:Hs.birthState)||"",asName1:((Js=i.family)==null?void 0:Js.name1)||"",asAge1:((qs=i.family)==null?void 0:qs.age1)||0,asInstitute1:((Ks=i.family)==null?void 0:Ks.institution1)||"",asStandard1:((Xs=i.family)==null?void 0:Xs.standard1)||"",asName2:((Qs=i.family)==null?void 0:Qs.name2)||"",asAge2:(($s=i.family)==null?void 0:$s.age2)||0,asInstitute2:((Zs=i.family)==null?void 0:Zs.institution2)||"",asStandard2:((en=i.family)==null?void 0:en.standard2)||"",asResidenceType:Number((tn=i.admission)==null?void 0:tn.residenceTypes)||0,asRFID:((an=i.admission)==null?void 0:an.RFID)||"",asSaveFeature:"Parent Photos",asFolderName:"PPSN Website"},yt={asSchoolId:Number(m),asStudentId:Number(p??g.SchoolWise_Student_Id),asStreamId:Number((rn=i.streamwiseSubject)==null?void 0:rn.streamId)||0,GroupId:Number((sn=i.streamwiseSubject)==null?void 0:sn.groupId)||0,CompulsorySubject:((nn=i.streamwiseSubject)==null?void 0:nn.compulsorySubjects)||"",chkCompitativeExams:((on=i.streamwiseSubject)==null?void 0:on.competitiveExams)||"0",OptSubjectOne:Number((ln=i.streamwiseSubject)==null?void 0:ln.optionalSubject1)||0,OptSubjectTwo:Number((dn=i.streamwiseSubject)==null?void 0:dn.optionalSubject2)||0},Sa={asSchoolId:Number(m),asAcademicYearId:Number(v),asStudentId:Number(p??g.SchoolWise_Student_Id),asUpdatedById:Number(c)},Ia={asSchoolId:Number(m),asAcademicYearId:Number(v),asUserId:b,asYearwiseStudentId:C??g.YearWise_Student_Id,asMobile_Number:((cn=i.personal)==null?void 0:cn.mobileNumber1)||"",asMobile_Number2:((un=i.personal)==null?void 0:un.mobileNumber2)||"",SenderUserId:sessionStorage.getItem("Id"),SenderUserRoleId:sessionStorage.getItem("RoleId"),asInsertedById:sessionStorage.getItem("Id")},ja={asSchoolId:Number(m),asAcademicYearId:Number(v),asStudentId:Number(p??g.SchoolWise_Student_Id),asMode:1,asSiblingId:F},va={asSchoolId:Number(m),asStudentId:p??g.SchoolWise_Student_Id,asStudentBinaryPhoto:((mn=i.personal)==null?void 0:mn.photoFilePathImage)||null},Zn={asSchoolId:Number(m),asReference_Id:87,asRecord_Id:Number(p??g.SchoolWise_Student_Id),asRecord_Name:"",asAcadmicYearId:Number(v)},ei=async()=>{var k;let t=!1;const r=ft!==((k=i.admission)==null?void 0:k.applicableRules),D=pt!==Nt,R=qn!==Kn;return(r||D)&&(t=!0,M!=="SuperAdmin"&&D&&R?await n(ko(Zn)):t=!1),{bFlag:t}},Na=async(t,r,D,R,k,re,se,Ie)=>{var Ce,st,Ee;try{console.log("1️⃣Update Student",t),await n(Wo(t)),console.log("2️⃣ Handle Day Boarding Fees",ge),ge&&We!==(((Ce=i.admission)==null?void 0:Ce.isForDayBoarding)===!0?"True":"False")&&await n(Uo(r)),Pe&&(console.log(".3️⃣Additional details:",D),await n(_o(D)),parseInt(m)===122?(console.log("4️⃣ Transport fee entries:",k),i.admission.feeAreaNames!=i.admission.hidOldFeeAreaId&&await n(bn(k))):(console.log("✅4️⃣ Transport fee entries:",k),await n(bn(k)))),(st=i.admission)!=null&&st.sendSMS&&(console.log("Ⓜ️ SendLoginDetailSMS:",re),await n(To(re))),be===0&&(console.log("5️⃣OverwriteSiblingDetails:",be),await n(Go(se))),console.log("6️⃣✅Updating student photo:",Ie),(Ee=i.personal)!=null&&Ee.photoFilePathImage&&Ie&&(console.log("6️⃣Updating student photo:",Ie),await n(Lo(Ie))),console.log("✅✅✅API calls completed successfully.")}catch(pn){console.error("Error during API calls:",pn)}},ti=async t=>{var re,se,Ie,Ce,st;t.preventDefault(),Re(!0);const r=ht(i),{invalidFields:D}=mt(m,i);if(D.length>0||r.length>0){const Ee=D[0]||r[0];E(()=>({admission:0,personal:1,documents:2,family:3,additional:4,stream:5})[Ee.tab]||0),console.log("❎❎❎ Submission Stopped");return}parseInt(m)===122&&yt&&ne&&await n(Mo(yt));const R=await ei();if(xe(R.bFlag),console.log("⚠️",R),(re=Me[0])!=null&&re.ReferenceMsg){je((se=Me[0])==null?void 0:se.ReferenceMsg);return}if(Number((Ie=i.admission)==null?void 0:Ie.staffName)!==0&&(Number((Ce=i.admission)==null?void 0:Ce.staffUserRole)===0||((st=i.admission)==null?void 0:st.isStaffKid)===!1)){Ae("if you select Staff Name, Staff User Role and Is Staff Kid option should be selected.");return}if(!!at){Oi();return}try{await Na(ga,xa,ba,yt,Sa,Ia,ja,va),console.log("✅ Form submitted successfully with all API calls completed!"),Re(!1),je("")}catch(Ee){console.error("🚨 Error during form submission or API calls:",Ee)}},ai=async()=>{if(Re(!0),!F||F.length===0){ce.warning("At least one detail should be selected to update in the sibling profile"),console.warn("🚨 Sibling update halted due to missing selections.");return}try{await Na(ga,xa,ba,yt,Sa,Ia,ja,va)}catch(t){console.error("🚨 Error during form submission or API calls:",t)}};o.useEffect(()=>{var t,r;((t=i.admission)==null?void 0:t.staffUserRole)!=="0"&&((r=i.admission)==null?void 0:r.isStaffKid)!==!1&&Ae("")},[(hn=i.admission)==null?void 0:hn.staffUserRole,(fn=i.admission)==null?void 0:fn.isStaffKid]),o.useEffect(()=>{de!==null&&Object.keys(de).length>0&&(de.iReturnValue===3&&!de.IsRollNumberDuplicate&&!de.IsRegisterNoAlreadyPresent&&!de.IsGeneralRegisterNoAlreadyPresent&&!de.IsStudentUniqueNoAlreadyPresent&&!de.CheckIsRFormNumberDuplicate?ce.success("Student information updated successfully."):(de.IsRollNumberDuplicate&&ce.error("Roll number is already present."),de.IsRegisterNoAlreadyPresent&&ce.error("Register number is already present."),de.IsGeneralRegisterNoAlreadyPresent&&ce.error("General register number is already present."),de.IsStudentUniqueNoAlreadyPresent&&ce.error("Student unique number is already present."),de.CheckIsRFormNumberDuplicate&&ce.error("R-form number is already present."),de.iReturnValue!=3&&ce.error("Update failed. Please check values.")),Re(!1))},[de]),o.useEffect(()=>{if(Nt===pt&&n(xo()),Lt!=0){const t={asSchoolId:Number(m),asStudentId:p??g.SchoolWise_Student_Id,asInsertedById:Number(c),asID:Lt,asAcademicYearId:Number(v)};n(bo(t)),si(),setTimeout(()=>{n(So())},50)}},[Lt]);const ri=t=>{const r="xmlns:xsd='http://www.w3.org/2001/XMLSchema' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'",D=t.map(k=>`
      <StudentDocument>
        <StudentDocumentId>${k.Id}</StudentDocumentId>
        <StandardwiseDocumentId>${k.StandardwiseDocumentId}</StandardwiseDocumentId>
        <SchoolwiseStudentId>${k.SchoolwiseStudentId}</SchoolwiseStudentId>
        <IsSubmitted>${k.IsSubmitted}</IsSubmitted>
        <IsApplicable>${k.IsApplicable}</IsApplicable>
        <DocumentCount>${k.DocumentCount}</DocumentCount>
        <IsSubmissionMandatory>${k.IsSubmissionMandatory==="1"}</IsSubmissionMandatory>
      </StudentDocument>
    `).join("");return`<ArrayOfStudentDocument ${r}>${D}</ArrayOfStudentDocument>`},si=()=>{const t=ri(pe),r={asSchoolId:Number(m),asDocXML:t,asYearwiseStudentId:C??g.YearWise_Student_Id,asInsertedById:Number(c)};if(pe.length!==0){n(Io(r));return}},ni=(t,r)=>{T(D=>({...D,admission:{...D.admission,[t]:r}}))},ii=(t,r)=>{T(D=>({...D,personal:{...D.personal,[t]:r}}))},oi=t=>{me(t)},li=(t,r)=>{T(D=>({...D,family:{...D.family,[t]:r}}))},di=(t,r)=>{T(D=>({...D,additional:{...D.additional,[t]:r}}))},ci=(t,r)=>{T(D=>({...D,streamwiseSubject:{...D.streamwiseSubject,[t]:r}}))},[ya,Ca]=o.useState(0),[ui,mi]=o.useState(""),[hi,fi]=o.useState(""),[Yt,zt]=o.useState(""),[gt,xt]=o.useState(""),[dd,Vt]=o.useState(""),[cd,pi]=o.useState(""),[Aa,Ht]=o.useState(we().format("DD-MM-YYYY HH:mm:ss")),{showAlert:gi,closeAlert:Da}=o.useContext(Et),[Pa,rt]=o.useState(""),[Jt,bt]=o.useState(""),Oa=1e6,Ct=O(t=>t.GetStandardwiseMinMaxDOB.ISGetStudentNameForAchievementControl),Ma=O(t=>t.GetStandardwiseMinMaxDOB.ISGetStudentsAllAchievementList),At=O(t=>t.GetStandardwiseMinMaxDOB.ISGetStudentAchievementDetailsEdit),qt=O(t=>t.GetStandardwiseMinMaxDOB.ISSaveStudentAchievementDetailsMsg),wa=O(t=>t.GetStandardwiseMinMaxDOB.ISDeleteStudentAchievementDetailsMsg),Kt={asSchoolId:Number(m),asStudentId:p??g.SchoolWise_Student_Id},xi=()=>{const t={asSchoolId:Number(m),asStudentId:p??g.SchoolWise_Student_Id};n(wo(t)),n(ea(Kt)),U(!0)};o.useEffect(()=>()=>{Qt()},[]),o.useEffect(()=>{if(Ct&&Ct.length>0){const t=Ct[0];mi(t.RegistrationNo),fi(t.StudentName)}},[Ct]),o.useEffect(()=>{if(At&&At.length>0){const t=At[0];t&&(zt(t.Description||""),xt(t.Attachment||""),Ht(t.AchievementDate||""))}bt("")},[At]);const bi=t=>{const{name:r,value:D}=t.target;zt(D),bt("")},Si=t=>r=>{Ht(we(r).format("DD-MM-YYYY HH:mm:ss"))},Ii=t=>{const r=t.size||t.Value.length*.75;if(t&&!a.includes(t.FileExtension.toUpperCase())){rt(t.ErrorMsg?"Invalid file format.":""),xt(""),Vt("");return}if(r>Oa){rt("File size should be less than 1 MB."),xt(""),Vt("");return}xt(t.Name),Vt(t.Value),pi(t.FileExtension),rt(t.ErrorMsg)},ji=t=>{window.open(localStorage.getItem("SiteURL")+"RITeSchool/DOWNLOADS/StudentAchievement/"+t)},vi=t=>{rt(""),Ca(t);const r={asAchievementId:t,asSchoolId:Number(m),asStudentId:p??g.SchoolWise_Student_Id};n(Fo(r))},Ni={asAchievementId:ya,asStudentId:p??g.SchoolWise_Student_Id,asAchievementDate:Ge(Aa),asDescription:Yt||" ",asAttachment:gt||"",asSchoolId:Number(m),asAcademicYearId:v,asUpdatedById:Number(c),asSaveFeature:"StudentAchievement",asFolderName:"PPSN Website",asBase64String:"/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAB6AHADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD3+iiigAooooAKKK4bxH4lkuzNZ6dcNDbRsUluYmw8jA4KoewB4Ldc8DGM1MpKKuyoxcnZGvrXjjw/oM5t7y/U3A+9DCpkZfrjp+NYzfFnw4koR49QXP8AEYBgfrn9K89n0TTmb5bYr9G6+596t22jWky7Gt0YDHJrm+s62SOtYR2u2exaTrmma7bmfTL2K5Rcbth5XPTIPI/GtCvHbeyg0y6Se0U2d4g/dzw8EexHRh6g8V6J4c8RprKyWtwqxalAoaWNc7XU9JEz/CfTqp4PYnanVUtDnqUnA3qKKK1MgooooAKKKKACiiigDlPiD4hbw/4Zd4W23V04ghIOCufvN+Az+OK4LAjt4oIsBEQKoHbAqb43tMbvQY1LmNhL8vQE5T8zXNazrsmmqILZBLdqo8w9lPpXNW10OmhpqdBKrHyyQcHocVNaFoJTkfKenFeXnxlrSXX+lSDb2UEECumuNe1G30WK9a2Kq+PnxxXK4uLO6MlKJ19+mMNg/jVK51WTRXsdbiBMljL86g48yJuHX8f5gVwlp4w16ecokUc0Q/hJAOK2b3Vf7S8OXXmRGOe3dWljx1XcBmtIpqVzKo04WPoa2uI7q1huYTuilQSIfUEZFS1geCWd/BGimQkt9kQZLZzxW/XeeaFFFFABRRRQAUUUUAeZ/Fe2+0al4VGMgXUpYewUN/7LXmeq6JqM91LJbzlXds5UDIz1OT0/Cut1vxLqGqeLbyC8aL7JY3U8VpGoww2rtLepzz3pBqoT5DGGZh0xXFVqe9dHdSpNKzODTwfcbVkvJCyJwxJO5yf89q6+50/z/Dq2skZEOAq+2OlVdZ1ae0sWuIrQzuxwiY43difaufHizXY0zJamRs/vI5G4x3x61lLmnqdEeSnoSf8ACHanYkXGmX0iqwycAfMD2PY1uwaPcppN8LgxmWW0dcIu0HjI4+orQs9VkjtofMjaOKdN6q3Vc9j71biv1kYxnkEY+uaHUd0J00k2j1DwqgTwhoqqu0Cxh4/4AK168++F9/qV7FqYu7l57VPINsG6RgqdyjvxgV6DXoQlzRujzZw5JcoUUUVRAUUUUAFRzzLBEZG6CpCcDJrJ1CXzBjPHYVMpWGlc8s8T6XHH4tm1BEKC4y4H8PzDDH65H61ztxMLZw7ZIA2/hXrV5ZRX1u8EyIwIIUsoOw46j0NeNa00kckkLLiVCY3B/hYcGuOcDup1LoqXXiJL1whEjKowtvBy59OnT3NTW2uSKrLH4eugTw+1Gzj1HHBrMhknsLUC1iKtjJK8En6ilt/EevTyC3a3cqPZs4+tOytoUpLqbA8QwTyiyYZDj5VdSro3uK1rJiuC33lGfx7ViTvJJFFPNCpmibKtjkV3Pw50+TUtaiuJAWis1812PTceEH8z+FZqPNJWHKfLF3O58Caa+n6ATJAYWnkMgUjBxgDP48n8a6iiiu+EeWKR585OUnJhRRRVEhRRSE4BNDAhuH42j8azLsfdIq6xySTUEqeYNqEM2cYB6Vjq3ctaGaw2ozbSdqlsKMk4GeBXhvijVbbXbqXWdNSRbec7cOMMSvy7iOxOK9ta606e/l0q6uNsxVg8KuFcp0Zs54UA8mvCb6xk8O6vd6ZJl7J5nNpNsKpKme2e470VIyjG9jSk05WOdbxA8CFGB3jjNQw+JbiF9wc9a0NQ02C4GYwA+O9ZdvpMZchpOR/D3rJODWps41E9DWh1a41NlUAhQfmYCvffhlqOkNoC6dbXUR1KNme6hJw+48g47jbtGRxXhlhDDbJ2CoMkivSPhJZz3S6hr7GJorW4dLeMqNxDIpkOe3RQM+hHero2crIismo3Z7LRUfnpkhspjHLKQOffpUldByhRRRQA13WNSzsFUdSTWc2pb7xbaWN7VJDiJ5AMyn2Hbt159hXLeK9SuptMa/0nbNcwuhjlO5Y7eNmxuwerkd8cA8eph8QWT6hrnhmeXVLx1eQOFgwqZJXnI7VvGkmve8yWzd8S3mpaLEt/ptsLlQQsiTzBY0yfvdz+VefzxeKp/E9pFHc28FlqjMLkRP5aYHJOR82cdP8A69dR4v8ADdpHoMys9xMk15HuWacqvPHbHGSKz08MWen+NtLS8uJpLW2tJJkSeXEaZ+XGO9XBRUbrz6Cd7kcOkWen3EEDX2kw3OoC4tVMahpJE2McFyc5yOvvUi6WvxI8MW0+pF7GLYUt40AzDMmRvbPQEDp3BH1rP8R6r4csda8K20ItxifzX8q2JyCy55P41J4h1Y6J4g1KGaGWPRr2EXCW6DE9zMCAFReqqccsQAO9Eo80dRp2eh5RLG0F1PYzuhnt5Gico25SQcZB9KiFsFfeQufY109rqqa7rl5b+J7Z7CaSEPFbwRBUTn5WXIznHXJ55/B0GhhGYs6uMkKwHDDPX8a8ivT9m7rY9KhU9orPc5pra6vriDTLGMyXNxII0VemTXtnhvTW0HwVJBJGkBt2uBFewYYoRkfvPXkH24HTg1wVxer4OsrjVtMsmvdUiUpvORFZk92/vN/sjgA8ntV7wd471q00uHS/EWmNPY36S+VMuXdiwLYK9wefzrrwsOWN3uzlxM1KVlsjq4Y1fXn0DUfEeoWmbWOdbUnYFYD5grsCGUH+GtHwz4wt9ZjuBcakUawuTC7CLasg6DnoenYCoLfW9Jl1jw99ol3Rz6Y5VpkyCVxlTnkMOev61U8IeIdLg17XtPkEqQearo7w4iPJ4H5iu6SutuhzHVWfjLR9Rvbm1s7lJJLWXy7jLBQnX5ueo4rdjmimUNFIjqVDAqwIIPQ/SvOfCOveHJdW8QRBoMNcliv2XAI3N7c1ofD06bNo942jtAgjvZUAiQhcYXqp5xnnj/Gsp00r28hpmReeIL+K11rw9fWT3V8mn+fAYx8kp5646EfKeO1c/o9lqWu6h4PlvdVktrgRM5gibAUK744z6KK2/CusXsQvJdXtg1zfSvHaXJHyyxKMAZ9z/wDXxWb4f8IwDxvpcV/9oe8t7L98QQFVtrE44/2q3i1FMl6nW6rpNgk2nxarqs93DJfmUxM5I+RGxwOeG2/nVGwOix+O9UuIWudSeysEiEePNEYJyQO3p+tammtoun+J77T2aFBbWyErOwZyXYsxPpxsH4VS8K+KNDkvPENxbzBVFyAfKgK5A3AEccmpTfK99vzH1KevT3l1430aGy8NuyxRB90gCbfvcc/Sq39g6nqPxQv5ri0trdZdOBALgknIHUZNakviWCf4owW9vZXk7R2Od6j5RnJ6fQ1CmuX03xQmSLQpv3dmQJHYjsD6e9HK7bdBFPW9L1y18Y6LfolpNM1i0BjjIVsgZGOMEVh2mh6//wAI9rWozpBp01nM4iDICrjqGH4mt/xlrWuWkvh7UP7DX93KS43Z2jKn144FWvGR8RW+jwW0FpbzW95eBnUnOxSSwQ9O+PypOmpKKaWv6FKbjdo5fUvCXiBvBE51bVY1eURvIqIGd2ZgSTx7j8qvXHg65sn8IHS9QZpXQl47o/KT5Q5GenU8V1fi2HxDceGNREctpZlmj2soycblz61kzQ+JLN/BgS6t7pRtEpkHOCFB7ehpxV1uuv5Evcnf+29J1Xw1DeaTb3v7uWF5InA2+mc+2P1qS0n1O38aXzXehqbKW2Vkjjw7BtwGcemBUvivUdYsW0m6fRFufKv8M0MmCF65A564rTn1aS28SxTT6XcRxPZygSL8zEqyHBH0zS15Vp0YzjdK1+1tPFmvRHw/KhSUMMwgZGTnt71Y8NJp89lrN/YmTS7u3nmSJBgH5jx8vucAVopr2nRePNTiluriIzWkcoUxHGPlH9KxpdUsLyx1q30y3e81VZJZIZNpGNuCMj2qne+1thDTqds3w9msJItl3b2oie0fh0kc5YofUUugaXqreM77WL7XGjt4bJS0anG0sigD+dZPxTAjt9MljGyRtSQF14J49a46S4mk8baqjzSMhtlyrMSDwtKO111G9z1XS7Xw9afEDWrqacT+fZxSMXbf3x2/3aXwHrWj2+jX02n6dIyzXxX93EBu6Yz+ZqH4eW0E/ibURNBHJjTbYfOgPd/Wuy8FxRxeHI1jRUXzH4UYHWlN2i767Atzm7PXdRufiffxQaNN5cVsELyZX+6e4xTdLvvEdx8Q9Yf+y440jg2Lubr9zH8XtW9prE/ELWBk4EEfGfZKo6A7Hxt4jyxOAcc9OaOZa6dEBz/j248UONCh+zW4SVz5oBHUlB6+h7etavi2w8QQ/wBkQWutRsst2vmRyrjOMYweTgGm+Oyf7W8NDPBkXj/gaVveKFVtU0HcoP8ApY6j3WiMtY6dxdzI8baXqc3hDVPtGtNFl0I8tT8o3LxwRWdrGk63bp4SNrra4R4lIlB+b7n19K6/xp/yKV//AMA/9DWqfiBVI8PZUHFzHjj/AHaVObsvn+Q2jM8dp4mj8L3D289oZEuEZD0O08Y5GO9XLjUfEFtrOg/abCGXzvMilETYIygOep7rVnx6B/witxwP9bGf1FR6+zLrHhTBIzcHOD/sikneK07/AJA9zOutbWLx5Y/b9GnBuNOdc+Xu2lXzjkf5zVbRdX0lNW1y5jjS1t2n8powoEkjFBnAHbpXWXxP/CSaLyeTcg/98iuD1xF/4S/xQ20bljjZTjofIHP1oTUkl5fqDP/Z"},yi=()=>{if(!gt){rt("Please select file.");return}if(!Yt){bt("Description should not be blank.");return}bt(""),n(Bo(Ni))};o.useEffect(()=>{qt!==""&&(ce.success(qt),n(jo()),Qt(),n(ea(Kt)))},[qt]);let Ci=localStorage.getItem("SiteURL")+"RITeSchool/DOWNLOADS/StudentAchievement/";const Ai=()=>{if(gt!==""){const t=`${Ci}${gt}`;window.open(t,"_blank")}},Di=t=>{const r={asSchoolId:Number(m),asStudentId:p??g.SchoolWise_Student_Id,asAchievementId:t,asUpdatedById:Number(c)};gi({title:"Please Confirm",message:"Are you sure you want to delete this record?",variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onCancel:()=>{Da()},onConfirm:()=>{n(Ro(r)),Da()}})};o.useEffect(()=>{wa!==""&&(ce.success("Document deleted successfully."),n(vo()),n(ea(Kt)))},[wa]);const Xt=()=>{U(!1),Qt()},Qt=()=>{xt(""),zt(""),Ht(we().format("DD-MM-YYYY HH:mm:ss")),Ca(0),rt(""),bt("")},Pi=O(t=>t.GetStandardwiseMinMaxDOB.IGetStudentsSiblingDetail),Oi=()=>{J(!0),j(0);const t={asSchoolId:Number(localStorage.getItem("localSchoolId"))};n(Eo(t))},Mi=t=>{const r=t.filter(D=>D.checked).map(D=>D.CommonFieldId).join(", ");Se(r)},$t=()=>{K(t=>!t),J(!1)},wi=()=>{ye("/RITeSchool/Teacher/EnterStudentSiblingDetails",{state:{fromInternal:!0}})};return e.jsxs(z,{sx:{px:2},children:[e.jsx(No,{navLinks:[{title:`Students${q==="SD"?" Details":""}`,path:q==="SD"?"/RITeSchool/Teacher/StudentDetailsBaseScreen":"/RITeSchool/Teacher/Students"},{title:"Enter Student's Details",path:"/RITeSchool/Teacher/Students/StudentRegistrationForm"}],rightActions:e.jsxs(e.Fragment,{children:[e.jsx(H,{title:'Add/Edit student details and click on "Save".',children:e.jsx(X,{sx:{color:"white",backgroundColor:nt[500],"&:hover":{backgroundColor:nt[600]}},children:e.jsx(ta,{})})}),e.jsx(H,{title:"Add Sibling Details",children:e.jsx("span",{children:e.jsx(X,{onClick:wi,disabled:(g==null?void 0:g.IsStudntDtailsScrn)===!0,sx:{color:"white",backgroundColor:it[500],"&:hover":{backgroundColor:it[600]},...(g==null?void 0:g.IsStudntDtailsScrn)===!0&&{border:"1px solid blue"}},children:e.jsx(Ln,{})})})}),e.jsx(H,{title:"Add Note",children:e.jsx("span",{children:e.jsx(X,{onClick:()=>xi(),disabled:(g==null?void 0:g.IsStudntDtailsScrn)===!0,sx:{color:"white",backgroundColor:it[500],"&:hover":{backgroundColor:it[600]},...(g==null?void 0:g.IsStudntDtailsScrn)===!0&&{border:"1px solid blue"}},children:e.jsx(Gn,{})})})}),e.jsx(H,{title:"Save",children:e.jsx("span",{children:e.jsx(X,{onClick:ti,disabled:(g==null?void 0:g.IsStudntDtailsScrn)===!0,sx:{color:"white",backgroundColor:Xe[500],"&:hover":{backgroundColor:Xe[600]},...(g==null?void 0:g.IsStudntDtailsScrn)===!0&&{border:"1px solid green"}},children:e.jsx(zo,{})})})})]})}),e.jsx(z,{sx:{backgroundColor:"white",p:1,mb:1},children:e.jsx(od,{})}),e.jsxs(z,{sx:{backgroundColor:"white",p:2,mb:1},children:[e.jsxs(z,{pt:1,children:[e.jsx(Q,{variant:"h5",style:{color:"red"},children:Be||""}),ve&&e.jsx(V,{Error:ve}),Oe.find(t=>t.field==="admissionDate"&&t.code==="DOB")&&e.jsx(V,{Error:Oe.find(t=>t.field==="admissionDate")?"Date of admission should be greater that date of birth.":""})]}),e.jsxs(z,{sx:{display:"flex",alignItems:"center",my:1,backgroundColor:"white",p:1},children:[e.jsx(Q,{variant:"body1",sx:{mr:2},children:"Completeness"}),e.jsx(ll,{variant:"determinate",value:Ue,sx:{flexGrow:1,height:10}}),e.jsxs(Q,{variant:"body1",sx:{ml:2},children:[Ue,"%"]})]})]}),e.jsx(z,{sx:{backgroundColor:"white",minHeight:"100px",display:"flex",justifyContent:"center",mb:0},children:e.jsxs(Ko,{value:x,onChange:_t,variant:"scrollable",scrollButtons:!1,"aria-label":"Student Registration Tabs",TabIndicatorProps:{style:{backgroundColor:"primary"}},sx:{"& .MuiTab-root":{minHeight:"60px",borderRadius:"10px",textTransform:"none",color:"#38548A",backgroundColor:nt[200],"&:hover":{color:"#38548A",backgroundColor:nt[400]},"&.Mui-selected":{backgroundColor:it[300],color:"white"},"&.Mui-focusVisible":{outline:"2px solid blue"}},"& .MuiTabs-indicator":{display:"none"}},children:[e.jsx(ot,{sx:{m:2,maxWidth:200},icon:e.jsx(Yn,{}),label:"Admission Details"}),e.jsx(ot,{sx:{m:2,maxWidth:200},icon:e.jsx(Wn,{}),label:"Personal Details"}),e.jsx(ot,{sx:{m:2,maxWidth:200},icon:e.jsx(Un,{}),label:"Admission Documents"}),e.jsx(ot,{sx:{m:2,maxWidth:200},icon:e.jsx(_n,{}),label:"Family Details"}),e.jsx(ot,{sx:{m:2,maxWidth:200},icon:e.jsx(Yo,{}),label:"Additional Details"}),m&&parseInt(m)===122&&ne&&e.jsx(ot,{sx:{m:2,maxWidth:200,borderRadius:"100%"},icon:e.jsx(Tn,{}),label:"Stream Details"})]})}),e.jsxs(z,{children:[x===0&&e.jsx(s,{container:!0,spacing:1,children:e.jsx(s,{item:!0,xs:12,children:e.jsx(Gl,{admission:i.admission,onChange:ni,invalidFields:He.filter(t=>t.tab==="admission"),unacceptableFields:Oe.filter(t=>t.tab==="admission")})})}),x===1&&e.jsx(s,{container:!0,spacing:1,children:e.jsx(s,{item:!0,xs:12,children:e.jsx(nd,{personal:i.personal,onChange:ii,invalidFields:He.filter(t=>t.tab==="personal"),unacceptableFields:Oe.filter(t=>t.tab==="personal")})})}),x===2&&e.jsx(s,{container:!0,spacing:1,children:e.jsx(s,{item:!0,xs:12,children:e.jsx(_l,{admissionDocumentList:pe,onChange:oi})})}),x===3&&e.jsx(s,{container:!0,spacing:1,children:e.jsx(s,{item:!0,xs:12,children:e.jsx(Ll,{family:i.family,onChange:li,invalidFields:He.filter(t=>t.tab==="family"),unacceptableFields:Oe.filter(t=>t.tab==="family")})})}),x===4&&e.jsxs(s,{container:!0,spacing:1,children:[e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3}),e.jsx(s,{item:!0,xs:12,children:e.jsx(Ul,{additional:i.additional,onChange:di})})]}),x===5&&parseInt(m)===122&&ne&&e.jsx(s,{container:!0,spacing:1,children:e.jsx(s,{item:!0,xs:12,children:e.jsx(ld,{streamwiseSubject:i.streamwiseSubject,onChange:ci})})})]}),e.jsxs(z,{sx:{display:"flex",justifyContent:{xs:"center",sm:"space-between"},flexDirection:{xs:"column",sm:"row"},gap:2,p:{xs:1,sm:2},backgroundColor:"white"},children:[e.jsx(Fe,{variant:"contained",onClick:vt,disabled:x===0,sx:{backgroundColor:nt[100],color:"blue","&:hover":{color:"blue",backgroundColor:it[200]},width:{xs:"100%",sm:"auto"}},children:"Previous"}),e.jsx(Fe,{variant:"contained",onClick:Tt,disabled:x===Ke-1,sx:{backgroundColor:nt[100],color:"green","&:hover":{color:"green",backgroundColor:Xe[200]},width:{xs:"100%",sm:"auto"}},children:"Next"})]}),e.jsx(z,{children:e.jsxs(Pt,{open:W,onClose:Xt,fullWidth:!0,maxWidth:"md",PaperProps:{sx:{borderRadius:"15px"}},children:[e.jsxs(Ot,{sx:{bgcolor:"#223354",position:"relative"},children:[e.jsx(H,{title:"Add/Edit student achievement details and click on save.",placement:"bottom-end",children:e.jsx(X,{sx:{color:"white",position:"absolute",top:"-1px",right:"40px"},children:e.jsx(ta,{})})}),e.jsx(xn,{onClick:Xt,sx:{color:"white",borderRadius:"7px",position:"absolute",top:"5px",right:"8px",cursor:"pointer","&:hover":{color:"red"}}})]}),e.jsx(Q,{variant:"h3",sx:{pt:1,pl:2},children:"Student Achievement/Punishment Details"}),e.jsxs(Mt,{children:[e.jsxs(s,{container:!0,spacing:2,children:[e.jsx(s,{item:!0,xs:6,children:e.jsx(h,{name:"registrationNumber",label:"Registration Number",value:ui,variant:"outlined",fullWidth:!0,sx:{bgcolor:"#F0F0F0",width:"100%","& .MuiInputBase-input":{cursor:"default"}},InputProps:{readOnly:!0},inputProps:{style:{color:"rgb(0, 0, 0)"}}})}),e.jsx(s,{item:!0,xs:6,children:e.jsx(h,{name:"StudentName",label:"Student Name",value:hi,variant:"outlined",fullWidth:!0,sx:{bgcolor:"#F0F0F0",width:"100%","& .MuiInputBase-input":{cursor:"default"}},InputProps:{readOnly:!0},inputProps:{style:{color:"rgb(0, 0, 0)"}}})}),e.jsx(s,{item:!0,xs:6,children:e.jsx(Ze,{DateValue:Aa,onDateChange:Si(),size:"medium",label:"Attachment Date",maxDate:new Date,error:!1,helperText:""})}),e.jsx(s,{item:!0,xs:4,children:e.jsx(H,{title:`Supports only .JPG, .JPEG, .PNG, .BMP, .PDF file type.\r
                   File size should not exceed 1MB.`,children:e.jsx(Rn,{ValidFileTypes:a,MaxfileSize:Oa,FileName:gt,ChangeFile:Ii,FileLabel:"Attachment",isMandatory:!0,height:"52px",width:"100%",errorMessage:Pa||""})})}),e.jsx(s,{item:!0,xs:2,children:e.jsx(e.Fragment,{children:e.jsx(H,{title:"View",children:e.jsx(X,{onClick:Ai,sx:{color:"#223354",mt:.7,"&:hover":{color:"#223354",cursor:"pointer"}},children:e.jsx(kn,{})})})})})]}),e.jsx(s,{xs:12,spacing:2,mt:2,pt:1,children:e.jsx(s,{item:!0,children:e.jsx(yo,{name:"description",label:e.jsxs("span",{children:["Description ",e.jsx("span",{style:{color:"red"},children:" *"})]}),value:Yt||"",onChange:t=>bi(t),sx:{resize:"both"},multiline:!0,fullWidth:!0})})}),Jt&&e.jsx(Q,{variant:"h5",style:{color:"red"},children:Jt||""}),e.jsx(z,{py:2,children:Ma.length>0?e.jsx(Tl,{data:Ma,clickView:ji,onEdit:vi,onDelete:Di}):e.jsx(Q,{variant:"h6",align:"center",color:"blue",sx:{textAlign:"center",marginTop:1,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white"},children:"No record found."})})]}),e.jsxs(wt,{sx:{m:2},children:[e.jsx(Fe,{onClick:Xt,color:"error",children:"Close"}),e.jsx(Fe,{onClick:yi,sx:{color:"green","&:hover":{color:"green",backgroundColor:Xe[100]}},children:ya!==0?"Update":"Save"})]})]})}),at!==""&&e.jsx(z,{children:e.jsxs(Pt,{open:Y,onClose:$t,fullWidth:!0,maxWidth:"sm",PaperProps:{sx:{borderRadius:"15px"}},children:[e.jsx(Ot,{sx:{bgcolor:"#223354",position:"relative"},children:e.jsx(xn,{onClick:$t,sx:{color:"white",borderRadius:"7px",position:"absolute",top:"5px",right:"8px",cursor:"pointer","&:hover":{color:"red"}}})}),e.jsx(Q,{variant:"h3",sx:{pt:1,pl:3},children:"Sibling Details"}),e.jsxs(Mt,{children:[e.jsxs(Xo,{sx:{p:1,mb:1},children:[e.jsx("b",{children:"Note : "}),"If you click on save button selected Sibling Details will be replaced to the following sibling(s) :",e.jsx("b",{children:at})]}),e.jsx(z,{children:e.jsx(id,{itemList:Pi,onItemsChange:Mi,resetTrigger:I})})]}),e.jsxs(wt,{sx:{m:2},children:[e.jsx(Fe,{onClick:$t,color:"error",children:"Close"}),e.jsx(Fe,{onClick:ai,sx:{color:"green","&:hover":{color:"green",backgroundColor:Xe[100]}},children:"save"})]})]})})]})};export{Md as default};
