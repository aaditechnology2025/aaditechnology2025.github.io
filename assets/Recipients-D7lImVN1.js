import{A as Q,h as W,S as _,u as $,c as v,r as a,e3 as z,e4 as H,j as t,B as J,q as K,a9 as k,ce as u,bQ as P}from"./index-d5YOjbb6.js";import{d as V}from"./Reply-BCkJ-oS7.js";import{L}from"./List3-DyfSymjJ.js";import{F as X}from"./Fab-W_efKpNU.js";import{C as Z}from"./Card-BrM9kpJu.js";import{R as ee}from"./RadioGroup-CytjzwBe.js";import{R as A}from"./Radio-CCPcjMAp.js";import"./CheckboxImg-DSBDgE-_.js";import"./RadioButtonUnchecked-DyWPxD5p.js";import"./FormGroup-XtcIGgvX.js";const me=({displayProperty:D,RecipientsListDetails:R,ReplyRecipient:l})=>{Q();const y=W(),T=_(),x=$(),p=v(e=>e.MessageCenter.TeacherList),m=v(e=>e.MessageCenter.AdminStaffList),[i,c]=a.useState({RecipientName:[],RecipientId:[]}),I=sessionStorage.getItem("AcademicYearId"),h=localStorage.getItem("localSchoolId");sessionStorage.getItem("StandardId");const g=sessionStorage.getItem("DivisionId"),S=sessionStorage.getItem("Id"),[f,B]=a.useState(0),[O,F]=a.useState("none"),E={asAcademicYearId:I,asSchoolId:h,asStdDivId:g,asUserId:S,asSelectedUserGroup:"2",abIsSMSCenter:!1},G={asAcademicYearId:I,asSchoolId:h,asStdDivId:g,asUserId:S,asSelectedUserGroup:"6",abIsSMSCenter:!1},[te,U]=a.useState(!0),[w,N]=a.useState({DetailInfo:[],recieverInfo:[]}),j=e=>{U(!0);const{value:n,name:s,checked:r}=e,{DetailInfo:b,recieverInfo:C}=w;if(r)i.RecipientName.push(e.name),i.RecipientId.push(e.value.toString()),c(d=>({RecipientName:[...d.RecipientName],RecipientId:[...d.RecipientId]})),N({DetailInfo:[...b,n],recieverInfo:[...C,s]});else{let d=i.RecipientName.indexOf(e.name);i.RecipientName.splice(d,1);let q=i.RecipientId.indexOf(e.value);i.RecipientId.splice(q,1),c(o=>({RecipientName:[...o.RecipientName],RecipientId:[...o.RecipientId]})),N({DetailInfo:b.filter(o=>o!==n),recieverInfo:C.filter(o=>o!==s)})}R(i)},M=e=>{if(e.target.checked)i.RecipientName.push(e.target.name),i.RecipientId.push(e.target.value.toString()),c(n=>({RecipientName:[...n.RecipientName],RecipientId:[...n.RecipientId]}));else{let n=i.RecipientName.indexOf(e.target.name);i.RecipientName.splice(n,1);let s=i.RecipientId.indexOf(e.target.value);i.RecipientId.splice(s,1),c(r=>({RecipientName:[...r.RecipientName],RecipientId:[...r.RecipientId]}))}R(i)},Y=e=>{B(e.target.value),F("block")};return a.useEffect(()=>{x(z(E)),x(H(G))},[f]),a.useEffect(()=>{l.ReplyRecipientName!=null&&(i.RecipientName.push(l.ReplyRecipientName),i.RecipientId.push(l.ReplyRecipientID.toString()))},[]),t.jsxs("div",{children:[t.jsx("span",{onClick:()=>D("none"),children:t.jsx(X,{className:T.backArrow,sx:{background:`${y.colors.gradients.pink1}`,position:"absolute",top:"30px",left:"35px"},children:t.jsx(V,{})})}),t.jsx(J,{sx:{px:2},children:t.jsxs(Z,{sx:{padding:"20px",backgroundColor:"#ffffffdb"},children:[t.jsx(K,{fullWidth:!0,margin:"normal",label:"To",name:"To",type:"text",autoComplete:"off",variant:"standard",value:i.RecipientName,sx:{mt:"-0.3rem"}}),t.jsx("form",{children:t.jsx(k,{children:t.jsxs("div",{style:{display:"flex"},children:[t.jsx(u,{sx:{marginLeft:"-18px",mt:"-40px"},control:t.jsx(P,{name:"Software Co-ordinator",onChange:M,checked:i.RecipientName.includes("Software Co-ordinator"),value:"1",id:"1"}),label:"Software Co-ordinator"}),t.jsx(k,{children:t.jsxs(ee,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",onClick:Y,sx:{marginLeft:"-10px"},children:[t.jsx(u,{value:2,control:t.jsx(A,{}),name:"RecipientList",label:"Teacher List"}),t.jsx(u,{value:6,control:t.jsx(A,{}),name:"RecipientList",label:"Admin Staff"})]})})]})})})]})}),t.jsx("div",{style:{marginTop:"10px",display:O},children:f==2?p==null||p.length==0?null:p.map((e,n)=>{const s=i.RecipientName.includes(e.Name);return t.jsx(t.Fragment,{children:t.jsx(L,{data:e,handleChange:j,check:s,pointerEvent:"none",Id:e.Id},n)})}):f==6?m==null||m.length==0?null:m.map((e,n)=>{const s=i.RecipientName.includes(e.Name);return t.jsx(t.Fragment,{children:t.jsx(L,{data:e,handleChange:j,check:s,pointerEvent:"none",Id:e.Id},n)})}):null})]})};export{me as default};
