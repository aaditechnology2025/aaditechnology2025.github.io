import{u as R,c as n,r as t,gb as k,gc as E,gd as N,ge as v,gf as G,j as e,B as p,gg as L}from"./index-d5YOjbb6.js";import{B as U}from"./BackButton-BE5_8L9j.js";import{D as S}from"./Dropdown-Bt3qBn1S.js";import{P as V}from"./PageHeader-DqqjGq3-.js";import{B as O}from"./ButtonStyle-DaPKUawX.js";import{C as H}from"./Card-BrM9kpJu.js";function X(){const l=R(),F=n(a=>a.Fees.AcademicYearsforFeeChallan),C=n(a=>a.Fees.AllFeeTypesForChallanImport),g=n(a=>a.Fees.AllPayableforChallan),c=n(a=>a.Fees.FileNameForSNSChallan),h=n(a=>a.Fees.DetailsForChallanImport),r=localStorage.getItem("localSchoolId"),d=sessionStorage.getItem("AcademicYearId"),u=sessionStorage.getItem("StandardDivisionId"),m=sessionStorage.getItem("StudentId"),I=sessionStorage.getItem("StandardId");let y=localStorage.getItem("SiteURL")+c;const[o,f]=t.useState(""),[s,A]=t.useState(""),[i,x]=t.useState(""),b=a=>{f(a)},j=a=>{A(a)},P=a=>{x(a)},Y={aiSchoolId:r,aiAcademicYearId:d,aiStudentId:m},B={aiSchoolId:r,aiSelectedAcademicYearId:d,aiStandardDivisionId:u,aiStandardId:I},D={aiSchoolId:r,aiAcademicYearId:d,aiStandardId:I,aiOriginalFeeTypeId:s},T={aiSchoolId:r,aiAcademicYearId:d,aiStudentId:m,aiSelectedAcademicYearId:o};t.useEffect(()=>{l(k(Y)),l(E(B))},[]),t.useEffect(()=>{l(N(D))},[s]),t.useEffect(()=>{l(v(T))},[o]),t.useEffect(()=>{c!==""&&(window.open(y),l(G()))},[c]);const w=()=>{const a={aiSchoolId:r,aiAcademicYearId:d,aiStandardId:h.StandardId,aiStandardDivisionId:h.StandardDivisionId,aiSchoolwiseStudentId:h.SchoolwiseStudentId,aiFeeTypeId:s,asPayableFor:i,aiSelectedAcademicYearId:o};o!==""&&s!==""&&i!==""&&l(L(a))};return e.jsxs(p,{sx:{px:2},children:[e.jsx(V,{heading:"Generate Challan"}),e.jsx(U,{FromRoute:"/Student/Fees"}),e.jsxs(H,{component:p,p:2,children:[e.jsx(S,{Array:F,handleChange:b,label:"Academic Year",defaultValue:o}),e.jsx("br",{})," ",e.jsx("br",{}),e.jsx(S,{Array:C,handleChange:j,label:"Select School Type",defaultValue:s}),e.jsx("br",{})," ",e.jsx("br",{}),e.jsx(S,{Array:g,handleChange:P,label:"Select Payable",defaultValue:i}),e.jsx("br",{})," ",e.jsx("br",{}),e.jsx(O,{onClick:w,color:o!==""&&s!==""&&i!==""?"primary":"warning",children:"Generate"})]})]})}export{X as default};
