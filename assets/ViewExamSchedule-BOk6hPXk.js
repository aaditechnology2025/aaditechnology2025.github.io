import{u as B,r as a,c as x,nM as _,nN as G,j as e,B as r,F as H,p as N,G as A,H as V,I as Y,J as E,T as c,nO as u,n as z,ai as F,aj as Q,ak as W,al as m,am as n,an as J,nP as h}from"./index-d5YOjbb6.js";import{D as O}from"./Dropdown-Bt3qBn1S.js";import{Q as X}from"./QuestionMark-C2Y4lgD8.js";const U=()=>{var T;const f=B(),S=sessionStorage.getItem("AcademicYearId"),b=localStorage.getItem("localSchoolId"),I=sessionStorage.getItem("RoleId"),C=sessionStorage.getItem("StandardId"),[p,g]=a.useState(null),[l,j]=a.useState(""),i=x(s=>s.StandardAndExamList.getStandard),d=x(s=>s.StandardAndExamList.ExamData),w=x(s=>s.StandardAndExamList.NewExamData),k=x(s=>s.StandardAndExamList.Loading),M={asAcademicYearId:S,asSchoolId:b},D={asSchoolId:b,asAcademicYearId:S,asStandardId:l};a.useEffect(()=>{f(_(M)),I==="3"&&j(C)},[]);const L=s=>{j(s),g(0)};a.useEffect(()=>{l!==""&&f(G(D))},[l]),a.useEffect(()=>{i.length>0&&(j(i[0].id),g(0))},[i]);const v=s=>{g(p===s?null:s)};return(T=d.find(s=>s.Text6))!=null&&T.Text6,e.jsxs(r,{px:2,children:[e.jsx(H,{navLinks:[{title:"Exam Schedule",path:"/RITeSchool/Teacher/ExamScheduleBasescreen"},{title:"View Exam Schedule",path:""}],rightActions:e.jsx(e.Fragment,{children:e.jsxs(N,{direction:"row",gap:1,alignItems:"right",sx:{flexWrap:{xs:"wrap",sm:"nowrap"},justifyContent:{xs:"flex-start",sm:"flex-start"}},children:[e.jsx(A,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:e.jsxs(r,{sx:{width:"200px"},children:[" ",e.jsx(O,{Array:i,handleChange:L,label:"Select Standard",size:"small",variant:"outlined",defaultValue:l})]})}),e.jsx(A,{item:!0,xs:12,sm:6,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:e.jsx(V,{title:"Examination schedule for your class.",children:e.jsx(Y,{sx:{color:"white",backgroundColor:E[500],"&:hover":{backgroundColor:E[600]}},children:e.jsx(X,{})})})})]})})}),l!=="0"&&w.length===0?e.jsx(c,{variant:"body1",sx:{textAlign:"center",marginTop:4,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white"},children:e.jsx("b",{children:"Exam schedule is not available."})}):d&&d.length>0&&d.map((s,o)=>{const y=w.filter(t=>t.SchoolwiseStandardExamScheduleId===s.Schoolwise_Standard_Exam_Schedule_Id),R=s.Text6;return y.length>0?e.jsxs(r,{sx:{backgroundColor:"white"},children:[e.jsx(r,{sx:{display:"flex",alignItems:"center",padding:.5,backgroundColor:"whitesmoke",border:"1px solid #d3d3d3",borderRadius:"2px",cursor:"pointer",mt:1},onClick:()=>v(o),children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",pl:.5},children:[e.jsx(r,{sx:{width:"10px",height:"10px",p:.5,border:"1px solid black",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(c,{sx:{color:"Black",fontSize:"16px",fontWeight:"bold",p:1},children:p===o?"-":"+"})}),e.jsxs(r,{sx:{display:"flex"},children:[e.jsx(c,{variant:"h6",sx:{color:"red",ml:1},children:e.jsx("b",{children:s.Text1})}),e.jsx(c,{variant:"h6",sx:{ml:1},children:e.jsxs("b",{children:[u(s.Text3)," To ",u(s.Text4)]})})]})]})}),p===o?e.jsx(r,{sx:{background:"white",p:1},children:k?e.jsx(z,{}):e.jsx(F,{component:r,sx:{width:"100%",overflowX:"auto"},children:e.jsxs(Q,{"aria-label":"simple table",sx:{border:t=>`1px solid ${t.palette.grey[300]}`,overflow:"hidden"},children:[e.jsx(W,{children:e.jsxs(m,{sx:{background:t=>t.palette.secondary.main,color:t=>t.palette.common.white,py:1},children:[e.jsx(n,{sx:{width:"100px",color:"white"},children:e.jsx("strong",{children:"Exam Date"})}),e.jsx(n,{sx:{width:"130px",color:"white"},children:e.jsx("strong",{children:"Subject"})}),e.jsx(n,{sx:{width:"100px",textAlign:"center",color:"white"},children:e.jsx("strong",{children:"Exam Type"})}),e.jsx(n,{sx:{width:"100px",textAlign:"center",color:"white"},children:e.jsx("strong",{children:"Start Time"})}),e.jsx(n,{sx:{width:"100px",textAlign:"center",color:"white"},children:e.jsx("strong",{children:"End Time"})}),e.jsx(n,{sx:{width:"100px",textAlign:"center",color:"white"},children:e.jsx("strong",{children:"Total Time"})}),e.jsx(n,{sx:{width:"350px",textAlign:"left",color:"white"},children:e.jsx("strong",{children:"Description"})})]})}),e.jsxs(J,{children:[y.map((t,P)=>e.jsxs(m,{sx:{"& > *":{textAlign:"center",pl:0,pb:0,py:1}},children:[e.jsx(n,{sx:{textAlign:"left",pl:1,py:1},children:u(t.Text5)||"-"}),e.jsx(n,{sx:{textAlign:"left",py:1},children:t.Text2||"-"}),e.jsx(n,{sx:{textAlign:(t.Text4,"center"),py:1},children:t.Text4||"-"}),e.jsx(n,{sx:{textAlign:"center",py:1},children:["00:00 AM","12:00 AM","12:00 PM","00:00 PM"].includes(h(t.Text5))?"-":h(t.Text5)||"-"}),e.jsx(n,{sx:{textAlign:"center",py:1},children:["00:00 AM","12:00 AM","12:00 PM","00:00 PM"].includes(h(t.Text6))?"-":h(t.Text6)||"-"}),e.jsx(n,{sx:{textAlign:"center",py:1},children:["00:00","12:00","00:00 PM","12:00 PM"].includes(t.TotalTime)?"-":t.TotalTime||"-"}),e.jsxs(n,{sx:{textAlign:"left",py:1,...t.Description?"":{pl:6}},children:[" ",(t.Description?t.Description.replace(/<\/?BR>/gi,""):"-")||"-"]})]},P)),e.jsx(m,{children:e.jsxs(n,{colSpan:7,sx:{color:"darkblue",py:1,textAlign:"left"},children:[e.jsx("strong",{children:"Instruction : "}),R.replace(/<\/?br\s\/?>/gi," ")||"-"]})})]})]})})}):null]},o):null})]})};export{U as default};
