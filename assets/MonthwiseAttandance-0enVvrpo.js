import{r as o,j as e,B as d,T as h,ai as N,aj as R,ak as D,al as S,am as t,an as E,ht as B,w as G,x as I,A as z,u as K,c as f,hu as $,F as P,m as w,p as U,G as Y,q,H as M,I as m,bv as L,hv as J,J as H,K as O}from"./index-d5YOjbb6.js";import{d as V}from"./Search-Cux6sdg-.js";import{L as X}from"./Legend-p9-_07Am.js";import{R as Q}from"./ReusableTooltip-SKY-X0Aj.js";const Z={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},ee=({data:a})=>(o.useState(!1),e.jsx(d,{sx:Z,children:a?e.jsxs(e.Fragment,{children:[e.jsx(h,{id:"modal-modal-title",variant:"h6",component:"h2",children:a.Text1}),e.jsx(h,{id:"modal-modal-title",variant:"h6",component:"h2",children:a.Text2}),e.jsx(h,{id:"modal-modal-description",sx:{mt:2},children:"Duis mollis, est non commodo luctus, nisi erat porttitor ligula."}),e.jsx(d,{})]}):""})),k={width:"900px",fontSize:"5px",py:1,cursor:"pointer"},ne={" &:hover":{backgroundColor:"lightblue"}},r={py:1,px:1};function te({ItemList:a,HeaderArray:c}){const[g,_]=o.useState({}),[u,p]=o.useState(!1),l=()=>p(!1);return e.jsx(e.Fragment,{children:a.length===0?e.jsxs(e.Fragment,{children:[" ",e.jsx(h,{variant:"body1",sx:{textAlign:"center",marginTop:1,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white"},children:e.jsx("b",{children:"No record found."})})]}):e.jsx(e.Fragment,{children:e.jsx(d,{sx:{backgroundColor:"white",p:2},children:e.jsx(N,{component:d,children:e.jsxs(R,{"aria-label":"simple table",sx:{border:n=>`1px solid ${n.palette.divider}`},children:[e.jsx(D,{children:e.jsx(S,{sx:{background:n=>n.palette.secondary.main,color:n=>n.palette.common.white},children:c.map((n,x)=>e.jsxs(t,{scope:n.scope?n.scope:"a",sx:{textTransform:"capitalize",color:"white",backgroundColor:T=>T.palette.secondary.main,py:1},align:(n==null?void 0:n.align)||"center",children:[" ",e.jsx("b",{children:n.Header})]},x))})}),e.jsx(E,{children:a.map((n,x)=>e.jsx(e.Fragment,{children:e.jsx(S,{sx:ne,children:n.Text17>75?e.jsxs(e.Fragment,{children:[e.jsx(t,{align:"center",sx:{py:1},dangerouslySetInnerHTML:{__html:n.Text1}}),e.jsx(t,{align:"left",dangerouslySetInnerHTML:{__html:n.Text2},scope:"row",sx:k}),e.jsx(t,{align:"center",sx:{paddingX:"8px",py:1},dangerouslySetInnerHTML:{__html:n.Text3}}),e.jsx(t,{align:"center",dangerouslySetInnerHTML:{__html:n.Text4},sx:{py:1}}),e.jsx(t,{align:"center",dangerouslySetInnerHTML:{__html:n.Text5},sx:{py:1}}),e.jsx(t,{align:"center",dangerouslySetInnerHTML:{__html:n.Text6},sx:{py:1}}),e.jsx(t,{align:"center",dangerouslySetInnerHTML:{__html:n.Text7},sx:{py:1}}),e.jsx(t,{align:"center",dangerouslySetInnerHTML:{__html:n.Text8},sx:{py:1}}),e.jsx(t,{align:"center",dangerouslySetInnerHTML:{__html:n.Text9},sx:{py:1}}),e.jsx(t,{align:"center",dangerouslySetInnerHTML:{__html:n.Text10},sx:{py:1}}),e.jsx(t,{align:"center",dangerouslySetInnerHTML:{__html:n.Text11},sx:{py:1}}),e.jsx(t,{align:"center",dangerouslySetInnerHTML:{__html:n.Text12},sx:{py:1}}),e.jsx(t,{align:"center",dangerouslySetInnerHTML:{__html:n.Text13},sx:{py:1}}),e.jsx(t,{align:"center",dangerouslySetInnerHTML:{__html:n.Text14},sx:{py:1}}),e.jsx(t,{align:"center",scope:"row",dangerouslySetInnerHTML:{__html:n.Text15},sx:{fontWeight:"bold",width:"200px",py:1}}),e.jsx(t,{align:"center",dangerouslySetInnerHTML:{__html:n.Text16},sx:{fontWeight:"bold",width:"200px",py:1}}),e.jsx(t,{align:"center",dangerouslySetInnerHTML:{__html:n.Text17},sx:{fontWeight:"bold",py:1}})]}):e.jsxs(e.Fragment,{children:[e.jsx(t,{align:"center",dangerouslySetInnerHTML:{__html:n.Text1},sx:{color:"red",py:1}}),e.jsx(t,{align:"left",dangerouslySetInnerHTML:{__html:n.Text2},scope:"row",sx:{color:"red",...k}}),e.jsx(t,{align:"center",sx:{color:"red",...r},dangerouslySetInnerHTML:{__html:n.Text3}}),e.jsx(t,{align:"center",sx:{color:"red",...r},dangerouslySetInnerHTML:{__html:n.Text4}}),e.jsx(t,{align:"center",sx:{color:"red",...r},dangerouslySetInnerHTML:{__html:n.Text5}}),e.jsx(t,{align:"center",sx:{color:"red",...r},dangerouslySetInnerHTML:{__html:n.Text6}}),e.jsx(t,{align:"center",sx:{color:"red",...r},dangerouslySetInnerHTML:{__html:n.Text7}}),e.jsx(t,{align:"center",sx:{color:"red",...r},dangerouslySetInnerHTML:{__html:n.Text8}}),e.jsx(t,{align:"center",sx:{color:"red",...r},dangerouslySetInnerHTML:{__html:n.Text9}}),e.jsx(t,{align:"center",sx:{color:"red",...r},dangerouslySetInnerHTML:{__html:n.Text10}}),e.jsx(t,{align:"center",sx:{color:"red",...r},dangerouslySetInnerHTML:{__html:n.Text11}}),e.jsx(t,{align:"center",sx:{color:"red",...r},dangerouslySetInnerHTML:{__html:n.Text12}}),e.jsx(t,{align:"center",sx:{color:"red",...r},dangerouslySetInnerHTML:{__html:n.Text13}}),e.jsx(t,{align:"center",sx:{color:"red",...r},dangerouslySetInnerHTML:{__html:n.Text14}}),e.jsx(t,{align:"center",scope:"row",dangerouslySetInnerHTML:{__html:n.Text15},sx:{fontWeight:"bold",width:"200px",color:"red",...r}}),e.jsx(t,{align:"center",dangerouslySetInnerHTML:{__html:n.Text16},sx:{fontWeight:"bold",width:"200px",color:"red",...r}}),e.jsx(t,{align:"center",dangerouslySetInnerHTML:{__html:n.Text17},sx:{color:"red",fontWeight:"bold",...r}})]})},x)}))}),e.jsx(B,{open:u,onClose:l,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsx(ee,{data:g})})]})})})})})}const oe=()=>{let{selectClasstecahernew:a,AssignedDate:c}=G();a=I(a),c=I(c);const g=Number(localStorage.getItem("localSchoolId")),_=Number(sessionStorage.getItem("AcademicYearId"));z();const u=K();Number(sessionStorage.getItem("StudentId"));const p=e.jsxs("span",{children:["Displays list of students along with their month wise attendance. Attendance is given in following format.",e.jsx("br",{}),"Number of days present / Total attendance days."]}),l=f(s=>s.MonthwiseAttendance.GetMonthwiseAttendance),n=f(s=>s.MonthwiseAttendance.HeaderArray),[x,T]=o.useState(!0),[y,b]=o.useState(""),[C,i]=o.useState([l]),A={asSchoolId:g,asAcademicyearId:_,asStanardDivisionId:Number(a)},j=()=>{i(y===""?l:l.filter(s=>s.Text2.toLowerCase().includes(y.toLowerCase())))},v=s=>{b(s)};o.useEffect(()=>{u($(A))},[]),o.useEffect(()=>{i(l)},[l]);const W=()=>{b(""),i(l)},F=[{id:1,Name:"Student below 75% of attendance",Value:e.jsx(d,{sx:{display:"flex",gap:1,alignItems:"center"},children:e.jsx(d,{sx:{width:23,height:23,backgroundColor:"red",border:"1px solid black"}})})}];return e.jsx(e.Fragment,{children:e.jsxs(d,{sx:{px:2},children:[e.jsx(P,{navLinks:[{title:"Attendance",path:"/RITeSchool/Teacher/TAttendance/"+w(a)+"/"+w(c)},{title:"Month Wise Attendance",path:""}],rightActions:e.jsx(e.Fragment,{children:e.jsxs(U,{direction:{xs:"row",sm:"row"},spacing:1,alignItems:"center",justifyContent:"flex-end",sx:{width:"100%",flexWrap:{xs:"nowrap",sm:"nowrap"}},children:[e.jsxs(Y,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:[e.jsx(q,{sx:{width:{xs:"60vw",sm:"15vw"}},fullWidth:!0,label:"Student Name",value:y,variant:"outlined",size:"small",onChange:s=>{v(s.target.value)},onKeyDown:s=>{(s.key==="Enter"||s.key==="Tab")&&j()}})," "]}),e.jsx(M,{title:"search",children:e.jsx(m,{sx:{background:s=>s.palette.primary.main,color:"white","&:hover":{backgroundColor:s=>s.palette.primary.dark}},onClick:()=>{T(!x),j()},onKeyDown:s=>{(s.key==="Enter"||s.key==="Tab")&&j()},color:"primary","aria-label":"directions",children:e.jsx(V,{})})}),e.jsx(M,{title:"Reset",children:e.jsx(m,{sx:{color:"white",backgroundColor:L[500],":hover":{backgroundColor:L[600]}},onClick:W,children:e.jsx(J,{})})}),e.jsx(Q,{title:p,children:e.jsx(m,{sx:{color:"white",backgroundColor:H[500],":hover":{backgroundColor:H[600]}},children:e.jsx(O,{})})})]})})}),e.jsx(d,{sx:{background:"white",p:1,mb:2},children:e.jsx(X,{LegendArray:F})}),e.jsx(te,{ItemList:C,HeaderArray:n})]})})};export{oe as default};
