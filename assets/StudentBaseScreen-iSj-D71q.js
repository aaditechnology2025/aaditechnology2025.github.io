import{cj as _,j as t,u as ne,A as oe,r as s,c as y,nw as ae,nx as re,B as a,F as ie,p as B,G as le,q as de,hh as ce,H as T,I as m,T as M,ai as xe,aj as he,ak as ue,al as z,am as n,an as pe,as as b,ay as ge,ny as Se}from"./index-d5YOjbb6.js";import{d as fe}from"./ArrowCircleUp-BmCXupv-.js";import{L as je}from"./Legend-p9-_07Am.js";import{Q as Ie}from"./QuestionMark-C2Y4lgD8.js";import{E as Te}from"./EditTwoTone-BkGGZSzA.js";const me=_(t.jsx("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"}),"Done"),be=_(t.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),F=_(t.jsx("path",{d:"M3 3h18v18H3z"}),"Square"),_e=()=>{var A;const u=ne(),G=oe(),[d,D]=s.useState("0"),[p,v]=s.useState("0"),[g,C]=s.useState("0"),[W,N]=s.useState("0"),[w,H]=s.useState("Roll_No"),[S,E]=s.useState(!0),[c,L]=s.useState(1),[x,Y]=s.useState(0),[R,$]=s.useState("Roll_No"),[r,U]=s.useState(20),q=[20,50,100,200],J=(c-1)*r+1,P=Math.min(c*r,x),V=Math.ceil(x/r),f=localStorage.getItem("SchoolId"),j=sessionStorage.getItem("AcademicYearId"),k=sessionStorage.getItem("TeacherId"),o=y(e=>e.Students.ISRGetStdDivForTeacher),h=y(e=>e.Students.ISGetStudentsList);y(e=>e.Students.Loading),s.useEffect(()=>{if(o.length>1){const e=o[0];D(e.Id),v(e.DivisionId),C(e.StandardId),N(e.SchoolStdDivId)}},[o]),s.useEffect(()=>{const e={asSchoolId:Number(f),asAcademic_Year_Id:Number(j),asTeacher_Id:Number(k)};u(ae(e))},[u,f,j,k]),s.useEffect(()=>{const e={asSchoolId:Number(f),asAcadmicYearId:Number(j),asStandard_Id:Number(g),asDivision_Id:Number(p),asSchoolWise_Standard_Division_Id:Number(W),asStartIndex:(c-1)*r,asEndIndex:c*r,asSortExpression:`${w} ${S?"ASC":"DESC"}`};d!=null&&d!=="0"&&u(re(e))},[u,d,w,S,c,r,f,j,g,p,W]),s.useEffect(()=>{if(h.length>0){let e=Number(h[0].Text9);Y(e)}},[h]),s.useEffect(()=>{if(o.length===1){let e=o[0];D(e.Id),v(e.DivisionId),C(e.StandardId),N(e.SchoolStdDivId)}},[o]);function Q(e){D(e.Id),v(e.DivisionId),C(e.StandardId),N(e.SchoolStdDivId)}const O=e=>{w===e?E(!S):(H(e),E(!0))},K=e=>{let i=Se(e==null?void 0:e.split(" ")[0]);const[l,se,De]=i.split(" ");return`Left on ${se} ${l}`},X=e=>{U(parseInt(e.target.value,10)),L(1)},Z=e=>{L(e)},I=({column:e,label:i})=>{const l=R===e;return t.jsxs("span",{style:{display:"inline-flex",alignItems:"center",cursor:"pointer"},onClick:()=>{O(e),$(e)},children:[i,l&&t.jsx(fe,{sx:{fontSize:"24px",marginLeft:"4px",rotate:S&&R===e?"0deg":"180deg"}})]})},ee=e=>{const i={Name:e.Text1,standardId:g,DivisionId:p,YearWise_Student_Id:e.Text12,SchoolWise_Student_Id:e.Text13,StandardDivision_Id:e.Text14,Enrolment_Number:e.Text3,NewMode:"N",Joining_Date:e.Text15,User_Id:e.Text16,IsStudntDtailsScrn:!1};localStorage.setItem("studentData",JSON.stringify(i)),G("/RITeSchool/Teacher/StudentRegistrationForms",{state:{Name:e.Text1,standardId:g,DivisionId:p,YearWise_Student_Id:e.Text12,SchoolWise_Student_Id:e.Text13,StandardDivision_Id:e.Text14,Enrolment_Number:e.Text3,NewMode:"N",Joining_Date:e.Text15,User_Id:e.Text16,fromInternal:!0,IsStudntDtailsScrn:!1}})},te=[{id:1,Name:"Deactivated User",Value:t.jsx(F,{style:{color:"#e2e8f0",fontSize:25,position:"relative",top:"-2px"}})},{id:2,Name:"Long Leave",Value:t.jsx(F,{style:{color:"#dbeafe",fontSize:25,position:"relative",top:"-2px"}})}];return t.jsxs(a,{sx:{px:2},children:[t.jsx(ie,{navLinks:[{title:"Students",path:""}],rightActions:t.jsx(t.Fragment,{children:t.jsxs(B,{direction:"row",gap:1,alignItems:"right",sx:{flexWrap:{xs:"wrap",sm:"nowrap"},justifyContent:{xs:"flex-start",sm:"flex-start"}},children:[t.jsx(le,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-end"},children:o.length===1?t.jsx(de,{size:"small",label:"Class",value:(A=o[0])==null?void 0:A.Name,inputProps:{readOnly:!0}}):t.jsx(ce,{size:"small",ItemList:o,sx:{minWidth:"12vw"},defaultValue:d,label:"Class",onChange:e=>{Q(e)}})}),t.jsx(B,{direction:"row",gap:1,alignItems:"right",sx:{flexWrap:{xs:"wrap",sm:"nowrap"},justifyContent:{xs:"flex-start",sm:"flex-start"}},children:t.jsx(a,{children:t.jsx(T,{title:`Student's list from your class. Click on "Edit" button to change details of individual student.`,children:t.jsx(m,{sx:{bgcolor:"grey.500",color:"white","&:hover":{bgcolor:"grey.600"}},children:t.jsx(Ie,{})})})})})]})})}),t.jsx(a,{sx:{background:"white",p:1,mb:2},children:t.jsx(je,{LegendArray:te})}),d!=="0"&&t.jsx(t.Fragment,{children:h.length>0?t.jsx(t.Fragment,{children:t.jsxs(a,{sx:{background:"white",pt:1},children:[x>0?t.jsx("div",{style:{flex:1,textAlign:"center"},children:t.jsxs(M,{variant:"subtitle1",sx:{margin:"16px 0",textAlign:"center"},children:[t.jsxs(a,{component:"span",fontWeight:"fontWeightBold",children:[J," to ",P]})," ","out of"," ",t.jsx(a,{component:"span",fontWeight:"fontWeightBold",children:x})," ",x===1?"record":"records"]})}):t.jsx("span",{children:" "}),t.jsxs(xe,{component:a,sx:{px:2,pb:2},children:[t.jsxs(he,{"aria-label":"simple table",sx:{border:e=>`1px solid ${e.palette.divider}`},children:[t.jsx(ue,{children:t.jsxs(z,{sx:{background:e=>e.palette.secondary.main},children:[t.jsx(n,{align:"left",sx:{color:e=>e.palette.common.white,fontWeight:600},children:t.jsx(I,{column:"Enrolment_Number",label:"Registration Number"})}),t.jsx(n,{align:"center",sx:{color:e=>e.palette.common.white,fontWeight:600},children:t.jsx(I,{column:"Roll_No",label:"Roll No."})}),t.jsx(n,{align:"left",sx:{color:e=>e.palette.common.white,fontWeight:600},children:t.jsx(I,{column:"Name",label:"Student Name"})}),t.jsx(n,{align:"left",sx:{color:e=>e.palette.common.white,fontWeight:600},children:t.jsx(I,{column:"DOB",label:"Date of Birth"})}),t.jsx(n,{align:"center",sx:{color:e=>e.palette.common.white,fontWeight:600},children:"Edit"}),t.jsx(n,{align:"center",sx:{color:e=>e.palette.common.white,fontWeight:600},children:"Photo"})]})}),t.jsx(pe,{children:h.map((e,i)=>t.jsxs(z,{sx:{backgroundColor:e.Text10!=="0"&&e.Text7===""?"#dbeafe":e.Text11!=="N"?"#e2e8f0":"inherit"},children:[t.jsx(n,{sx:{pt:"5px",pb:"5px",color:e.Text7!==""?b[500]:"",fontWeight:e.Text10!=="0"&&e.Text7===""?700:"inherit"},children:e.Text3}),t.jsx(n,{align:"center",sx:{pt:"5px",pb:"5px",color:e.Text7!==""?b[500]:"",fontWeight:e.Text10!=="0"&&e.Text7===""?700:"inherit"},children:e.Text2}),t.jsx(n,{sx:{pt:"5px",pb:"5px",color:e.Text7!==""?b[500]:"",fontWeight:e.Text10!=="0"&&e.Text7===""?700:"inherit"},children:e.Text1}),t.jsx(n,{sx:{pt:"5px",pb:"5px",color:e.Text7!==""?b[500]:"",fontWeight:e.Text10!=="0"&&e.Text7===""?700:"inherit"},children:e.Text4}),t.jsx(n,{align:"center",sx:{pt:"5px",pb:"5px"},children:e.Text7!==""?t.jsx("span",{style:{cursor:"pointer",textDecoration:"none",fontWeight:e.Text10!=="0"&&e.Text7===""?700:"inherit"},onMouseEnter:l=>l.currentTarget.style.textDecoration="underline",onMouseLeave:l=>l.currentTarget.style.textDecoration="none",children:K(e.Text7)}):t.jsx(m,{children:t.jsx(T,{title:"Edit",children:t.jsx(Te,{sx:{cursor:"pointer","&:hover":{backgroundColor:""}},onClick:()=>ee(e)})})})}),t.jsx(n,{align:"center",sx:{pt:"5px",pb:"5px"},children:e.Text8===""?t.jsx(m,{sx:{borderRadius:"50%"},children:t.jsx(T,{title:"No Photo",children:t.jsx(be,{sx:{color:"grey.500"}})})}):t.jsx(m,{sx:{borderRadius:"50%"},children:t.jsx(T,{title:"Photo Uploaded",children:t.jsx(me,{sx:{color:"green"}})})})})]},i))})]}),P>19?t.jsx(ge,{rowsPerPage:r,ChangeRowsPerPage:X,rowsPerPageOptions:q,PageChange:Z,pagecount:V}):t.jsx("span",{})]})]})}):t.jsx(a,{sx:{backgroundColor:"#D2FDFC"},children:t.jsx(M,{variant:"h6",align:"center",color:"blue",sx:{textAlign:"center",marginTop:1,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white"},children:"No record found."})})})]})};export{_e as default};
