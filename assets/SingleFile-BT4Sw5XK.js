import{S as k,r as m,j as e,G as c,H as h,a8 as $,p as R,bw as _,B as M,I as E,ab as T,as as V,at as z,T as A,bx as G}from"./index-d5YOjbb6.js";import{d as L}from"./CloudUpload-DJN1zp2n.js";import{E as O}from"./Errormessage-RPRSgLGN.js";const F=(s,l,o)=>{var i;const x=(i=s==null?void 0:s.name)==null?void 0:i.split(".").at(-1),d=l.map(t=>t.toLowerCase());return!x||!d.includes(x.toLowerCase())?"Invalid file format.":(s==null?void 0:s.size)>o?`File size should be less than ${o/1e6} MB.`:null},J=({ValidFileTypes:s,MaxfileSize:l,ChangeFile:o,errorMessage:x="",clickDelete:d=void 0,clickFileName:i=void 0,FileName:t="",FilePath:w="",width:v="300px",viewIcon:C=!1,deleteIcon:b=!1,FileLabel:j="",isMandatory:I=!0,height:S="auto"})=>{k();const p=m.useRef(null),[u,y]=m.useState("");m.useEffect(()=>{t===""&&(p.current.value=null)},[t]);const B=async a=>{const n=a.target.files;for(let r=0;r<n.length;r++){const f=F(n[r],s,l);if(f)y(f),o({Name:"",Value:"",FileExtension:"",ErrorMsg:f}),p.current.value=null;else{const g=await G(n[r]);y(""),o({Name:n[r].name,Value:g.slice(g.indexOf(",")+1),FileExtension:n[r].name.split(".").at(-1),ErrorMsg:""})}}};return e.jsxs(c,{container:!0,children:[e.jsxs(c,{item:!0,xs:9,sm:12,md:12,lg:12,sx:{display:"flex",alignItems:u?"flex-start":"center",justifyContent:"left",height:"auto"},children:[e.jsx(h,{title:"Supports only "+s.join(", ")+" file types up to "+l/1e6+" MB.",children:e.jsx($,{sx:{width:v,height:S,border:a=>`1px dashed ${a.colors.primary.main}`,gap:1,position:"relative",display:"flex",alignItems:"center",justifyContent:"space-between"},color:"primary",children:e.jsxs(R,{direction:"row",alignItems:"center",gap:1,sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[t?e.jsx(_,{}):e.jsx(L,{}),t===""?j||"Attachment":t,I&&e.jsx("span",{style:{color:"red"},children:"*"}),e.jsx(M,{sx:{textAlign:"center"},children:e.jsx("input",{ref:p,type:"file",onChange:B,style:{opacity:0,position:"absolute",top:0,left:0,right:0,bottom:0,cursor:"pointer"}})})]})})}),w!==""&&e.jsxs(c,{item:!0,xs:3,sm:3,md:3,sx:{display:"flex",ml:1},children:[C&&e.jsx(h,{title:"View",children:e.jsx(E,{color:"primary",onClick:i,children:e.jsx(T,{style:{fontSize:30}})})}),b&&e.jsx(h,{title:"Delete",children:e.jsx(E,{sx:{"&:hover":{color:"red",backgroundColor:V[100]}},onClick:d,children:e.jsx(z,{style:{fontSize:30}})})})]})]}),u&&e.jsx(c,{item:!0,xs:12,sx:{display:"flex",alignItems:"flex-start",justifyContent:"flex-start",pt:2},children:e.jsx(A,{sx:{ml:0},children:e.jsx(O,{Error:u})})})]})};export{J as S};
