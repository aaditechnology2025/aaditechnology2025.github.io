import{u as Y,w as P,x as u,c,r as o,bG as j,bk as w,j as t,B as g,F as D,n as M}from"./index-d5YOjbb6.js";import{L as N}from"./List1-CMmC98bZ.js";import{M as C}from"./MonthYearselector-X1XPpDRF.js";import"./Attachment-DgcWq5kr.js";import"./Dropdown-Bt3qBn1S.js";function B(){const d=Y();let{Month:a,Year:n}=P();a=u(a),n=u(n);const b=c(e=>e.Dashboard.PhotoAlbumList),I=c(e=>e.Dashboard.Loading),p=c(e=>e.PhotoGalllary.YearList),h=localStorage.getItem("localSchoolId"),m=sessionStorage.getItem("Id"),x=sessionStorage.getItem("RoleId"),[s,l]=o.useState(0),[r,i]=o.useState(0);o.useEffect(()=>{localStorage.setItem("url",window.location.pathname),a!==void 0?(l(Number(a)),i(Number(n))):(l(new Date().getMonth()+1),i(new Date().getFullYear()));const e={asSchoolId:Number(h),asUserId:Number(m),asUserRoleId:Number(x)};d(j(e))},[]);const S=e=>{l(e)},L=e=>{i(e)},[f,y]=o.useState(!0);return o.useEffect(()=>{if(s>0){const e={aiSchoolId:Number(h),aiMonth:s,aiYear:r,aiUserId:Number(m),iFirstLoad:f};d(w(e))}},[r,s]),t.jsxs(g,{sx:{px:2},children:[t.jsx(D,{navLinks:[{title:"Photo Gallery",path:""}]}),t.jsxs(g,{sx:{background:"white",p:2},children:[t.jsx(C,{month:s,onChange:S,year:r,YearData:p,newChange:L}),I?t.jsx(M,{}):t.jsx(N,{items:b,SelectedMonth:s,SelectedYear:r})]})]})}export{B as default};
