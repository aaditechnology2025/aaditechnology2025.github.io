import{u as U,w as q,x as i,cz as n,r as j,k$ as K,l0 as Q,j as e,p as f,L as X,B as a,bv as Z,T as D,m as C,G as d,q as y,H as k,I as F,J as W,K as ee}from"./index-d5YOjbb6.js";import{d as se}from"./PriorityHigh-Co3aw9FH.js";import{D as te}from"./index-CUnmri7Y.js";import{L as re}from"./Legend-p9-_07Am.js";import{G as P,S as B,B as A}from"./silver-medal-Co1Ddjhs.js";import{T as le}from"./TAttendanceCommonPageheader-Ba_1Sm6K.js";import{y as E}from"./yellow-BQYah5ZS.js";const xe=()=>{const I=U();let{SubjectId:x,TestId:c,StandardDivisionId:u,getExamName:p,getTeacherName:g,getSubjectName:b}=q();x=i(x),c=i(c),u=i(u),p=i(p),g=i(g),b=i(b);const M=localStorage.getItem("localSchoolId"),T=sessionStorage.getItem("AcademicYearId"),R="Displays brief mark list with toppers for selected class-subject.",G="To view the student name take your cursor on the roll number.";n(s=>s.SubjectMarkList.listTestMark);const h=n(s=>s.SubjectMarkList.HeaderListTestMark),S=n(s=>s.SubjectMarkList.listTestMarkNew);n(s=>s.SubjectMarkList.HeaderList),n(s=>s.SubjectMarkList.StudentNameMouseOver),n(s=>s.SubjectMarkList.legend),n(s=>s.SubjectMarkList.ThreeToppersList);const O={asSchoolId:Number(M),asStandardDivision_Id:Number(u),asSubject_Id:Number(x),asTestId:Number(c),asAcademicYearID:Number(T),asShowTotalAsPerOutOfMarks:"Y"},z={asAcademicYearID:Number(T),asSchoolId:Number(M),asStandardDivision_Id:Number(u),asSubject_Id:Number(x),asTestId:Number(c)};j.useEffect(()=>{I(K(z))},[]),j.useEffect(()=>{I(Q(O))},[]);const _=s=>{let r=s.toString();return r.length<2&&(r="0"+r+" "),r},V=j.useMemo(()=>{const s=[{id:"rollNo",label:"Roll No.",renderCell:t=>e.jsxs(f,{direction:"row",alignItems:"center",gap:2,children:[t.rollNo&&e.jsx(k,{title:t.MoueOverText1!=null?t.MoueOverText1:"",children:e.jsx("span",{children:_(t.rollNo)})}),t.rank==="1"&&e.jsx("img",{src:P,alt:"Gold Medal",height:20}),t.rank==="2"&&e.jsx("img",{src:B,alt:"Silver Medal",height:20}),t.rank==="3"&&e.jsx("img",{src:A,alt:"Bronze Medal",height:20})]})}];if(!h.length)return s;const r=h.map((t,l)=>({id:`theory_${l}`,label:t.substring(0,1),renderCell:o=>e.jsx(f,{direction:"row",alignItems:"center",gap:2,children:o.Marks[l].theoryType?e.jsxs(e.Fragment,{children:[o.Marks[l].theoryType==="Ex"&&e.jsx("span",{style:{color:"brown",fontWeight:"bold"},children:o.Marks[l].theoryType}),o.Marks[l].theoryType==="-"&&e.jsx("span",{style:{color:"green",fontWeight:"bold",backgroundColor:X[100],margin:"0px",paddingLeft:"5px",paddingRight:"5px"},children:o.Marks[l].theoryType}),o.Marks[l].theoryType==="Ab"&&e.jsx("span",{style:{color:"red",fontWeight:"bold"},children:o.Marks[l].theoryType})]}):e.jsx("span",{children:parseFloat(o.Marks[l].theory)})})})),J=[{id:"total",label:"Total",renderCell:t=>e.jsx("span",{children:parseFloat(t.total)})}];return[...s,...r,...J]},[h]);let H=S.length,m=10,v=Math.ceil(H/m),N=0,L=m-1,w=[];for(let s=0;s<v;s++)w.push({startIndex:N,endIndex:L}),N+=m,L+=m;let Y=12/v;const $=[...h.map((s,r)=>({id:1,Name:"",color:"blue",fontWeight:"bold",Value:e.jsx(a,{sx:{display:"flex",gap:1,alignItems:"center"},children:e.jsxs("span",{style:{color:Z[300],fontWeight:"bold"},children:[s.substring(0,1)," : ",s]})})})),{id:2,Name:"Absent",color:"red",fontWeight:"bold",Value:e.jsx(a,{sx:{display:"flex",gap:1,alignItems:"center"},children:e.jsx("span",{style:{color:"red",fontWeight:"bold"},children:"Ab :"})})},{id:3,Name:"Exempted",color:"brown",fontWeight:"bold",Value:e.jsx(a,{sx:{display:"flex",gap:1,alignItems:"center"},children:e.jsx("span",{style:{color:"brown",fontWeight:"bold"},children:"Ex :"})})},{id:4,Name:"Late Joinee",color:"green",fontWeight:"bold",Value:e.jsx(a,{sx:{display:"flex",gap:1,alignItems:"center"},children:e.jsx("span",{style:{color:"green",fontWeight:"bold"},children:"- :"})})},{id:5,Name:"",color:"black",Value:e.jsxs(a,{sx:{display:"flex",gap:1,alignItems:"center"},children:[e.jsx(D,{variant:"h5",children:"Toppers of the class :"}),e.jsx("img",{src:P,alt:"Gold Medal",width:17}),e.jsx("img",{src:B,alt:"Silver Medal",width:17}),e.jsx("img",{src:A,alt:"Bronze Medal",width:17})]})}];return e.jsx(e.Fragment,{children:e.jsxs(a,{sx:{px:2},children:[e.jsx(le,{navLinks:[{title:"Exam Result",path:"/RITeSchool/Teacher/ExamResultBase/"+C(u)+"/"+C(c)},{title:"Subject Mark List",path:""}],rightActions:e.jsx(e.Fragment,{children:e.jsxs(f,{direction:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:"left",gap:1,sx:{mt:{xs:0,sm:0},flexWrap:{xs:"nowrap",sm:"nowrap"}},children:[e.jsx(d,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:e.jsx(y,{fullWidth:!0,label:"Class",InputLabelProps:{shrink:!0},sx:{bgcolor:"#F0F0F0",width:{xs:"15vw",sm:"8vw",md:"8vw"},"& .MuiInputBase-input":{cursor:"default"}},value:g,size:"small",InputProps:{readOnly:!0}})}),e.jsx(d,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:e.jsx(y,{fullWidth:!0,label:"Subject Name",InputLabelProps:{shrink:!0},sx:{bgcolor:"#F0F0F0",width:{xs:"60vw",sm:"15vw",md:"15vw"},"& .MuiInputBase-input":{cursor:"default"}},value:b,size:"small",InputProps:{readOnly:!0}})}),e.jsx(d,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:e.jsx(y,{fullWidth:!0,label:"Exam ",InputLabelProps:{shrink:!0},sx:{bgcolor:"#F0F0F0",width:{xs:"60vw",sm:"25vw",md:"20vw",lg:"18vw"},"& .MuiInputBase-input":{cursor:"default"}},value:p,size:"small",InputProps:{readOnly:!0}})}),e.jsxs(d,{item:!0,xs:12,gap:1,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-end"},children:[e.jsx(k,{placement:"bottom-end",title:G,children:e.jsx(F,{sx:{color:"white",backgroundColor:E[700],"&:hover":{backgroundColor:E[800]}},children:e.jsx(se,{})})}),e.jsx(k,{placement:"bottom-end",title:R,children:e.jsx(F,{sx:{color:"white",backgroundColor:W[500],"&:hover":{backgroundColor:W[500]}},children:e.jsx(ee,{})})})]})]})})}),e.jsxs(a,{children:[e.jsx(a,{sx:{background:"white",p:1,mb:2},children:e.jsx(re,{LegendArray:$})}),e.jsx(a,{sx:{p:2,background:"white"},children:e.jsx(d,{container:!0,spacing:2,children:w.map(s=>e.jsx(d,{item:!0,xs:Y,children:e.jsx(te,{columns:V,data:S.filter(r=>r.Index>=s.startIndex&&r.Index<=s.endIndex),isPagination:!1})}))})})]})]})})};export{xe as default};
